/*! For license information please see main.e416e484.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},823:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},758:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(791));var i=r(n(649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var u=(0,i.default)((0,a.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub");t.Z=u},310:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}r.default=e,n&&n.set(e,r)}(n(791));var i=r(n(649)),a=n(184);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var u=(0,i.default)((0,a.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");t.Z=u},8:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(213)},213:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return Lr},debounce:function(){return Mr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return jr},ownerDocument:function(){return Vr},ownerWindow:function(){return zr},requirePropFactory:function(){return Br},setRef:function(){return Hr},unstable_ClassNameGenerator:function(){return ci},unstable_useEnhancedEffect:function(){return Kr},unstable_useId:function(){return Qr},unsupportedProp:function(){return Yr},useControlled:function(){return $r},useEventCallback:function(){return Xr},useForkRef:function(){return ei},useIsFocusVisible:function(){return si}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(462),l=n(791),f=n.t(l,2);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function v(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function m(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return m(e)&&m(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(m(t[i])&&i in e&&m(e[i])?r[i]=y(e[i],t[i],n):r[i]=t[i])})),r}var g=n(942),k=["values","unit","step"];function b(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,k),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,g.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,c.Z)({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var w={borderRadius:4},x=n(439),_={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(_[e],"px)")}};function E(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||_).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function S(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function T(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function C(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function N(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:C(e,n)||i,t&&(r=t(r)),r}var A=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=C(e.theme,i)||{};return E(e,n,(function(e){var n=N(u,a,e);return e===n&&"string"===typeof e&&(n=N(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,g.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var O=function(e,t){return t?y(e,t,{clone:!1}):e};var P={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!D[e])return[e];e=D[e]}var t=e.split(""),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=P[r],o=R[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),M=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],j=[].concat(M,F);function U(e,t,n,r){var i=C(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function V(e){return U(e,"spacing",8)}function z(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function B(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=z(t,n),e}),{})}}(L(n),r);return E(e,e[n],i)}function q(e,t){var n=V(e.theme);return Object.keys(e).map((function(r){return B(e,t,r,n)})).reduce(O,{})}function H(e){return q(e,M)}function W(e){return q(e,F)}function K(e){return q(e,j)}H.propTypes={},H.filterProps=M,W.propTypes={},W.filterProps=F,K.propTypes={},K.filterProps=j;var Z=K;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=V({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Q=["breakpoints","palette","spacing","shape"];var Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=h(e,Q),l=b(n),f=G(a),d=y({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:f,shape:(0,c.Z)({},w,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return y(e,t)}),d)};var $=l.createContext(null);function X(){return l.useContext($)}function J(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=X();return!t||J(t)?e:t},te=Y();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t,n){var r;return(0,c.Z)({toolbar:(r={minHeight:56},(0,g.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,g.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ae(e){if(e.type)return e;if("#"===e.charAt(0))return ae(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ue(e){var t="hsl"===(e=ae(e)).type?ae(function(e){var t=(e=ae(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function se(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return oe(e)}function ce(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return oe(e)}var le={black:"#000",white:"#fff"},fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},he={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},me={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ye={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ge=["mode","contrastThreshold","tonalOffset"],ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:le.white,default:le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},be={text:{primary:le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ce(e.main,i):"dark"===t&&(e.dark=se(e.main,a)))}function xe(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=h(e,ge),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[200],light:ve[50],dark:ve[400]}:{main:ve[700],light:ve[400],dark:ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[500],light:he[300],dark:he[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[400],light:me[300],dark:me[700]}:{main:me[700],light:me[500],dark:me[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[800],light:ye[500],dark:ye[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function g(e){var t=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,be.text.primary)>=i?be.text.primary:ke.text.primary;return t}var k=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",s,u),we(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:be,light:ke};return y((0,c.Z)({common:le,mode:n,primary:k({color:l,name:"primary"}),secondary:k({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:m,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:v,name:"success"}),grey:fe,contrastThreshold:i,getContrastText:g,augmentColor:k,tonalOffset:u},b[n]),s)}var _e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ie={textTransform:"uppercase"},Ee='"Roboto", "Helvetica", "Arial", sans-serif';function Se(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ee:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=h(n,_e);var _=o/14,I=w||function(e){return"".concat(e/k*_,"rem")},E=function(e,t,n,r,a){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:I(t),lineHeight:n},i===Ee?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},S={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,Ie),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,Ie)};return y((0,c.Z)({htmlFontSize:k,pxToRem:I,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},S),x,{clone:!1})}function Te(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ce=["none",Te(0,2,1,-1,0,1,1,0,0,1,3,0),Te(0,3,1,-2,0,2,2,0,0,1,5,0),Te(0,3,3,-2,0,3,4,0,0,1,8,0),Te(0,2,4,-1,0,4,5,0,0,1,10,0),Te(0,3,5,-1,0,5,8,0,0,1,14,0),Te(0,3,5,-1,0,6,10,0,0,1,18,0),Te(0,4,5,-2,0,7,10,1,0,2,16,1),Te(0,5,5,-3,0,8,10,1,0,3,14,2),Te(0,5,6,-3,0,9,12,1,0,3,16,2),Te(0,6,6,-3,0,10,14,1,0,4,18,3),Te(0,6,7,-4,0,11,15,1,0,4,20,3),Te(0,7,8,-4,0,12,17,2,0,5,22,4),Te(0,7,8,-4,0,13,19,2,0,5,24,4),Te(0,7,9,-4,0,14,21,2,0,5,26,4),Te(0,8,9,-5,0,15,22,2,0,6,28,5),Te(0,8,10,-5,0,16,24,2,0,6,30,5),Te(0,8,11,-5,0,17,26,2,0,6,32,5),Te(0,9,11,-5,0,18,28,2,0,7,34,6),Te(0,9,12,-6,0,19,29,2,0,7,36,6),Te(0,10,13,-6,0,20,31,3,0,8,38,7),Te(0,10,13,-6,0,21,33,3,0,8,40,7),Te(0,10,14,-6,0,22,35,3,0,8,42,7),Te(0,11,14,-7,0,23,36,3,0,9,44,8),Te(0,11,15,-7,0,24,38,3,0,9,46,8)],Ne=["duration","easing","delay"],Ae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Pe(e){return"".concat(Math.round(e),"ms")}function Re(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function De(e){var t=(0,c.Z)({},Ae,e.easing),n=(0,c.Z)({},Oe,e.duration);return(0,c.Z)({getAutoHeightDuration:Re,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;h(r,Ne);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Pe(a)," ").concat(u," ").concat("string"===typeof c?c:Pe(c))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Me=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,l=h(e,Me),f=xe(i),d=Y(e),p=y(d,{mixins:re(d.breakpoints,d.spacing,n),palette:f,shadows:Ce.slice(),typography:Se(f,s),transitions:De(o),zIndex:(0,c.Z)({},Le)});p=y(p,l);for(var v=arguments.length,m=new Array(v>1?v-1:0),g=1;g<v;g++)m[g-1]=arguments[g];return p=m.reduce((function(e,t){return y(e,t)}),p)}var je=Fe();function Ue(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return v({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:je})}var Ve=n(433);var ze=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Be=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qe=ze((function(e){return Be.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var He=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),We=Math.abs,Ke=String.fromCharCode,Ze=Object.assign;function Ge(e){return e.trim()}function Qe(e,t,n){return e.replace(t,n)}function Ye(e,t){return e.indexOf(t)}function $e(e,t){return 0|e.charCodeAt(t)}function Xe(e,t,n){return e.slice(t,n)}function Je(e){return e.length}function et(e){return e.length}function tt(e,t){return t.push(e),e}var nt=1,rt=1,it=0,at=0,ot=0,ut="";function st(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:nt,column:rt,length:o,return:""}}function ct(e,t){return Ze(st("",null,null,"",null,null,0),e,{length:-e.length},t)}function lt(){return ot=at>0?$e(ut,--at):0,rt--,10===ot&&(rt=1,nt--),ot}function ft(){return ot=at<it?$e(ut,at++):0,rt++,10===ot&&(rt=1,nt++),ot}function ht(){return $e(ut,at)}function dt(){return at}function pt(e,t){return Xe(ut,e,t)}function vt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mt(e){return nt=rt=1,it=Je(ut=e),at=0,[]}function yt(e){return ut="",e}function gt(e){return Ge(pt(at-1,wt(91===e?e+2:40===e?e+1:e)))}function kt(e){for(;(ot=ht())&&ot<33;)ft();return vt(e)>2||vt(ot)>3?"":" "}function bt(e,t){for(;--t&&ft()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return pt(e,dt()+(t<6&&32==ht()&&32==ft()))}function wt(e){for(;ft();)switch(ot){case e:return at;case 34:case 39:34!==e&&39!==e&&wt(ot);break;case 40:41===e&&wt(e);break;case 92:ft()}return at}function xt(e,t){for(;ft()&&e+ot!==57&&(e+ot!==84||47!==ht()););return"/*"+pt(t,at-1)+"*"+Ke(47===e?e:ft())}function _t(e){for(;!vt(ht());)ft();return pt(e,at)}var It="-ms-",Et="-moz-",St="-webkit-",Tt="comm",Ct="rule",Nt="decl",At="@keyframes";function Ot(e,t){for(var n="",r=et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Pt(e,t,n,r){switch(e.type){case"@import":case Nt:return e.return=e.return||e.value;case Tt:return"";case At:return e.return=e.value+"{"+Ot(e.children,r)+"}";case Ct:e.value=e.props.join(",")}return Je(n=Ot(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rt(e,t){switch(function(e,t){return(((t<<2^$e(e,0))<<2^$e(e,1))<<2^$e(e,2))<<2^$e(e,3)}(e,t)){case 5103:return St+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return St+e+Et+e+It+e+e;case 6828:case 4268:return St+e+It+e+e;case 6165:return St+e+It+"flex-"+e+e;case 5187:return St+e+Qe(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return St+e+It+"flex-item-"+Qe(e,/flex-|-self/,"")+e;case 4675:return St+e+It+"flex-line-pack"+Qe(e,/align-content|flex-|-self/,"")+e;case 5548:return St+e+It+Qe(e,"shrink","negative")+e;case 5292:return St+e+It+Qe(e,"basis","preferred-size")+e;case 6060:return St+"box-"+Qe(e,"-grow","")+St+e+It+Qe(e,"grow","positive")+e;case 4554:return St+Qe(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Qe(Qe(Qe(e,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),e,"")+e;case 5495:case 3959:return Qe(e,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return Qe(Qe(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+e+e;case 4095:case 3583:case 4068:case 2532:return Qe(e,/(.+)-inline(.+)/,St+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Je(e)-1-t>6)switch($e(e,t+1)){case 109:if(45!==$e(e,t+4))break;case 102:return Qe(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Et+(108==$e(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch")?Rt(Qe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$e(e,t+1))break;case 6444:switch($e(e,Je(e)-3-(~Ye(e,"!important")&&10))){case 107:return Qe(e,":",":"+St)+e;case 101:return Qe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(45===$e(e,14)?"inline-":"")+"box$3$1"+St+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch($e(e,t+11)){case 114:return St+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return St+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return St+e+It+Qe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return St+e+It+e+e}return e}function Dt(e){return yt(Lt("",null,null,null,[""],e=mt(e),0,[0],e))}function Lt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=ft()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=Ye(_+=Qe(gt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=gt(g);break;case 9:case 10:case 13:case 32:_+=kt(p);break;case 92:_+=bt(dt()-1,7);continue;case 47:switch(ht()){case 42:case 47:tt(Ft(xt(ft(),dt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=Je(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&Je(_)-f&&tt(d>32?jt(_+";",r,n,f-1):jt(Qe(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(tt(x=Mt(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Lt(_,t,x,x,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Lt(e,x,x,r&&tt(Mt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Lt(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+Je(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==lt())continue;switch(_+=Ke(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(Je(_)-1)*y,y=1;break;case 64:45===ht()&&(_+=gt(ft())),h=ht(),l=f=Je(k=_+=_t(dt())),g++;break;case 45:45===p&&2==Je(_)&&(v=0)}}return a}function Mt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=et(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Xe(e,f+1,f=We(v=o[p])),k=e;y<d;++y)(k=Ge(v>0?h[y]+" "+g:Qe(g,/&\f/g,h[y])))&&(s[m++]=k);return st(e,t,n,0===i?Ct:u,s,c,l)}function Ft(e,t,n){return st(e,t,n,Tt,Ke(ot),Xe(e,2,-2),0)}function jt(e,t,n,r){return st(e,t,n,Nt,Xe(e,0,r),Xe(e,r+1,-1),r)}var Ut=function(e,t,n){for(var r=0,i=0;r=i,i=ht(),38===r&&12===i&&(t[n]=1),!vt(i);)ft();return pt(e,at)},Vt=function(e,t){return yt(function(e,t){var n=-1,r=44;do{switch(vt(r)){case 0:38===r&&12===ht()&&(t[n]=1),e[n]+=Ut(at-1,t,n);break;case 2:e[n]+=gt(r);break;case 4:if(44===r){e[++n]=58===ht()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ke(r)}}while(r=ft());return e}(mt(e),t))},zt=new WeakMap,Bt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||zt.get(n))&&!r){zt.set(e,!0);for(var i=[],a=Vt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},qt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ht=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Nt:e.return=Rt(e.value,e.length);break;case At:return Ot([ct(e,{value:Qe(e.value,"@","@"+St)})],r);case Ct:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ot([ct(e,{props:[Qe(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ot([ct(e,{props:[Qe(t,/:(plac\w+)/,":-webkit-input-$1")]}),ct(e,{props:[Qe(t,/:(plac\w+)/,":-moz-$1")]}),ct(e,{props:[Qe(t,/:(plac\w+)/,It+"input-$1")]})],r)}return""}))}}],Wt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ht;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Pt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=et(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Bt,qt].concat(r,l));a=function(e,t,n,r){s=n,Ot(Dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new He({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Kt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Zt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gt=/[A-Z]|^ms/g,Qt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(e){return 45===e.charCodeAt(1)},$t=function(e){return null!=e&&"boolean"!==typeof e},Xt=ze((function(e){return Yt(e)?e:e.replace(Gt,"-$&").toLowerCase()})),Jt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Qt,(function(e,t,n){return tn={name:t,styles:n,next:tn},t}))}return 1===Zt[e]||Yt(e)||"number"!==typeof t||0===t?t:t+"px"};function en(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tn={name:n.name,styles:n.styles,next:tn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tn={name:r.name,styles:r.styles,next:tn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=en(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":$t(o)&&(r+=Xt(a)+":"+Jt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=en(e,t,o);switch(a){case"animation":case"animationName":r+=Xt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)$t(o[s])&&(r+=Xt(a)+":"+Jt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tn,a=n(e);return tn=i,en(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var tn,nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=en(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=en(n,t,e[o]),r&&(i+=a[o]);nn.lastIndex=0;for(var u,s="";null!==(u=nn.exec(i));)s+="-"+u[1];return{name:Kt(i)+s,styles:i,next:tn}},an=(0,l.createContext)("undefined"!==typeof HTMLElement?Wt({key:"css"}):null);an.Provider;var on=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(an);return e(t,r,n)}))},un=(0,l.createContext)({});f.useInsertionEffect&&f.useInsertionEffect;function sn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var cn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ln=qe,fn=function(e){return"theme"!==e},hn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ln:fn},dn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pn=f.useInsertionEffect?f.useInsertionEffect:function(e){e()};var vn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;cn(t,n,r);var i;i=function(){return function(e,t,n){cn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},pn(i);return null},mn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=dn(t,n,a),s=u||hn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=on((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,l.useContext)(un)}"string"===typeof e.className?a=sn(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=rn(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?hn(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(vn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,l.createElement)(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:dn(m,r,!0)})).apply(void 0,d)},m}},yn=mn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){yn[e]=yn(e)}));var gn=yn;function kn(e,t){return gn(e,t)}var bn=["variant"];function wn(e){return 0===e.length}function xn(e){var t=e.variant,n=h(e,bn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?wn(r)?e[t]:o(e[t]):"".concat(wn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var _n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?O(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function In(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var En=A({prop:"border",themeKey:"borders",transform:In}),Sn=A({prop:"borderTop",themeKey:"borders",transform:In}),Tn=A({prop:"borderRight",themeKey:"borders",transform:In}),Cn=A({prop:"borderBottom",themeKey:"borders",transform:In}),Nn=A({prop:"borderLeft",themeKey:"borders",transform:In}),An=A({prop:"borderColor",themeKey:"palette"}),On=A({prop:"borderTopColor",themeKey:"palette"}),Pn=A({prop:"borderRightColor",themeKey:"palette"}),Rn=A({prop:"borderBottomColor",themeKey:"palette"}),Dn=A({prop:"borderLeftColor",themeKey:"palette"}),Ln=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=U(e.theme,"shape.borderRadius",4);return E(e,e.borderRadius,(function(e){return{borderRadius:z(t,e)}}))}return null};Ln.propTypes={},Ln.filterProps=["borderRadius"];var Mn=_n(En,Sn,Tn,Cn,Nn,An,On,Pn,Rn,Dn,Ln),Fn=_n(A({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),A({prop:"display"}),A({prop:"overflow"}),A({prop:"textOverflow"}),A({prop:"visibility"}),A({prop:"whiteSpace"})),jn=_n(A({prop:"flexBasis"}),A({prop:"flexDirection"}),A({prop:"flexWrap"}),A({prop:"justifyContent"}),A({prop:"alignItems"}),A({prop:"alignContent"}),A({prop:"order"}),A({prop:"flex"}),A({prop:"flexGrow"}),A({prop:"flexShrink"}),A({prop:"alignSelf"}),A({prop:"justifyItems"}),A({prop:"justifySelf"})),Un=function(e){if(void 0!==e.gap&&null!==e.gap){var t=U(e.theme,"spacing",8);return E(e,e.gap,(function(e){return{gap:z(t,e)}}))}return null};Un.propTypes={},Un.filterProps=["gap"];var Vn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=U(e.theme,"spacing",8);return E(e,e.columnGap,(function(e){return{columnGap:z(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["columnGap"];var zn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=U(e.theme,"spacing",8);return E(e,e.rowGap,(function(e){return{rowGap:z(t,e)}}))}return null};zn.propTypes={},zn.filterProps=["rowGap"];var Bn=_n(Un,Vn,zn,A({prop:"gridColumn"}),A({prop:"gridRow"}),A({prop:"gridAutoFlow"}),A({prop:"gridAutoColumns"}),A({prop:"gridAutoRows"}),A({prop:"gridTemplateColumns"}),A({prop:"gridTemplateRows"}),A({prop:"gridTemplateAreas"}),A({prop:"gridArea"})),qn=_n(A({prop:"position"}),A({prop:"zIndex",themeKey:"zIndex"}),A({prop:"top"}),A({prop:"right"}),A({prop:"bottom"}),A({prop:"left"})),Hn=_n(A({prop:"color",themeKey:"palette"}),A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),A({prop:"backgroundColor",themeKey:"palette"})),Wn=A({prop:"boxShadow",themeKey:"shadows"});function Kn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Zn=A({prop:"width",transform:Kn}),Gn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return E(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||_[t]||Kn(t)}}))}return null};Gn.filterProps=["maxWidth"];var Qn=A({prop:"minWidth",transform:Kn}),Yn=A({prop:"height",transform:Kn}),$n=A({prop:"maxHeight",transform:Kn}),Xn=A({prop:"minHeight",transform:Kn}),Jn=(A({prop:"size",cssProperty:"width",transform:Kn}),A({prop:"size",cssProperty:"height",transform:Kn}),_n(Zn,Gn,Qn,Yn,$n,Xn,A({prop:"boxSizing"}))),er=A({prop:"fontFamily",themeKey:"typography"}),tr=A({prop:"fontSize",themeKey:"typography"}),nr=A({prop:"fontStyle",themeKey:"typography"}),rr=A({prop:"fontWeight",themeKey:"typography"}),ir=A({prop:"letterSpacing"}),ar=A({prop:"textTransform"}),or=A({prop:"lineHeight"}),ur=A({prop:"textAlign"}),sr=_n(A({prop:"typography",cssProperty:!1,themeKey:"typography"}),er,tr,nr,rr,ir,or,ur,ar),cr={borders:Mn.filterProps,display:Fn.filterProps,flexbox:jn.filterProps,grid:Bn.filterProps,positions:qn.filterProps,palette:Hn.filterProps,shadows:Wn.filterProps,sizing:Jn.filterProps,spacing:Z.filterProps,typography:sr.filterProps},lr={borders:Mn,display:Fn,flexbox:jn,grid:Bn,positions:qn,palette:Hn,shadows:Wn,sizing:Jn,spacing:Z,typography:sr};Object.keys(cr).reduce((function(e,t){return cr[t].forEach((function(n){e[n]=lr[t]})),e}),{});function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function hr(e,t){return"function"===typeof e?e(t):e}var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,g.Z)(i,e,n),(0,g.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,g.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=S(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=hr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=O(s,n(e,a,u));else{var o=E({theme:u},a,(function(t){return(0,g.Z)({},e,t)}));fr(o,a)?s[e]=r({sx:a,theme:u}):s=O(s,o)}else s=O(s,n(e,a,u))})),T(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();dr.filterProps=["sx"];var pr=dr,vr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],mr=["theme"],yr=["theme"];function gr(e){return 0===Object.keys(e).length}var kr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},br=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=xn(e.props);r[t]=e.style})),r},wr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[xn(n.props)])})),s};function xr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _r=Y();var Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_r:t,r=e.rootShouldForwardProp,i=void 0===r?xr:r,a=e.slotShouldForwardProp,o=void 0===a?xr:a,u=e.styleFunctionSx,s=void 0===u?pr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,f=r.skipSx,d=r.overridesResolver,p=h(r,vr),v=void 0!==l?l:u&&"Root"!==u||!1,m=f||!1;var y=xr;"Root"===u?y=i:u&&(y=o);var g=kn(e,(0,c.Z)({shouldForwardProp:y,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=h(t,mr);return e((0,c.Z)({theme:gr(r)?n:r},i))}:e})):[],u=e;a&&d&&o.push((function(e){var t=gr(e.theme)?n:e.theme,r=kr(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=(0,x.Z)(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=gr(e.theme)?n:e.theme;return wr(e,br(a,t),t,a)})),m||o.push((function(e){var t=gr(e.theme)?n:e.theme;return s((0,c.Z)({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(u=[].concat((0,Ve.Z)(e),(0,Ve.Z)(f))).raw=[].concat((0,Ve.Z)(e.raw),(0,Ve.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=h(t,yr);return e((0,c.Z)({theme:gr(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,Ve.Z)(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:je,rootShouldForwardProp:function(e){return xr(e)&&"classes"!==e}}),Er=Ir,Sr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Tr(e,t){return Sr[t]||"".concat(i.generate(e),"-").concat(t)}function Cr(e){return Tr("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Tr(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Nr=n(184),Ar=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Or=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Cr,r)},Pr=Er("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Rr=l.forwardRef((function(e,t){var n=Ue({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=h(n,Ar),w=(0,c.Z)({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k}),x={};m||(x.viewBox=k);var _=Or(w);return(0,Nr.jsxs)(Pr,(0,c.Z)({as:s,className:p(_.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},x,b,{children:[r,y?(0,Nr.jsx)("title",{children:y}):null]}))}));Rr.muiName="SvgIcon";var Dr=Rr;function Lr(e,t){var n=function(n,r){return(0,Nr.jsx)(Dr,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Dr.muiName,l.memo(l.forwardRef(n))}var Mr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var jr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Ur(e){return e&&e.ownerDocument||document}var Vr=Ur;var zr=function(e){return Ur(e).defaultView||window};var Br=function(e,t){return function(){return null}};function qr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Hr=qr,Wr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Kr=Wr,Zr=0;var Gr=f.useId;var Qr=function(e){if(void 0!==Gr){var t=Gr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,x.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Zr+=1))}),[r]),a}(e)};var Yr=function(e,t,n,r,i){return null};var $r=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,x.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Xr=function(e){var t=l.useRef(e);return Wr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Jr,ei=function(e,t){return l.useMemo((function(){return null==e&&null==t?null:function(n){qr(e,n),qr(t,n)}}),[e,t])},ti=!0,ni=!1,ri={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ii(e){e.metaKey||e.altKey||e.ctrlKey||(ti=!0)}function ai(){ti=!1}function oi(){"hidden"===this.visibilityState&&ni&&(ti=!0)}function ui(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ti||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ri[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var si=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ii,!0),t.addEventListener("mousedown",ai,!0),t.addEventListener("pointerdown",ai,!0),t.addEventListener("touchstart",ai,!0),t.addEventListener("visibilitychange",oi,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ui(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ni=!0,window.clearTimeout(Jr),Jr=window.setTimeout((function(){ni=!1}),100),t.current=!1,!0)},ref:e}},ci={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),h=Object.prototype.toString,d=Math.max,p=Math.min,v=function(){return f.Date.now()};function m(e,t,n){var i,a,o,u,s,c,l=0,f=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function k(t){var n=i,r=a;return i=a=void 0,l=t,u=e.apply(r,n)}function b(e){return l=e,s=setTimeout(x,t),f?k(e):u}function w(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=o}function x(){var e=v();if(w(e))return _(e);s=setTimeout(x,function(e){var n=t-(e-c);return h?p(n,o-(e-l)):n}(e))}function _(e){return s=void 0,m&&i?k(e):(i=a=void 0,u)}function I(){var e=v(),n=w(e);if(i=arguments,a=this,c=e,n){if(void 0===s)return b(c);if(h)return s=setTimeout(x,t),k(c)}return void 0===s&&(s=setTimeout(x,t)),u}return t=g(t)||0,y(n)&&(f=!!n.leading,o=(h="maxWait"in n)?d(g(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),I.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=c=a=s=void 0},I.flush=function(){return void 0===s?u:_(v())},I}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||u.test(e)?s(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),m(e,t,{leading:i,maxWait:t,trailing:a})}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,E=60108,S=60114,T=60109,C=60110,N=60112,A=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),E=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Z(e.type);case D:return Z(e._render);case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ze=null,Ge={onError:function(e){He=!0,We=e}};function Qe(e,t,n,r,i,a,o,u,s){He=!1,We=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},St={};function Tt(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Zt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function $t(e,t,n,r){Gt(Zt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function $n(e){Nr(e,0)}function Xn(e){if($(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Gn(t,Yn,e,Se(e)),e=$n,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Rt.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ze,Ke=!1,Ze=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case Nt:case At:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Zn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Jr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Z(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Hi(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ei(e,t)}function Zi(e,t,n){return e=Wi(e),Si(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Pi,Gi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Ji=null,ea=null,ta=null;function na(){ta=ea=Ji=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Ji=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Ji)throw Error(o(308));ea=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Zs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Zs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=$s(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Zs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Z(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ta=Ea(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Gr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Gr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Gr(e.stateNode.nextSibling):null;return!0}function Za(){Va=Ua=null,za=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ya=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Xa=0,Ja=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Ja=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ja.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Ja.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Ja.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Ja,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Ja.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Ja.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Ja,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$i(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):jo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Zo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Go,Qo,Yo,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Jo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Gs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Gs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Jr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Go(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Ru||0===(134217727&zu)&&0===(134217727&Bu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=ja(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=J(e,a),r=J(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,$u=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Zr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),ju=0,Uu=null,Vu=0,zu=0,Bu=0,qu=0,Hu=null,Wu=0,Ku=1/0;function Zu(){Ku=qi()+500}var Gu,Qu=null,Yu=!1,$u=null,Xu=null,Ju=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(Bu|=t,4===ju&&gs(e,Lu));var r=Hi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Zu(),Gi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=Si(Pi,Qi)):Ui.push(n),n=Fi):14===t?n=Zi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Zi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ru===e&&Lu===r||(Zu(),Is(e,r));;)try{Ns();break}catch(s){Es(e,s)}if(na(),Au.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=ju),0!==(Vu&Bu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=jt(e,t)))}else n=Ts(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Zu(),Gi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Zu(),Gi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,ju=0,Uu=null,qu=Bu=zu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Ja=null,ro=!1,Ou.current=null,null===n||null===n.return){ju=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((Z(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ru===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Pu=n,Au.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,ju}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=Gu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===ju&&(ju=5)}function Ps(e){var t=Hi();return Ki(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,zr=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Su(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Su(Qu.alternate,Qu);break;case 4:Su(Qu.alternate,Qu);break;case 8:Eu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!zr,Br=zr=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var _=Qu.flags;if(36&_&&yu(k,Qu.alternate,Qu),128&_){b=void 0;var I=Qu.ref;if(null!==I){var E=Qu.stateNode;Qu.tag,b=E,"function"===typeof I?I(b):I.current=b}}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));Vs(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,ji(),Pu=i}else e.current=n;if(Ju)Ju=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((_=Qu).sibling=null,_.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,qi()),Yu)throw Yu=!1,e=$u,$u=null,e;return 0!==(8&Pu)||Gi(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Ju||(Ju=!0,Zi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,js)}return!1}function Ms(e,t){ns.push(t,e),Ju||(Ju=!0,Zi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Ju||(Ju=!0,Zi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Gi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>qi()-Wu?Is(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Gs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case S:return(e=Hs(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Hs(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Hs(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Qs(n,i,a,t);case j:return(e=Hs(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Js(e,t,null,n)}Gu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Zo(t),Za();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Zo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Za(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Gr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Za();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Zu(),Gi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Gi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Zu(),Gi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},582:function(e,t,n){"use strict";var r=a(n(791)),i=a(n(585));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,n,i;o(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.render=function(){return r.default.createElement("a",i.props,i.props.children)},u(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Component);t.Z=(0,i.default)(s)},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(u(n(183)),u(n(987))),a=u(n(616)),o=u(n(979));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return i.default[e.smooth]||i.default.defaultEasing},c=function(){if("undefined"!==typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())},l=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},f=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},h=function e(t,n,r){var i=n.data;if(n.ignoreCancelEvents||!i.cancel)if(i.delta=Math.round(i.targetPosition-i.startPosition),null===i.start&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:t(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var a=e.bind(null,t,n);c.call(window,a)}else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPosition);else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPositionY)},d=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},p=function(e,t,n,r){if(t.data=t.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(t.data.delayTimeout),a.default.subscribe((function(){t.data.cancel=!0})),d(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?l(t):f(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition){var i;t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"===typeof(i=t.duration)?i:function(){return i})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=r;var u=s(t),p=h.bind(null,u,t);t&&t.delay>0?t.data.delayTimeout=window.setTimeout((function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p)}),t.delay):(o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p))}else o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)},v=function(e){return(e=r({},e)).data=e.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},e.absolute=!0,e};t.default={animateTopScroll:p,getAnimationType:s,scrollToTop:function(e){p(0,v(e))},scrollToBottom:function(e){e=v(e),d(e),p(e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var n=document.body,r=document.documentElement;return Math.max(n.scrollWidth,n.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)}(e):function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var n=document.body,r=document.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}(e),e)},scrollTo:function(e,t){p(e,v(t))},scrollMore:function(e,t){t=v(t),d(t);var n=t.horizontal?l(t):f(t);p(e+n,t)}}},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(360),i=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!==typeof document&&i.forEach((function(t){return(0,r.addPassiveEventListener)(document,t,e)}))}}},360:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var r=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}();e.addEventListener(t,n,!!r&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registered:{},scrollEvent:{register:function(e,t){n.registered[e]=t},remove:function(e){n.registered[e]=null}}};t.default=n},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(360);var r,i=n(183),a=(r=i)&&r.__esModule?r:{default:r};var o={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout((function(){e.scrollTo(t,!0),e.initialized=!0}),10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;if(n.get(e)&&(t||e!==n.getActiveLink())){var r=this.containers[e]||document;n.scrollTo(e,{container:r})}},getHash:function(){return a.default.getHash()},changeHash:function(e,t){this.isInitialized()&&a.default.getHash()!==e&&a.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=o},585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(791)),o=l(n(688)),u=l(n(338)),s=l(n(7)),c=l(n(203));function l(e){return e&&e.__esModule?e:{default:e}}var f={to:s.default.string.isRequired,containerId:s.default.string,container:s.default.object,activeClass:s.default.string,spy:s.default.bool,horizontal:s.default.bool,smooth:s.default.oneOfType([s.default.bool,s.default.string]),offset:s.default.number,delay:s.default.number,isDynamic:s.default.bool,onClick:s.default.func,duration:s.default.oneOfType([s.default.number,s.default.func]),absolute:s.default.bool,onSetActive:s.default.func,onSetInactive:s.default.func,ignoreCancelEvents:s.default.bool,hashSpy:s.default.bool,saveHashHistory:s.default.bool,spyThrottle:s.default.number};t.default=function(e,t){var n=t||u.default,s=function(t){function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return l.call(t),t.state={active:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,t),i(u,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(c.default.isMounted()||c.default.mount(n),c.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in f)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,a.default.createElement(e,n)}}]),u}(a.default.PureComponent),l=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,r){var i=e.getScrollSpyContainer();if(!c.default.isMounted()||c.default.isInitialized()){var a=e.props.horizontal,o=e.props.to,u=null,s=void 0,l=void 0;if(a){var f=0,h=0,d=0;if(i.getBoundingClientRect)d=i.getBoundingClientRect().left;if(!u||e.props.isDynamic){if(!(u=n.get(o)))return;var p=u.getBoundingClientRect();h=(f=p.left-d+t)+p.width}var v=t-e.props.offset;s=v>=Math.floor(f)&&v<Math.floor(h),l=v<Math.floor(f)||v>=Math.floor(h)}else{var m=0,y=0,g=0;if(i.getBoundingClientRect)g=i.getBoundingClientRect().top;if(!u||e.props.isDynamic){if(!(u=n.get(o)))return;var k=u.getBoundingClientRect();y=(m=k.top-g+r)+k.height}var b=r-e.props.offset;s=b>=Math.floor(m)&&b<Math.floor(y),l=b<Math.floor(m)||b>=Math.floor(y)}var w=n.getActiveLink();if(l){if(o===w&&n.setActiveLink(void 0),e.props.hashSpy&&c.default.getHash()===o){var x=e.props.saveHashHistory,_=void 0!==x&&x;c.default.changeHash("",_)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,u))}if(s&&(w!==o||!1===e.state.active)){n.setActiveLink(o);var I=e.props.saveHashHistory,E=void 0!==I&&I;e.props.hashSpy&&c.default.changeHash(o,E),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,u))}}}};return s.propTypes=f,s.defaultProps={offset:0},s}},688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(881),a=(r=i)&&r.__esModule?r:{default:r},o=n(360);var u={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,a.default)(e,t)}((function(t){u.scrollHandler(e)}),t);u.scrollSpyContainers.push(e),(0,o.addPassiveEventListener)(e,"scroll",n)}},isMounted:function(e){return-1!==u.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e===document){var t=void 0!==window.pageYOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft}return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}return e.scrollTop},scrollHandler:function(e){(u.scrollSpyContainers[u.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach((function(t){return t(u.currentPositionX(e),u.currentPositionY(e))}))},addStateHandler:function(e){u.spySetState.push(e)},addSpyHandler:function(e,t){var n=u.scrollSpyContainers[u.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(u.currentPositionX(t),u.currentPositionY(t))},updateStates:function(){u.spySetState.forEach((function(e){return e()}))},unmount:function(e,t){u.scrollSpyContainers.forEach((function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)})),u.spySetState&&u.spySetState.length&&u.spySetState.splice(u.spySetState.indexOf(e),1),document.removeEventListener("scroll",u.scrollHandler)},update:function(){return u.scrollSpyContainers.forEach((function(e){return u.scrollHandler(e)}))}};t.default=u},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(183)),a=u(n(102)),o=u(n(979));function u(e){return e&&e.__esModule?e:{default:e}}var s={},c=void 0;t.default={unmount:function(){s={}},register:function(e,t){s[e]=t},unregister:function(e){delete s[e]},get:function(e){return s[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return c=e},getActiveLink:function(){return c},scrollTo:function(e,t){var n=this.get(e);if(n){var u=(t=r({},t,{absolute:!1})).containerId,s=t.container,c=void 0;c=u?document.getElementById(u):s&&s.nodeType?s:document,t.absolute=!0;var l=t.horizontal,f=i.default.scrollOffset(c,n,l)+(t.offset||0);if(!t.smooth)return o.default.registered.begin&&o.default.registered.begin(e,n),c===document?t.horizontal?window.scrollTo(f,0):window.scrollTo(0,f):c.scrollTop=f,void(o.default.registered.end&&o.default.registered.end(e,n));a.default.animateTopScroll(f,t,e,n)}else console.warn("target Element not found")}}},987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=e.offsetTop,r=e.offsetParent;r&&!t(r);)n+=r.offsetTop,r=r.offsetParent;return{offsetTop:n,offsetParent:r}};t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,r=n?"#"+n:"",i=window&&window.location,a=r?i.pathname+i.search+r:i.pathname+i.search;t?history.pushState(history.state,"",a):history.replaceState(history.state,"",a)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if("static"!==getComputedStyle(e).position){if(t.offsetParent!==e){var i=n(t,(function(t){return t===e||t===document})),a=i.offsetTop;if(i.offsetParent!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return a}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var o=function(e){return e===document};return n(t,o).offsetTop-n(e,o).offsetTop}}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,O=!1,P=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(R=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=A;try{for(D(n),N=_(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===_(S)&&I(S),D(n)}else I(S);N=_(S)}if(null!==N)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return U},SDK_VERSION:function(){return je},_DEFAULT_ENTRY_NAME:function(){return Ee},_addComponent:function(){return Ne},_addOrOverwriteComponent:function(){return Ae},_apps:function(){return Te},_clearComponents:function(){return De},_components:function(){return Ce},_getProvider:function(){return Pe},_registerComponent:function(){return Oe},_removeServiceInstance:function(){return Re},deleteApp:function(){return Be},getApp:function(){return Ve},getApps:function(){return ze},initializeApp:function(){return Ue},onLog:function(){return We},registerVersion:function(){return He},setLogLevel:function(){return Ke}});var t=n(791),r=n(164),i=n(184);var a=function(){return(0,i.jsx)("div",{className:"about__complete",id:"about",children:(0,i.jsxs)("div",{className:"about__container",children:[(0,i.jsx)("h1",{className:"about__heading",children:"About Me"}),(0,i.jsxs)("div",{className:"about",children:[(0,i.jsx)("div",{className:"about__profileImage",children:(0,i.jsx)("img",{src:"images/9.png",alt:""})}),(0,i.jsxs)("div",{className:"about__info",children:[(0,i.jsx)("h1",{children:"I Create Products Not Just Art."}),(0,i.jsx)("p",{children:"I am passionate about Web Development & designing. I am a skilled full stack developer with 3+ years experience."}),(0,i.jsx)("p",{children:"I have rich experience in website design and building, Website Speed Optimization. I am a quick learner and a team worker that gets the job done."}),(0,i.jsx)("p",{children:"I can easily capitalize on low hanging fruits and quickly maximize timely deliverables for real-time schemas. I love to talk with you about our uniqueness......"}),(0,i.jsx)("p",{children:"I have a lot of knowledge of vast topics..."}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"info",children:["Age: ",(0,i.jsx)("span",{className:"info__data",children:" 20"})]}),(0,i.jsxs)("div",{className:"info",children:["Email:"," ",(0,i.jsx)("span",{className:"info__data",children:" hritikchouhan54@gmail.com"})]}),(0,i.jsxs)("div",{className:"info",children:["State: ",(0,i.jsx)("span",{className:"info__data",children:" Uttrakhand/Roorkee"})]})]})]})]})]})})},o=n(439),u=n(942);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var f=n(181);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,f.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function b(e){var t=y();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},w.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},x(e)}var _=n(757),I=n.n(_),E=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(E(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},T=function(e){return function(e){var t=E(e);return S.encodeByteArray(t,!0)}(e).replace(/\./g,"")},C=function(e){try{return S.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function N(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=N(e[n],t[n]));return e}var A=function(){function e(){var t=this;s(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return l(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function O(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[T(JSON.stringify({alg:"none",type:"JWT"})),T(JSON.stringify(a)),""].join(".")}function P(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function R(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P())}function D(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function L(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function M(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function F(){var e=P();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return"object"===typeof indexedDB}var U=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(d(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(d(a),V.prototype.create),a}return l(n)}(x(Error)),V=function(){function e(t,n,r){s(this,e),this.service=t,this.serviceName=n,this.errors=r}return l(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?z(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new U(n,a,t);return o}}]),e}();function z(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var B=/\{\$([^}]+)}/g;function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(W(u)&&W(s)){if(!H(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function W(e){return null!==e&&"object"===typeof e}function K(e){for(var t=[],n=function(){var e=(0,o.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Z(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,o.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Q(e,t){var n=new Y(e,t);return n.subscribe.bind(n)}var Y=function(){function e(t,n){var r=this;s(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return l(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $(){}function X(e){return e&&e._delegate?e._delegate:e}function J(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ee=function(){function e(t){s(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return l(e,[{key:"transaction",value:function(e,t){return new te(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ne(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),te=function(){function e(t){var n=this;s(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return l(e,[{key:"objectStore",value:function(e){return new ne(this._transaction.objectStore(e))}}]),e}(),ne=function(){function e(t){s(this,e),this._store=t}return l(e,[{key:"index",value:function(e){return new re(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new re(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return J(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return J(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return J(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return J(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),re=function(){function e(t){s(this,e),this._index=t}return l(e,[{key:"get",value:function(e){return J(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var ie=n(433);function ae(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ae(a,r,i,o,u,"next",e)}function u(e){ae(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ue=function(){function e(t,n,r){s(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return l(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),se="[DEFAULT]",ce=function(){function e(t,n){s(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return l(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new A;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:se})}catch(c){}var t,n=h(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oe(_.mark((function e(){var t;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,ie.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,ie.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=h(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,o.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(d){u.e(d)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Mb){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===se?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Mb){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.component?this.component.multipleInstances?e:se:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var le,fe,he=function(){function e(t){s(this,e),this.name=t,this.providers=new Map}return l(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ce(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),de=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fe||(fe={}));var pe,ve,me={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ye=fe.INFO,ge=(le={},(0,u.Z)(le,fe.DEBUG,"log"),(0,u.Z)(le,fe.VERBOSE,"log"),(0,u.Z)(le,fe.INFO,"info"),(0,u.Z)(le,fe.WARN,"warn"),(0,u.Z)(le,fe.ERROR,"error"),le),ke=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},be=function(){function e(t){s(this,e),this.name=t,this._logLevel=ye,this._logHandler=ke,this._userLogHandler=null,de.push(this)}return l(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?me[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.DEBUG].concat(t)),this._logHandler.apply(this,[this,fe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.INFO].concat(t)),this._logHandler.apply(this,[this,fe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.WARN].concat(t)),this._logHandler.apply(this,[this,fe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.ERROR].concat(t)),this._logHandler.apply(this,[this,fe.ERROR].concat(t))}}]),e}();var we=function(){function e(t){s(this,e),this.container=t}return l(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var xe="@firebase/app",_e="0.7.19",Ie=new be("@firebase/app"),Ee="[DEFAULT]",Se=(pe={},(0,u.Z)(pe,xe,"fire-core"),(0,u.Z)(pe,"@firebase/app-compat","fire-core-compat"),(0,u.Z)(pe,"@firebase/analytics","fire-analytics"),(0,u.Z)(pe,"@firebase/analytics-compat","fire-analytics-compat"),(0,u.Z)(pe,"@firebase/app-check","fire-app-check"),(0,u.Z)(pe,"@firebase/app-check-compat","fire-app-check-compat"),(0,u.Z)(pe,"@firebase/auth","fire-auth"),(0,u.Z)(pe,"@firebase/auth-compat","fire-auth-compat"),(0,u.Z)(pe,"@firebase/database","fire-rtdb"),(0,u.Z)(pe,"@firebase/database-compat","fire-rtdb-compat"),(0,u.Z)(pe,"@firebase/functions","fire-fn"),(0,u.Z)(pe,"@firebase/functions-compat","fire-fn-compat"),(0,u.Z)(pe,"@firebase/installations","fire-iid"),(0,u.Z)(pe,"@firebase/installations-compat","fire-iid-compat"),(0,u.Z)(pe,"@firebase/messaging","fire-fcm"),(0,u.Z)(pe,"@firebase/messaging-compat","fire-fcm-compat"),(0,u.Z)(pe,"@firebase/performance","fire-perf"),(0,u.Z)(pe,"@firebase/performance-compat","fire-perf-compat"),(0,u.Z)(pe,"@firebase/remote-config","fire-rc"),(0,u.Z)(pe,"@firebase/remote-config-compat","fire-rc-compat"),(0,u.Z)(pe,"@firebase/storage","fire-gcs"),(0,u.Z)(pe,"@firebase/storage-compat","fire-gcs-compat"),(0,u.Z)(pe,"@firebase/firestore","fire-fst"),(0,u.Z)(pe,"@firebase/firestore-compat","fire-fst-compat"),(0,u.Z)(pe,"fire-js","fire-js"),(0,u.Z)(pe,"firebase","fire-js-all"),pe),Te=new Map,Ce=new Map;function Ne(e,t){try{e.container.addComponent(t)}catch(n){Ie.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ae(e,t){e.container.addOrOverwriteComponent(t)}function Oe(e){var t=e.name;if(Ce.has(t))return Ie.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ce.set(t,e);var n,r=h(Te.values());try{for(r.s();!(n=r.n()).done;){Ne(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pe(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee;Pe(e,t).clearInstance(n)}function De(){Ce.clear()}var Le=(ve={},(0,u.Z)(ve,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,u.Z)(ve,"bad-app-name","Illegal App name: '{$appName}"),(0,u.Z)(ve,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,u.Z)(ve,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,u.Z)(ve,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,u.Z)(ve,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,u.Z)(ve,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,u.Z)(ve,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ve),Me=new V("app","Firebase",Le),Fe=function(){function e(t,n,r){var i=this;s(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ue("app",(function(){return i}),"PUBLIC"))}return l(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}}]),e}(),je="9.6.9";function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ee,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Me.create("bad-app-name",{appName:String(i)});var a=Te.get(i);if(a){if(H(e,a.options)&&H(r,a.config))return a;throw Me.create("duplicate-app",{appName:i})}var o,u=new he(i),s=h(Ce.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Fe(e,r,u);return Te.set(i,l),l}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=Te.get(e);if(!t)throw Me.create("no-app",{appName:e});return t}function ze(){return Array.from(Te.values())}function Be(e){return qe.apply(this,arguments)}function qe(){return(qe=oe(_.mark((function e(t){var n;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Te.has(n)){e.next=6;break}return Te.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t,n){var r,i=null!==(r=Se[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ie.warn(u.join(" "))}Oe(new ue("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function We(e,t){if(null!==e&&"function"!==typeof e)throw Me.create("invalid-log-argument");!function(e,t){var n,r=h(de);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=me[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ke(e){var t;t=e,de.forEach((function(e){e.setLogLevel(t)}))}var Ze="firebase-heartbeat-store",Ge=null;function Qe(){var e,t,n;return Ge||(Ge=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ze)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ee(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ee(a.result),e.oldVersion,e.newVersion,new te(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Me.create("storage-open",{originalErrorMessage:e.message})}))),Ge}function Ye(e){return $e.apply(this,arguments)}function $e(){return $e=oe(_.mark((function e(t){var n;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ze).objectStore(Ze).get(et(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Me.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$e.apply(this,arguments)}function Xe(e,t){return Je.apply(this,arguments)}function Je(){return Je=oe(_.mark((function e(t,n){var r,i,a;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe();case 3:return r=e.sent,i=r.transaction(Ze,"readwrite"),a=i.objectStore(Ze),e.next=8,a.put(n,et(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Me.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Je.apply(this,arguments)}function et(e){return"".concat(e.name,"!").concat(e.options.appId)}var tt=function(){function e(t){var n=this;s(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ot(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return l(e,[{key:"triggerHeartbeat",value:function(){var e=oe(_.mark((function e(){var t,n,r;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=nt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oe(_.mark((function e(){var t,n,r,i,a;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=nt(),n=rt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=T(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nt(){return(new Date).toISOString().substring(0,10)}function rt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=h(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ut(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ut(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var it,at,ot=function(){function e(t){s(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return l(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oe(_.mark((function e(){return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oe(_.mark((function e(){var t;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ye(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oe(_.mark((function e(t){var n,r;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oe(_.mark((function e(t){var n,r;return _.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Xe(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,ie.Z)(r.heartbeats),(0,ie.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ut(e){return T(JSON.stringify({version:2,heartbeats:e})).length}it="",Oe(new ue("platform-logger",(function(e){return new we(e)}),"PRIVATE")),Oe(new ue("heartbeat",(function(e){return new tt(e)}),"PRIVATE")),He(xe,_e,it),He(xe,_e,"esm2017"),He("fire-js","");var st=function(){function e(t,n){var r=this;s(this,e),this._delegate=t,this.firebase=n,Ne(t,new ue("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return l(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Be(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ne(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ae(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ct=(at={},(0,u.Z)(at,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,u.Z)(at,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),at),lt=new V("app-compat","Firebase",ct);var ft=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ue(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(q(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:He,setLogLevel:Ke,onLog:We,apps:null,SDK_VERSION:je,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Oe(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw lt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&N(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!q(n,e=e||Ee))throw lt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(st);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){N(n,e)},createSubscribe:Q,ErrorFactory:V,deepExtend:N}),n}(),ht=new be("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pt=ft;!function(e){He("@firebase/app-compat","0.1.20",e)}();pt.registerVersion("firebase","9.6.9","app-compat");var vt=n(878),mt=n(199),yt=n(267);function gt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function kt(){return kt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kt.apply(this,arguments)}function bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var wt;Object.create;var xt="facebook.com",_t="github.com",It="google.com",Et="password",St="twitter.com",Tt="EMAIL_SIGNIN",Ct="PASSWORD_RESET",Nt="RECOVER_EMAIL",At="REVERT_SECOND_FACTOR_ADDITION",Ot="VERIFY_AND_CHANGE_EMAIL",Pt="VERIFY_EMAIL";function Rt(){return(0,u.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Dt=function(){var e;return e={},(0,u.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,u.Z)(e,"argument-error",""),(0,u.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,u.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,u.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,u.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,u.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,u.Z)(e,"cors-unsupported","This browser is not supported."),(0,u.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,u.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,u.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,u.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,u.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,u.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,u.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,u.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,u.Z)(e,"expired-action-code","The action code has expired."),(0,u.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,u.Z)(e,"internal-error","An internal AuthError has occurred."),(0,u.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,u.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,u.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,u.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,u.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,u.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,u.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,u.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,u.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,u.Z)(e,"invalid-email","The email address is badly formatted."),(0,u.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,u.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,u.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,u.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,u.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,u.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,u.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,u.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,u.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,u.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,u.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,u.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,u.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,u.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,u.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,u.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,u.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,u.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,u.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,u.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,u.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,u.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,u.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,u.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,u.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,u.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,u.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,u.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,u.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,u.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,u.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,u.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,u.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,u.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,u.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,u.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,u.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,u.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,u.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,u.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,u.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,u.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,u.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,u.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,u.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,u.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,u.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,u.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,u.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,u.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,u.Z)(e,"timeout","The operation has timed out."),(0,u.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,u.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,u.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,u.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,u.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,u.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,u.Z)(e,"unverified-email","The operation requires a verified email."),(0,u.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,u.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,u.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,u.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,u.Z)(e,"user-signed-out",""),(0,u.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,u.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,u.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Lt=Rt,Mt=new V("auth","Firebase",Rt()),Ft=new be("@firebase/auth");function jt(e){if(Ft.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ft.error.apply(Ft,["Auth (".concat(je,"): ").concat(e)].concat(n))}}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qt.apply(void 0,[e].concat(n))}function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qt.apply(void 0,[e].concat(n))}function zt(e,t,n){var r=Object.assign(Object.assign({},Lt()),(0,u.Z)({},t,n));return new V("auth","Firebase",r).create(t,{appName:e.name})}function Bt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ut(e,"argument-error"),zt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,ie.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,ie.Z)(o)))}return Mt.create.apply(Mt,[e].concat(n))}function Ht(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qt.apply(void 0,[t].concat(r))}}function Wt(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jt(t),new Error(t)}function Kt(e,t){e||Wt(t)}var Zt=new Map;function Gt(e){Kt(e instanceof Function,"Expected a class definition");var t=Zt.get(e);return t?(Kt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zt.set(e,t),t)}function Qt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yt(){return"http:"===$t()||"https:"===$t()}function $t(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Xt=function(){function e(t,n){s(this,e),this.shortDelay=t,this.longDelay=n,Kt(n>t,"Short delay should be less than long delay!"),this.isMobile=R()||M()}return l(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yt()||L()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Jt(e,t){Kt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var en=function(){function e(){s(this,e)}return l(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),tn=(wt={},(0,u.Z)(wt,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,u.Z)(wt,"MISSING_CUSTOM_TOKEN","internal-error"),(0,u.Z)(wt,"INVALID_IDENTIFIER","invalid-email"),(0,u.Z)(wt,"MISSING_CONTINUE_URI","internal-error"),(0,u.Z)(wt,"INVALID_PASSWORD","wrong-password"),(0,u.Z)(wt,"MISSING_PASSWORD","internal-error"),(0,u.Z)(wt,"EMAIL_EXISTS","email-already-in-use"),(0,u.Z)(wt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,u.Z)(wt,"INVALID_IDP_RESPONSE","invalid-credential"),(0,u.Z)(wt,"INVALID_PENDING_TOKEN","invalid-credential"),(0,u.Z)(wt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,u.Z)(wt,"MISSING_REQ_TYPE","internal-error"),(0,u.Z)(wt,"EMAIL_NOT_FOUND","user-not-found"),(0,u.Z)(wt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,u.Z)(wt,"EXPIRED_OOB_CODE","expired-action-code"),(0,u.Z)(wt,"INVALID_OOB_CODE","invalid-action-code"),(0,u.Z)(wt,"MISSING_OOB_CODE","internal-error"),(0,u.Z)(wt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,u.Z)(wt,"INVALID_ID_TOKEN","invalid-user-token"),(0,u.Z)(wt,"TOKEN_EXPIRED","user-token-expired"),(0,u.Z)(wt,"USER_NOT_FOUND","user-token-expired"),(0,u.Z)(wt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,u.Z)(wt,"INVALID_CODE","invalid-verification-code"),(0,u.Z)(wt,"INVALID_SESSION_INFO","invalid-verification-id"),(0,u.Z)(wt,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,u.Z)(wt,"MISSING_SESSION_INFO","missing-verification-id"),(0,u.Z)(wt,"SESSION_EXPIRED","code-expired"),(0,u.Z)(wt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,u.Z)(wt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,u.Z)(wt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,u.Z)(wt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,u.Z)(wt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,u.Z)(wt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,u.Z)(wt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,u.Z)(wt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,u.Z)(wt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,u.Z)(wt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,u.Z)(wt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),wt),nn=new Xt(3e4,6e4);function rn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function an(e,t,n,r){return on.apply(this,arguments)}function on(){return on=oe(I().mark((function e(t,n,r,i){var a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",un(t,a,oe(I().mark((function e(){var a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=K(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",en.fetch()(fn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function un(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=oe(I().mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d,p;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},tn),n),e.prev=2,a=new hn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw dn(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,o.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw dn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw dn(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw zt(t,p,d);case 30:Ut(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof U)){e.next=37;break}throw e.t0;case 37:Ut(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function cn(e,t,n,r){return ln.apply(this,arguments)}function ln(){return ln=oe(I().mark((function e(t,n,r,i){var a,o,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,an(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ut(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function fn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Jt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var hn=function(){function e(t){var n=this;s(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Vt(n.auth,"network-request-failed"))}),nn.get())}))}return l(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function dn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Vt(e,t,r);return i.customData._tokenResponse=n,i}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function wn(){return wn=oe(I().mark((function e(t){var n,r,i,a,o,u,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=X(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ht((a=_n(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:bn(xn(a.auth_time)),issuedAtTime:bn(xn(a.iat)),expirationTime:bn(xn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function xn(e){return 1e3*Number(e)}function _n(e){var t=e.split("."),n=(0,o.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return jt("JWT malformed, contained fewer than 3 sections"),null;try{var u=C(i);return u?JSON.parse(u):(jt("Failed to decode base64 JWT payload"),null)}catch(s){return jt("Caught error parsing JWT payload as JSON",s),null}}function In(e,t){return En.apply(this,arguments)}function En(){return En=oe(I().mark((function e(t,n){var r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof U&&Sn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),En.apply(this,arguments)}function Sn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Tn=function(){function e(t){s(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return l(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cn=function(){function e(t,n){s(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return l(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Nn(e){return An.apply(this,arguments)}function An(){return An=oe(I().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,In(t,gn(r,{idToken:i}));case 6:Ht(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Rn(o.providerUserInfo):[],s=Pn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function On(){return(On=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=X(t),e.next=3,Nn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,ie.Z)(n),(0,ie.Z)(t))}function Rn(e){return e.map((function(e){var t=e.providerId,n=bt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Dn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(t,{},oe(I().mark((function e(){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=fn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",en.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mn=function(){function e(){s(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return l(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ht(e.idToken,"internal-error"),Ht("undefined"!==typeof e.idToken,"internal-error"),Ht("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_n(e);return Ht(t,"internal-error"),Ht("undefined"!==typeof t.exp,"internal-error"),Ht("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=oe(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ht(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Wt("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ht("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ht("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ht("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fn(e,t){Ht("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jn=function(){function e(t){s(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,ie.Z)(a.providerData):[],this.metadata=new Cn(a.createdAt||void 0,a.lastLoginAt||void 0)}return l(e,[{key:"getIdToken",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,In(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ht(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return wn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return On.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=oe(I().mark((function e(t){var n,r,i=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Nn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,In(this,pn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ht(k&&_,t,"internal-error");var I=Mn.fromJSON(this.name,_);Ht("string"===typeof k,t,"internal-error"),Fn(f,t.name),Fn(h,t.name),Ht("boolean"===typeof b,t,"internal-error"),Ht("boolean"===typeof w,t,"internal-error"),Fn(d,t.name),Fn(p,t.name),Fn(v,t.name),Fn(m,t.name),Fn(y,t.name),Fn(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=oe(I().mark((function t(n,r){var i,a,o,u=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Mn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Nn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Un=function(){function e(){s(this,e),this.type="NONE",this.storage={}}return l(e,[{key:"_isAvailable",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Un.type="NONE";var Vn=Un;function zn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bn=function(){function e(t,n,r){s(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=zn(this.userKey,a.apiKey,o),this.fullPersistenceKey=zn("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return l(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=oe(I().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,p,v,m=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Gt(Vn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Gt(Vn),u=zn(i,n.config.apiKey,n.name),s=null,c=h(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=jn._fromJSON(n,d),f!==o&&(s=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qn(t))return"Blackberry";if(Yn(t))return"Webos";if(Wn(t))return"Safari";if((t.includes("chrome/")||Kn(t))&&!t.includes("edge/"))return"Chrome";if(Gn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/firefox\//i.test(e)}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/crios\//i.test(e)}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/iemobile/i.test(e)}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/android/i.test(e)}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/blackberry/i.test(e)}function Yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/webos/i.test(e)}function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/iphone|ipad|ipod/i.test(e)}function Xn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return $n(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Jn(){return F()&&10===document.documentMode}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return $n(e)||Gn(e)||Yn(e)||Qn(e)||/windows phone/i.test(e)||Zn(e)}function tr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qn(P());break;case"Worker":t="".concat(qn(P()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(je,"/").concat(r)}var nr=function(){function e(t,n,r){s(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ir(this),this.idTokenSubscription=new ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return l(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Gt(t)),this._initializationPromise=this.queue(oe(I().mark((function r(){var i,a;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=oe(I().mark((function e(t){var n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ht(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?X(t):null)&&Ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=oe(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Gt(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new V("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ht(n=t&&Gt(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bn.create(this,[Gt(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=oe(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ht(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=oe(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rr(e){return X(e)}var ir=function(){function e(t){var n=this;s(this,e),this.auth=t,this.observer=null,this.addObserver=Q((function(e){return n.observer=e}))}return l(e,[{key:"next",get:function(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ar(e,t,n){var r=rr(e);Ht(r._canInitEmulator,r,"emulator-config-failed"),Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=or(t),u=function(e){var t=or(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ur(r.substr(a.length+1))}}var u=r.split(":"),s=(0,o.Z)(u,2);return{host:s[0],port:ur(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function or(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ur(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var sr=function(){function e(t,n){s(this,e),this.providerId=t,this.signInMethod=n}return l(e,[{key:"toJSON",value:function(){return Wt("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Wt("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Wt("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Wt("not implemented")}}]),e}();function cr(e,t){return lr.apply(this,arguments)}function lr(){return(lr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:resetPassword",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e,t){return hr.apply(this,arguments)}function hr(){return(hr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dr(e,t){return pr.apply(this,arguments)}function pr(){return(pr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:update",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vr(e,t){return mr.apply(this,arguments)}function mr(){return(mr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithPassword",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:sendOobCode",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(e,t){return br.apply(this,arguments)}function br(){return(br=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e,t){return xr.apply(this,arguments)}function xr(){return(xr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(e,t){return Cr.apply(this,arguments)}function Cr(){return(Cr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithEmailLink",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithEmailLink",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Or=function(e){v(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return l(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Tr(t,{email:this._email,oobCode:this._password}));case 5:Ut(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ut(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(sr);function Pr(e,t){return Rr.apply(this,arguments)}function Rr(){return(Rr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithIdp",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dr=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return l(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=K(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ut("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(sr);function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:sendVerificationCode",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(){return(Fr=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithPhoneNumber",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(){return(jr=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn(t,"POST","/v1/accounts:signInWithPhoneNumber",rn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw dn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ur=(0,u.Z)({},"USER_NOT_FOUND","user-not-found");function Vr(){return(Vr=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithPhoneNumber",rn(t,r),Ur));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zr=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"phone","phone")).params=e,r}return l(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Fr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Vr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(sr);var Br=function(){function e(t){var n,r,i,a,o,u;s(this,e);var c=Z(G(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Ht(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return l(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Z(G(e)).link,n=t?Z(G(t)).deep_link_id:null,r=Z(G(e)).deep_link_id;return(r?Z(G(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Mb){return null}}}]),e}();var qr=function(){function e(){s(this,e),this.providerId=e.PROVIDER_ID}return l(e,null,[{key:"credential",value:function(e,t){return Or._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Br.parseLink(t);return Ht(n,"argument-error"),Or._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qr.PROVIDER_ID="password",qr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hr=function(){function e(t){s(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return l(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wr=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).scopes=[],e}return l(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,ie.Z)(this.scopes)}}]),n}(Hr),Kr=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ht(e.idToken||e.accessToken,"argument-error"),Dr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ht("providerId"in t&&"signInMethod"in t,"argument-error"),Dr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Wr),Zr=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"facebook.com")}return l(n,null,[{key:"credential",value:function(e){return Dr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mb){return null}}}]),n}(Wr);Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zr.PROVIDER_ID="facebook.com";var Gr=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return l(n,null,[{key:"credential",value:function(e,t){return Dr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Mb){return null}}}]),n}(Wr);Gr.GOOGLE_SIGN_IN_METHOD="google.com",Gr.PROVIDER_ID="google.com";var Qr=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"github.com")}return l(n,null,[{key:"credential",value:function(e){return Dr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Mb){return null}}}]),n}(Wr);Qr.GITHUB_SIGN_IN_METHOD="github.com",Qr.PROVIDER_ID="github.com";var Yr=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return l(n,[{key:"_getIdTokenResponse",value:function(e){return Pr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sr),$r=function(e){v(n,e);var t=b(n);function n(e){return s(this,n),Ht(e.startsWith("saml."),"argument-error"),t.call(this,e)}return l(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Yr.fromJSON(e);return Ht(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Yr._create(r,n)}catch(i){return null}}}]),n}(Hr),Xr=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,"twitter.com")}return l(n,null,[{key:"credential",value:function(e,t){return Dr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Mb){return null}}}]),n}(Wr);function Jr(e,t){return ei.apply(this,arguments)}function ei(){return(ei=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signUp",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Xr.TWITTER_SIGN_IN_METHOD="twitter.com",Xr.PROVIDER_ID="twitter.com";var ti=function(){function e(t){s(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return l(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=oe(I().mark((function t(n,r,i){var a,o,u,s,c=arguments;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,jn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ni(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=oe(I().mark((function t(n,r,i){var a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ni(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ni(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ri(){return ri=oe(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ti({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Jr(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ti._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}var ii=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o,u;return s(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(d(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return l(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(U);function ai(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ii._fromErrorAndOperation(e,n,t,r);throw n}))}function oi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ui(e,t){return si.apply(this,arguments)}function si(){return si=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X(t),e.next=3,fi(!0,r,n);case 3:return e.t0=mn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=oi(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ci(e,t){return li.apply(this,arguments)}function li(){return li=oe(I().mark((function e(t,n){var r,i,a=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=In,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ti._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(n);case 2:i=oi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ht(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return pi=oe(I().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,In(t,ai(i,a,n,t),r);case 6:return Ht((o=e.sent).idToken,i,"internal-error"),Ht(u=_n(o.idToken),i,"internal-error"),s=u.sub,Ht(t.uid===s,i,"user-mismatch"),e.abrupt("return",ti._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ut(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),pi.apply(this,arguments)}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=oe(I().mark((function e(t,n){var r,i,a,o,u=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ai(t,i,n);case 4:return a=e.sent,e.next=7,ti._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vi(rr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return(bi=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X(t),e.next=3,fi(!1,r,n.providerId);case 3:return e.abrupt("return",ci(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wi(e,t){return xi.apply(this,arguments)}function xi(){return(xi=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",di(X(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e,t){return Ii.apply(this,arguments)}function Ii(){return(Ii=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cn(t,"POST","/v1/accounts:signInWithCustomToken",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(){return(Ei=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rr(t),e.next=3,_i(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ti._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Si=function(){function e(t,n){s(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return l(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ti._fromServerResponse(e,t):Ut(e,"internal-error")}}]),e}(),Ti=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return l(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Si);function Ci(e,t,n){var r;Ht((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ht("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ht(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ht(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ni(){return(Ni=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ci(i,a,r),e.next=5,wr(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(){return(Ai=oe(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cr(X(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(){return(Oi=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr(X(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return(Ri=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X(t),e.next=3,cr(r,{oobCode:n});case 3:i=e.sent,Ht(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ht(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ht(i.mfaInfo,r,"internal-error");case 13:Ht(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Si._fromServerResponse(rr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(){return(Di=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(X(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t,n){return Mi.apply(this,arguments)}function Mi(){return(Mi=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),e.next=3,Jr(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ti._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(){return(Fi=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),a={requestType:"EMAIL_SIGNIN",email:n},Ht(r.handleCodeInApp,i,"argument-error"),r&&Ci(i,a,r),e.next=6,_r(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(){return(ji=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),Ht((a=qr.credentialWithLink(n,r||Qt()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",yi(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:createAuthUri",rn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(){return(zi=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yt()?Qt():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ui(X(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(){return(Bi=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=X(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ci(r.auth,a,n),e.next=8,kr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qi(){return(qi=oe(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ci(i.auth,o,r),e.next=8,Er(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",an(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(){return(Ki=oe(I().mark((function e(t,n){var r,i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=X(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,In(a,Hi(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t,n){return Gi.apply(this,arguments)}function Gi(){return(Gi=oe(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,In(t,fr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qi=l((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yi=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o;return s(this,n),(o=t.call(this,e,r,i)).username=a,o}return l(n)}(Qi),$i=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"facebook.com",r)}return l(n)}(Qi),Xi=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return l(n)}(Yi),Ji=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"google.com",r)}return l(n)}(Qi),ea=function(e){v(n,e);var t=b(n);function n(e,r,i){return s(this,n),t.call(this,e,"twitter.com",r,i)}return l(n)}(Yi);function ta(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=_n(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Qi(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $i(a,i);case"github.com":return new Xi(a,i);case"google.com":return new Ji(a,i);case"twitter.com":return new ea(a,i,e.screenName||null);case"custom":case"anonymous":return new Qi(a,null);default:return new Qi(a,r,i)}}(n)}var na=function(){function e(t,n){s(this,e),this.type=t,this.credential=n}return l(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,u.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ra=function(){function e(t,n,r){s(this,e),this.session=t,this.hints=n,this.signInResolver=r}return l(e,[{key:"resolveSignIn",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=rr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Si._fromServerResponse(r,e)}));Ht(i.mfaPendingCredential,r,"internal-error");var o=na._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=oe(I().mark((function e(t){var a,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ti._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ht(n.user,r,"internal-error"),e.abrupt("return",ti._forOperation(n.user,n.operationType,u));case 17:Ut(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ia(e,t){return an(e,"POST","/v2/accounts/mfaEnrollment:start",rn(e,t))}var aa=function(){function e(t){var n=this;s(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Si._fromServerResponse(t.auth,e)})))}))}return l(e,[{key:"getSession",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=na,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,In(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=oe(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,In(this.user,an(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),oa=new WeakMap;var ua="__sak",sa=function(){function e(t,n){s(this,e),this.storageRetriever=t,this.type=n}return l(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(Mb){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ca=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=P();return Wn(e)||$n(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=er(),e._shouldAllowMigration=!0,e}return l(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Jn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=oe(I().mark((function e(t,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(m(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(m(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(m(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sa);ca.type="LOCAL";var la=ca,fa=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return l(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sa);fa.type="SESSION";var ha=fa;function da(e){return Promise.all(e.map(function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pa=function(){function e(t){s(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return l(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=oe(I().mark((function e(t){var n,r,i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,da(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function va(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pa.receivers=[];var ma=function(){function e(t){s(this,e),this.target=t,this.handlers=new Set}return l(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=oe(I().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=va("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ya(){return window}function ga(){return"undefined"!==typeof ya().WorkerGlobalScope&&"function"===typeof ya().importScripts}function ka(){return ba.apply(this,arguments)}function ba(){return(ba=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xa="firebaseLocalStorageDb",_a="firebaseLocalStorage",Ia="fbase_key",Ea=function(){function e(t){s(this,e),this.request=t}return l(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Sa(e,t){return e.transaction([_a],t?"readwrite":"readonly").objectStore(_a)}function Ta(){var e=indexedDB.deleteDatabase(xa);return new Ea(e).toPromise()}function Ca(){var e=indexedDB.open(xa,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_a,{keyPath:Ia})}catch(r){n(r)}})),e.addEventListener("success",oe(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_a)){n.next=12;break}return r.close(),n.next=5,Ta();case 5:return n.t0=t,n.next=8,Ca();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Na(e,t,n){return Aa.apply(this,arguments)}function Aa(){return Aa=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sa(t,!0).put((i={},(0,u.Z)(i,Ia,n),(0,u.Z)(i,"value",r),i)),e.abrupt("return",new Ea(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Oa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sa(t,!1).get(n),e.next=3,new Ea(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ra(e,t){var n=Sa(e,!0).delete(t);return new Ea(n).toPromise()}var Da=function(){function e(){s(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return l(e,[{key:"_openDb",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ca();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ga()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=oe(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pa._getInstance(ga()?self:null),this.receiver._subscribe("keyChanged",function(){var e=oe(I().mark((function e(n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=oe(I().mark((function e(){var t,n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ma(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ca();case 5:return t=e.sent,e.next=8,Na(t,ua,"1");case 8:return e.next=10,Ra(t,ua);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Na(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Oa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ra(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=oe(I().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Sa(e,!1).getAll();return new Ea(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=h(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Da.type="LOCAL";var La=Da;function Ma(e,t){return an(e,"POST","/v2/accounts/mfaSignIn:start",rn(e,t))}function Fa(e){return ja.apply(this,arguments)}function ja(){return(ja=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Vt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Va(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var za=1e12,Ba=function(){function e(t){s(this,e),this.auth=t,this.counter=za,this._widgets=new Map}return l(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qa(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||za;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||za;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||za,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qa=function(){function e(t,n,r){var i=this;s(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ht(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return l(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ha=Va("rcb"),Wa=new Xt(3e4,6e4),Ka="https://www.google.com/recaptcha/api.js?",Za=function(){function e(){s(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ya().grecaptcha}return l(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ht(Ga(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ya().grecaptcha):new Promise((function(r,i){var a=ya().setTimeout((function(){i(Vt(e,"network-request-failed"))}),Wa.get());ya()[Ha]=function(){ya().clearTimeout(a),delete ya()[Ha];var o=ya().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Vt(e,"internal-error"))},Ua("".concat(Ka,"?").concat(K({onload:Ha,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Vt(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ya().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ga(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Qa=function(){function e(){s(this,e)}return l(e,[{key:"load",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ba(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ya="recaptcha",$a={theme:"light",type:"image"},Xa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$a),r=arguments.length>2?arguments[2]:void 0;s(this,e),this.parameters=n,this.type=Ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(r),this.isInvisible="invisible"===this.parameters.size,Ht("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ht(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qa:new Za,this.validateStartingState()}return l(e,[{key:"verify",value:function(){var e=oe(I().mark((function e(){var t,n,r,i=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ht(!this.parameters.sitekey,this.auth,"argument-error"),Ht(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ht("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ya()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ht(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=oe(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ht(Yt()&&!ga(),this.auth,"internal-error"),e.next=3,Ja();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Fa(this.auth);case 8:Ht(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ht(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ja(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var eo=function(){function e(t,n){s(this,e),this.verificationId=t,this.onConfirmation=n}return l(e,[{key:"confirm",value:function(e){var t=zr._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function to(){return(to=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),e.next=3,ao(i,n,X(r));case 3:return a=e.sent,e.abrupt("return",new eo(a,(function(e){return yi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t,n){return ro.apply(this,arguments)}function ro(){return(ro=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),e.next=3,fi(!1,i,"phone");case 3:return e.next=5,ao(i.auth,n,X(r));case 5:return a=e.sent,e.abrupt("return",new eo(a,(function(e){return ki(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(){return(io=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X(t),e.next=3,ao(i.auth,n,X(r));case 3:return a=e.sent,e.abrupt("return",new eo(a,(function(e){return wi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t,n){return oo.apply(this,arguments)}function oo(){return oo=oe(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ht("string"===typeof a,t,"argument-error"),Ht(r.type===Ya,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ht("enroll"===u.type,t,"internal-error"),e.next=13,ia(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ht("signin"===u.type,t,"internal-error"),Ht(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ma(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Lr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),oo.apply(this,arguments)}function uo(){return(uo=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(X(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var so=function(){function e(t){s(this,e),this.providerId=e.PROVIDER_ID,this.auth=rr(t)}return l(e,[{key:"verifyPhoneNumber",value:function(e,t){return ao(this.auth,e,X(t))}}],[{key:"credential",value:function(e,t){return zr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zr._fromTokenResponse(n,r):null}}]),e}();function co(e,t){return t?Gt(t):(Ht(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}so.PROVIDER_ID="phone",so.PHONE_SIGN_IN_METHOD="phone";var lo=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"custom","custom")).params=e,r}return l(n,[{key:"_getIdTokenResponse",value:function(e){return Pr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(sr);function fo(e){return vi(e.auth,new lo(e),e.bypassAuthState)}function ho(e){var t=e.auth,n=e.user;return Ht(n,t,"internal-error"),di(n,new lo(e),e.bypassAuthState)}function po(e){return vo.apply(this,arguments)}function vo(){return(vo=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ht(r=t.user,n,"internal-error"),e.abrupt("return",ci(r,new lo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return l(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=oe(I().mark((function t(n,r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=oe(I().mark((function e(t){var n,r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fo;case"linkViaPopup":case"linkViaRedirect":return po;case"reauthViaPopup":case"reauthViaRedirect":return ho;default:Ut(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),yo=new Xt(2e3,1e4);function go(e,t,n){return ko.apply(this,arguments)}function ko(){return(ko=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),Bt(t,n,Hr),a=co(i,r),o=new _o(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(){return(bo=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt((i=X(t)).auth,n,Hr),a=co(i.auth,r),o=new _o(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t,n){return xo.apply(this,arguments)}function xo(){return(xo=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt((i=X(t)).auth,n,Hr),a=co(i.auth,r),o=new _o(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _o=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o){var u;return s(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=d(u),u}return l(n,[{key:"executeNotNull",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ht(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(I().mark((function e(){var t,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kt(1===this.filter.length,"Popup operations only handle one event"),t=va(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Vt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Vt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Vt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,yo.get())}()}}]),n}(mo);_o.currentPopupAction=null;var Io=new Map,Eo=function(e){v(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return l(n,[{key:"execute",value:function(){var e=oe(I().mark((function e(){var t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Io.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,So(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kt(m(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Io.set(this.auth._key(),t);case 21:return this.bypassAuthState||Io.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=oe(I().mark((function e(t){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kt(m(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kt(m(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(mo);function So(e,t){return To.apply(this,arguments)}function To(){return(To=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oo(n),i=Ao(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t){return No.apply(this,arguments)}function No(){return(No=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t)._set(Oo(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e){return Gt(e._redirectPersistence)}function Oo(e){return zn("pendingRedirect",e.config.apiKey,e.name)}function Po(e,t,n){return function(e,t,n){return Ro.apply(this,arguments)}(e,t,n)}function Ro(){return(Ro=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rr(t),Bt(t,n,Hr),a=co(i,r),e.next=5,Co(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t,n){return function(e,t,n){return Lo.apply(this,arguments)}(e,t,n)}function Lo(){return(Lo=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt((i=X(t)).auth,n,Hr),a=co(i.auth,r),e.next=5,Co(a,i.auth);case 5:return e.next=7,Bo(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t,n){return function(e,t,n){return Fo.apply(this,arguments)}(e,t,n)}function Fo(){return(Fo=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt((i=X(t)).auth,n,Hr),a=co(i.auth,r),e.next=5,fi(!1,i,n.providerId);case 5:return e.next=7,Co(a,i.auth);case 7:return e.next=9,Bo(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return(Uo=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr(t)._initializationPromise;case 2:return e.abrupt("return",Vo(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=oe(I().mark((function e(t,n){var r,i,a,o,u,s=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=rr(t),a=co(i,n),o=new Eo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(e){return qo.apply(this,arguments)}function qo(){return(qo=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=va("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ho=function(){function e(t){s(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return l(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ko(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ko(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ko(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Zo(e){return Go.apply(this,arguments)}function Go(){return Go=oe(I().mark((function e(t){var n,r=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",an(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var Qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yo=/^https?/;function $o(){return($o=oe(I().mark((function e(t){var n,r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zo(t);case 4:n=e.sent,r=n.authorizedDomains,i=h(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xo(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ut(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Xo(e){var t=Qt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Yo.test(r))return!1;if(Qo.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Jo=new Xt(3e4,6e4);function eu(){var e=ya().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,ie.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tu=null;function nu(e){return tu=tu||function(e){return new Promise((function(t,n){var r,i,a;function o(){eu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eu(),n(Vt(e,"network-request-failed"))},timeout:Jo.get()})}if(null===(i=null===(r=ya().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ya().gapi)||void 0===a?void 0:a.load)){var u=Va("iframefcb");return ya()[u]=function(){gapi.load?o():n(Vt(e,"network-request-failed"))},Ua("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tu=null,e}))}(e),tu}var ru=new Xt(5e3,15e3),iu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ou(e){var t=e.config;Ht(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Jt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:je},i=au.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(K(r).slice(1))}function uu(e){return su.apply(this,arguments)}function su(){return su=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(t);case 2:return n=e.sent,Ht(r=ya().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ou(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iu,dontclear:!0},(function(e){return new Promise(function(){var n=oe(I().mark((function n(r,i){var a,o,u;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ya().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Vt(t,"network-request-failed"),o=ya().setTimeout((function(){i(a)}),ru.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}var cu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lu="_blank",fu="http://localhost",hu=function(){function e(t){s(this,e),this.window=t,this.associatedEvent=null}return l(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function du(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},cu),{width:r.toString(),height:i.toString(),top:a,left:u}),l=P().toLowerCase();n&&(s=Kn(l)?lu:n),Hn(l)&&(t=t||fu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Xn(l)&&"_self"!==s)return pu(t||"",s),new hu(null);var h=window.open(t||"",s,f);Ht(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hu(h)}function pu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var vu="__/auth/handler",mu="emulator/auth/handler";function yu(e,t,n,r,i,a){Ht(e.config.authDomain,e,"auth-domain-config-required"),Ht(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:je,eventId:i};if(t instanceof Hr){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=(0,o.Z)(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Wr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vu);return Jt(t,mu)}(e),"?").concat(K(p).slice(1))}var gu="webStorageSupport",ku=function(){function e(){s(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ha,this._completeRedirectFn=Vo}return l(e,[{key:"_openPopup",value:function(){var e=oe(I().mark((function e(t,n,r,i){var a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=yu(t,n,r,Qt(),i),e.abrupt("return",du(t,o,va()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=yu(t,n,r,Qt(),i),ya().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Kt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(t);case 2:return n=e.sent,r=new Ho(t),n.register("authEvent",(function(e){return Ht(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(gu,{type:gu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ut(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $o.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return er()||Wn()||$n()}}]),e}(),bu=ku,wu=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,"phone")).credential=e,r}return l(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return an(e,"POST","/v2/accounts/mfaEnrollment:finalize",rn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return an(e,"POST","/v2/accounts/mfaSignIn:finalize",rn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){s(this,e),this.factorId=t}return l(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Wt("unexpected MultiFactorSessionType")}}}]),e}()),xu=function(){function e(){s(this,e)}return l(e,null,[{key:"assertion",value:function(e){return wu._fromCredential(e)}}]),e}();xu.FACTOR_ID="phone";var _u,Iu="@firebase/auth",Eu="0.19.10",Su=function(){function e(t){s(this,e),this.auth=t,this.internalListeners=new Map}return l(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Tu(){return window}_u="Browser",Oe(new ue("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ht(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ht(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:_u,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tr(_u)},i=new nr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Oe(new ue("auth-internal",(function(e){return function(e){return new Su(e)}(rr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),He(Iu,Eu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_u)),He(Iu,Eu,"esm2017");function Cu(e,t,n){return Nu.apply(this,arguments)}function Nu(){return Nu=oe(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tu(),o=a.BuildInfo,Kt(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Lu(n.sessionId);case 4:return u=e.sent,s={},$n()?s.ibi=o.packageName:Gn()?s.apn=o.packageName:Ut(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",yu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Au(){return(Au=oe(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tu(),r=n.BuildInfo,i={},$n()?i.iosBundleId=r.packageName:Gn()?i.androidPackageName=r.packageName:Ut(t,"operation-not-supported-in-this-environment"),e.next=5,Zo(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e){var t=Tu().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Pu(e,t,n){return Ru.apply(this,arguments)}function Ru(){return Ru=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tu(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Vt(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Gn()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ru.apply(this,arguments)}function Du(e){var t,n,r,i,a,o,u,s,c,l,f=Tu();Ht("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ht("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ht("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Lu(e){return Mu.apply(this,arguments)}function Mu(){return(Mu=oe(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e){if(Kt(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ju=function(e){v(n,e);var t=b(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return l(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kt(m(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ho);function Uu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Hu(),postBody:null,tenantId:e.tenantId,error:Vt(e,"no-auth-event")}}function Vu(e,t){return Wu()._set(Ku(e),t)}function zu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu()._get(Ku(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Wu()._remove(Ku(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e,t){var n,r,i=function(e){var t=Zu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Zu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Zu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Zu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Vt(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Hu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Wu(){return Gt(la)}function Ku(e){return zn("authEvent",e.config.apiKey,e.name)}function Zu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,vt.Z)(t)||(0,mt.Z)(t)||(0,f.Z)(t)||(0,yt.Z)());r[0];return Z(r.slice(1).join("?"))}var Gu=function(){function e(){s(this,e),this._redirectPersistence=ha,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vo}return l(e,[{key:"_initialize",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ju(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ut(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=oe(I().mark((function e(t,n,r,i){var a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Du(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Io.clear(),e.next=10,this._originValidation(t);case 10:return o=Uu(t,r,i),e.next=13,Vu(t,o);case 13:return e.next=15,Cu(t,o,n);case 15:return u=e.sent,e.next=18,Ou(u);case 18:return s=e.sent,e.abrupt("return",Pu(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Au.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Tu(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zu(e);case 2:t.onEvent(Yu());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=oe(I().mark((function n(r){var i,a;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,zu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qu(i,r.url)),t.onEvent(a||Yu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Tu().handleOpenURL=function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Qu=Gu;function Yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function $u(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return!("file:"!==$u()&&"ionic:"!==$u()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ju(){return F()&&11===(null===document||void 0===document?void 0:document.documentMode)}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return/Edge\/\d+/.test(e)}function ts(){try{var e=self.localStorage,t=va();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P();return Ju()||es(e)}()||j()}catch(n){return ns()&&j()}return!1}function ns(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function rs(){return("http:"===$u()||"https:"===$u()||L()||Xu())&&!(M()||D())&&ts()&&!ns()}function is(){return Xu()&&"undefined"!==typeof document}function as(){return os.apply(this,arguments)}function os(){return(os=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(is()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var us={LOCAL:"local",NONE:"none",SESSION:"session"},ss=Ht,cs="persistence";function ls(e,t){ss(Object.values(us).includes(t),e,"invalid-persistence-type"),M()?ss(t!==us.SESSION,e,"unsupported-persistence-type"):D()?ss(t===us.NONE,e,"unsupported-persistence-type"):ns()?ss(t===us.NONE||t===us.LOCAL&&j(),e,"unsupported-persistence-type"):ss(t===us.NONE||ts(),e,"unsupported-persistence-type")}function fs(e){return hs.apply(this,arguments)}function hs(){return(hs=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ds(),r=zn(cs,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ps=Ht,vs=function(){function e(){s(this,e),this.browserResolver=Gt(bu),this.cordovaResolver=Gt(Qu),this.underlyingResolver=null,this._redirectPersistence=ha,this._completeRedirectFn=Vo}return l(e,[{key:"_initialize",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=oe(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(I().mark((function e(t,n,r,i){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return is()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ps(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,as();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ms(e){return e.unwrap()}function ys(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new xs(e,function(e,t){var n,r=X(e),i=t;return Ht(t.customData.operationType,r,"argument-error"),Ht(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ra._fromError(r,i)}(e,t));else if(r){var i=gs(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function gs(e){var t=(e instanceof U?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof U)&&"temporaryProof"in t&&"phoneNumber"in t)return so.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Et)return null;switch(r){case It:n=Gr;break;case xt:n=Zr;break;case _t:n=Qr;break;case St:n=Xr;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Yr._create(r,u):Dr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Kr(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof U?n.credentialFromError(e):n.credentialFromResult(e)}function ks(e,t){return t.catch((function(t){throw t instanceof U&&ys(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,gs(t)),additionalUserInfo:ta(e),user:_s.getOrCreate(r)}}))}function bs(e,t){return ws.apply(this,arguments)}function ws(){return(ws=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ks(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xs=function(){function e(t,n){s(this,e),this.resolver=n,this.auth=t.wrapped()}return l(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ks(ms(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),_s=function(){function e(t){s(this,e),this._delegate=t,this.multiFactor=function(e){var t=X(e);return oa.has(t)||oa.set(t,aa._fromUser(t)),oa.get(t)}(t)}return l(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(this.auth,ki(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs(this.auth,no(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(this.auth,wo(this._delegate,t,vs)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(rr(this.auth));case 2:return e.abrupt("return",Mo(this._delegate,t,vs));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(this.auth,wi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return bs(this.auth,function(e,t,n){return io.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ks(this.auth,function(e,t,n){return bo.apply(this,arguments)}(this._delegate,e,vs))}},{key:"reauthenticateWithRedirect",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(rr(this.auth));case 2:return e.abrupt("return",Do(this._delegate,t,vs));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bi.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zi(X(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zi(X(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return uo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ki.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qi.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();_s.USER_MAP=new WeakMap;var Is=Ht,Es=function(){function e(t,n){if(s(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Is(r,"invalid-api-key",{appName:t.name}),Is(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?vs:void 0;this._delegate=n.initialize({options:{persistence:Ts(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Dt),this.linkUnderlyingAuth()}return l(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?_s.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ar(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Pi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ai.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ks(this._delegate,Li(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return zi.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Br.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Is(rs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jo(this._delegate,vs);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ks(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){rr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ss(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Fi.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ni.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ls(this._delegate,t),e.t0=t,e.next=e.t0===us.SESSION?4:e.t0===us.LOCAL?6:e.t0===us.NONE?11:13;break;case 4:return n=ha,e.abrupt("break",14);case 6:return e.next=8,Gt(La)._isAvailable();case 8:return r=e.sent,n=r?La:la,e.abrupt("break",14);case 11:return n=Vn,e.abrupt("break",14);case 13:return e.abrupt("return",Ut("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ks(this._delegate,function(e){return ri.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ks(this._delegate,yi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ks(this._delegate,function(e,t){return Ei.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ks(this._delegate,function(e,t,n){return yi(X(e),qr.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ks(this._delegate,function(e,t,n){return ji.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return bs(this._delegate,function(e,t,n){return to.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Is(rs(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ks(this._delegate,go(this._delegate,t,vs)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Is(rs(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fs(this._delegate);case 3:return e.abrupt("return",Po(this._delegate,t,vs));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Di.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ss(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&_s.getOrCreate(e))},error:t,complete:n}}function Ts(e,t){var n=function(e,t){var n=ds();if(!n)return[];var r=zn(cs,e,t);switch(n.getItem(r)){case us.NONE:return[Vn];case us.LOCAL:return[La,ha];case us.SESSION:return[ha];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(La)||n.push(La),"undefined"!==typeof window)for(var r=0,i=[la,ha];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vn)||n.push(Vn),n}Es.Persistence=us;var Cs=function(){function e(){s(this,e),this.providerId="phone",this._delegate=new so(ms(pt.auth()))}return l(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return so.credential(e,t)}}]),e}();Cs.PHONE_SIGN_IN_METHOD=so.PHONE_SIGN_IN_METHOD,Cs.PROVIDER_ID=so.PROVIDER_ID;var Ns,As=Ht,Os=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt.app();s(this,e),As(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Xa(t,n,i.auth()),this.type=this._delegate.type}return l(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ns=pt).INTERNAL.registerComponent(new ue("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Es(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tt,PASSWORD_RESET:Ct,RECOVER_EMAIL:Nt,REVERT_SECOND_FACTOR_ADDITION:At,VERIFY_AND_CHANGE_EMAIL:Ot,VERIFY_EMAIL:Pt}},EmailAuthProvider:qr,FacebookAuthProvider:Zr,GithubAuthProvider:Qr,GoogleAuthProvider:Gr,OAuthProvider:Kr,SAMLAuthProvider:$r,PhoneAuthProvider:Cs,PhoneMultiFactorGenerator:xu,RecaptchaVerifier:Os,TwitterAuthProvider:Xr,Auth:Es,AuthCredential:sr,Error:U}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ns.registerVersion("@firebase/auth-compat","0.2.10");var Ps,Rs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ds={},Ls=Ls||{},Ms=Rs||self;function Fs(){}function js(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Us(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vs="closure_uid_"+(1e9*Math.random()>>>0),zs=0;function Bs(e,t,n){return e.call.apply(e.bind,arguments)}function qs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Hs(e,t,n){return(Hs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bs:qs).apply(null,arguments)}function Ws(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ks(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Zs(){this.s=this.s,this.o=this.o}var Gs={};Zs.prototype.s=!1,Zs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Vs)&&e[Vs]||(e[Vs]=++zs)}(this);delete Gs[e]}},Zs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ys=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function $s(e){return Array.prototype.concat.apply([],arguments)}function Xs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Js(e){return/^[\s\xa0]*$/.test(e)}var ec,tc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function nc(e,t){return-1!=e.indexOf(t)}function rc(e,t){return e<t?-1:e>t?1:0}e:{var ic=Ms.navigator;if(ic){var ac=ic.userAgent;if(ac){ec=ac;break e}}ec=""}function oc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uc(e){var t={};for(var n in e)t[n]=e[n];return t}var sc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sc.length;a++)n=sc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lc(e){return lc[" "](e),e}lc[" "]=Fs;var fc,hc=nc(ec,"Opera"),dc=nc(ec,"Trident")||nc(ec,"MSIE"),pc=nc(ec,"Edge"),vc=pc||dc,mc=nc(ec,"Gecko")&&!(nc(ec.toLowerCase(),"webkit")&&!nc(ec,"Edge"))&&!(nc(ec,"Trident")||nc(ec,"MSIE"))&&!nc(ec,"Edge"),yc=nc(ec.toLowerCase(),"webkit")&&!nc(ec,"Edge");function gc(){var e=Ms.document;return e?e.documentMode:void 0}e:{var kc="",bc=function(){var e=ec;return mc?/rv:([^\);]+)(\)|;)/.exec(e):pc?/Edge\/([\d\.]+)/.exec(e):dc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yc?/WebKit\/(\S+)/.exec(e):hc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(bc&&(kc=bc?bc[1]:""),dc){var wc=gc();if(null!=wc&&wc>parseFloat(kc)){fc=String(wc);break e}}fc=kc}var xc,_c={};function Ic(){return function(e){var t=_c;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=tc(String(fc)).split("."),n=tc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=rc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||rc(0==a[2].length,0==o[2].length)||rc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ms.document&&dc){var Ec=gc();xc=Ec||(parseInt(fc,10)||void 0)}else xc=void 0;var Sc=xc,Tc=function(){if(!Ms.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ms.addEventListener("test",Fs,t),Ms.removeEventListener("test",Fs,t)}catch(n){}return e}();function Cc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Nc(e,t){if(Cc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mc){e:{try{lc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ac[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Nc.Z.h.call(this)}}Cc.prototype.h=function(){this.defaultPrevented=!0},Ks(Nc,Cc);var Ac={2:"touch",3:"pen",4:"mouse"};Nc.prototype.h=function(){Nc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Oc="closure_listenable_"+(1e6*Math.random()|0),Pc=0;function Rc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Pc,this.ca=this.fa=!1}function Dc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Lc(e){this.src=e,this.g={},this.h=0}function Mc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Qs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Dc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Lc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Fc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Rc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var jc="closure_lm_"+(1e6*Math.random()|0),Uc={};function Vc(e,t,n,r,i){if(r&&r.once)return Bc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vc(e,t[a],n,r,i);return null}return n=Qc(n),e&&e[Oc]?e.N(t,n,Us(r)?!!r.capture:!!r,i):zc(e,t,n,!1,r,i)}function zc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Us(i)?!!i.capture:!!i,u=Zc(e);if(u||(e[jc]=u=new Lc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Tc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Bc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bc(e,t[a],n,r,i);return null}return n=Qc(n),e&&e[Oc]?e.O(t,n,Us(r)?!!r.capture:!!r,i):zc(e,t,n,!0,r,i)}function qc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qc(e,t[a],n,r,i);else r=Us(r)?!!r.capture:!!r,n=Qc(n),e&&e[Oc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fc(a=e.g[t],n,r,i))&&(Dc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Zc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fc(t,n,r,i)),(n=-1<e?t[e]:null)&&Hc(n))}function Hc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Oc])Mc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zc(t))?(Mc(n,e),0==n.h&&(n.src=null,t[jc]=null)):Dc(e)}}}function Wc(e){return e in Uc?Uc[e]:Uc[e]="on"+e}function Kc(e,t){if(e.ca)e=!0;else{t=new Nc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Hc(e),e=n.call(r,t)}return e}function Zc(e){return(e=e[jc])instanceof Lc?e:null}var Gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qc(e){return"function"===typeof e?e:(e[Gc]||(e[Gc]=function(t){return e.handleEvent(t)}),e[Gc])}function Yc(){Zs.call(this),this.i=new Lc(this),this.P=this,this.I=null}function $c(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Cc(t,e);else if(t instanceof Cc)t.target=t.target||e;else{var i=t;cc(t=new Cc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Xc(o,r,!0,t)&&i}if(i=Xc(o=t.g=e,r,!0,t)&&i,i=Xc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Xc(o=t.g=n[a],r,!1,t)&&i}function Xc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Mc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ks(Yc,Zs),Yc.prototype[Oc]=!0,Yc.prototype.removeEventListener=function(e,t,n,r){qc(this,e,t,n,r)},Yc.prototype.M=function(){if(Yc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dc(n[r]);delete t.g[e],t.h--}}this.I=null},Yc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Yc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jc=Ms.JSON.stringify;function el(){var e=sl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tl,nl=function(){function e(){s(this,e),this.h=this.g=null}return l(e,[{key:"add",value:function(e,t){var n=rl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),rl=new(function(){function e(t,n){s(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return l(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new il}),(function(e){return e.reset()})),il=function(){function e(){s(this,e),this.next=this.g=this.h=null}return l(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function al(e){Ms.setTimeout((function(){throw e}),0)}function ol(e,t){tl||function(){var e=Ms.Promise.resolve(void 0);tl=function(){e.then(cl)}}(),ul||(tl(),ul=!0),sl.add(e,t)}var ul=!1,sl=new nl;function cl(){for(var e;e=el();){try{e.h.call(e.g)}catch(n){al(n)}var t=rl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ul=!1}function ll(e,t){Yc.call(this),this.h=e||1,this.g=t||Ms,this.j=Hs(this.kb,this),this.l=Date.now()}function fl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function hl(e,t,n){if("function"===typeof e)n&&(e=Hs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Hs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ms.setTimeout(e,t||0)}function dl(e){e.g=hl((function(){e.g=null,e.i&&(e.i=!1,dl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ks(ll,Yc),(Ps=ll.prototype).da=!1,Ps.S=null,Ps.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$c(this,"tick"),this.da&&(fl(this),this.start()))}},Ps.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ps.M=function(){ll.Z.M.call(this),fl(this),delete this.g};var pl=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return l(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:dl(this)}},{key:"M",value:function(){kt(m(n.prototype),"M",this).call(this),this.g&&(Ms.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Zs);function vl(e){Zs.call(this),this.h=e,this.g={}}Ks(vl,Zs);var ml=[];function yl(e,t,n,r){Array.isArray(n)||(n&&(ml[0]=n.toString()),n=ml);for(var i=0;i<n.length;i++){var a=Vc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gl(e){oc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hc(e)}),e),e.g={}}function kl(){this.g=!0}function bl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}vl.prototype.M=function(){vl.Z.M.call(this),gl(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kl.prototype.Aa=function(){this.g=!1},kl.prototype.info=function(){};var wl={},xl=null;function _l(){return xl=xl||new Yc}function Il(e){Cc.call(this,wl.Ma,e)}function El(e){var t=_l();$c(t,new Il(t,e))}function Sl(e,t){Cc.call(this,wl.STAT_EVENT,e),this.stat=t}function Tl(e){var t=_l();$c(t,new Sl(t,e))}function Cl(e,t){Cc.call(this,wl.Na,e),this.size=t}function Nl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ms.setTimeout((function(){e()}),t)}wl.Ma="serverreachability",Ks(Il,Cc),wl.STAT_EVENT="statevent",Ks(Sl,Cc),wl.Na="timingevent",Ks(Cl,Cc);var Al={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ol={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pl(){}function Rl(e){return e.h||(e.h=e.i())}function Dl(){}Pl.prototype.h=null;var Ll,Ml={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Fl(){Cc.call(this,"d")}function jl(){Cc.call(this,"c")}function Ul(){}function Vl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new vl(this),this.P=Bl,e=vc?125:void 0,this.W=new ll(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}Ks(Fl,Cc),Ks(jl,Cc),Ks(Ul,Pl),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},Ll=new Ul;var Bl=45e3,ql={},Hl={};function Wl(e,t,n){e.K=1,e.v=vf(cf(t)),e.s=n,e.U=!0,Kl(e,null)}function Kl(e,t){e.F=Date.now(),Yl(e),e.A=cf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Cf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new zl,e.g=Ah(e.l,n?t:null,!e.s),0<e.O&&(e.L=new pl(Hs(e.Ia,e,e.g),e.O)),yl(e.V,e.g,"readystatechange",e.gb),t=e.H?uc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),El(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Gl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ql(e,n))==Hl){4==t&&(e.o=4,Tl(14),i=!1),bl(e.j,e.m,null,"[Incomplete Response]");break}if(r==ql){e.o=4,Tl(15),bl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bl(e.j,e.m,r,null),tf(e,r)}Zl(e)&&r!=Hl&&r!=ql&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Tl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),xh(t),t.L=!0,Tl(11))):(bl(e.j,e.m,n,"[Invalid Chunked Response]"),ef(e),Jl(e))}function Ql(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Hl:(n=Number(t.substring(n,r)),isNaN(n)?ql:(r+=1)+n>t.length?Hl:(t=t.substr(r,n),e.C=r+n,t))}function Yl(e){e.Y=Date.now()+e.P,$l(e,e.P)}function $l(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Nl(Hs(e.eb,e),t)}function Xl(e){e.B&&(Ms.clearTimeout(e.B),e.B=null)}function Jl(e){0==e.l.G||e.I||Eh(e.l,e)}function ef(e){Xl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,fl(e.W),gl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Mf(n.i,e)))if(n.I=e.N,!e.J&&Mf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ih(n),dh(n)}wh(n),Tl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Nl(Hs(n.ab,n),6e3));if(1>=Lf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Th(n,11)}else if((e.J||n.g==e)&&Ih(n),!Js(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(nc(l,"spdy")||nc(l,"quic")||nc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ff(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,pf(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Nh(r,r.H?r.la:null,r.W),d.J){jf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Xl(p),Yl(p)),r.g=d}else bh(r);0<n.l.length&&mh(n)}else"stop"!=a[0]&&"close"!=a[0]||Th(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Th(n,7):hh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}El(4)}catch(a){}}function nf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(js(e)||"string"===typeof e)Ys(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(js(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(js(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function rf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function af(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];of(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)of(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function of(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ps=Vl.prototype).setTimeout=function(e){this.P=e},Ps.gb=function(e){e=e.target;var t=this.L;t&&3==uh(e)?t.l():this.Ia(e)},Ps.Ia=function(e){try{if(e==this.g)e:{var t=uh(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||vc||this.g&&(this.h.h||this.g.ga()||sh(this.g)))){this.I||4!=t||7==n||El(8==n||0>=r?3:2),Xl(this);var i=this.g.ba();this.N=i;t:if(Zl(this)){var a=sh(this.g);e="";var o=a.length,u=4==uh(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ef(this),Jl(this);var s="";break t}this.h.i=new Ms.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Js(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Tl(12),ef(this),Jl(this);break e}bl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tf(this,i)}this.U?(Gl(this,t,s),vc&&this.i&&3==t&&(yl(this.V,this.W,"tick",this.fb),this.W.start())):(bl(this.j,this.m,s,null),tf(this,s)),4==t&&ef(this),this.i&&!this.I&&(4==t?Eh(this.l,this):(this.i=!1,Yl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Tl(12)):(this.o=0,Tl(13)),ef(this),Jl(this)}}}catch(t){}},Ps.fb=function(){if(this.g){var e=uh(this.g),t=this.g.ga();this.C<t.length&&(Xl(this),Gl(this,e,t),this.i&&4!=e&&Yl(this))}},Ps.cancel=function(){this.I=!0,ef(this)},Ps.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(El(3),Tl(17)),ef(this),this.o=2,Jl(this)):$l(this,this.Y-e)},(Ps=rf.prototype).R=function(){af(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ps.T=function(){return af(this),this.g.concat()},Ps.get=function(e,t){return of(this.h,e)?this.h[e]:t},Ps.set=function(e,t){of(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ps.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var uf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof sf){this.g=void 0!==t?t:e.g,lf(this,e.j),this.s=e.s,ff(this,e.i),hf(this,e.m),this.l=e.l,t=e.h;var n=new If;n.i=t.i,t.g&&(n.g=new rf(t.g),n.h=t.h),df(this,n),this.o=e.o}else e&&(n=String(e).match(uf))?(this.g=!!t,lf(this,n[1]||"",!0),this.s=mf(n[2]||""),ff(this,n[3]||"",!0),hf(this,n[4]),this.l=mf(n[5]||"",!0),df(this,n[6]||"",!0),this.o=mf(n[7]||"")):(this.g=!!t,this.h=new If(null,this.g))}function cf(e){return new sf(e)}function lf(e,t,n){e.j=n?mf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ff(e,t,n){e.i=n?mf(t,!0):t}function hf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function df(e,t,n){t instanceof If?(e.h=t,function(e,t){t&&!e.j&&(Ef(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sf(this,t),Cf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=yf(t,xf)),e.h=new If(t,e.g))}function pf(e,t,n){e.h.set(t,n)}function vf(e){return pf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yf(t,kf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yf(t,kf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(yf(n,"/"==n.charAt(0)?wf:bf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yf(n,_f)),e.join("")};var kf=/[#\/\?@]/g,bf=/[#\?:]/g,wf=/[#\?]/g,xf=/[#\?@]/g,_f=/#/g;function If(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ef(e){e.g||(e.g=new rf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sf(e,t){Ef(e),t=Nf(e,t),of(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,of((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&af(e)))}function Tf(e,t){return Ef(e),t=Nf(e,t),of(e.g.h,t)}function Cf(e,t,n){Sf(e,t),0<n.length&&(e.i=null,e.g.set(Nf(e,t),Xs(n)),e.h+=n.length)}function Nf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ps=If.prototype).add=function(e,t){Ef(this),this.i=null,e=Nf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ps.forEach=function(e,t){Ef(this),this.g.forEach((function(n,r){Ys(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ps.T=function(){Ef(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ps.R=function(e){Ef(this);var t=[];if("string"===typeof e)Tf(this,e)&&(t=$s(t,this.g.get(Nf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$s(t,e[n])}return t},Ps.set=function(e,t){return Ef(this),this.i=null,Tf(this,e=Nf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ps.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ps.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Af=l((function e(t,n){s(this,e),this.h=t,this.g=n}));function Of(e){this.l=e||Rf,Ms.PerformanceNavigationTiming?e=0<(e=Ms.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ms.g&&Ms.g.Ea&&Ms.g.Ea()&&Ms.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pf,Rf=10;function Df(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Lf(e){return e.h?1:e.g?e.g.size:0}function Mf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ff(e,t){e.g?e.g.add(t):e.h=t}function jf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Uf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=h(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xs(e.i)}function Vf(){}function zf(){this.g=new Vf}function Bf(e,t,n){var r=n||"";try{nf(e,(function(e,n){var i=e;Us(e)&&(i=Jc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Hf(e){this.l=e.$b||null,this.j=e.ib||!1}function Wf(e,t){Yc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Of.prototype.cancel=function(){if(this.i=Uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=h(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Vf.prototype.stringify=function(e){return Ms.JSON.stringify(e,void 0)},Vf.prototype.parse=function(e){return Ms.JSON.parse(e,void 0)},Ks(Hf,Pl),Hf.prototype.g=function(){return new Wf(this.l,this.j)},Hf.prototype.i=(Pf={},function(){return Pf}),Ks(Wf,Yc);var Kf=0;function Zf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Gf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Qf(e)}function Qf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ps=Wf.prototype).open=function(e,t){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Qf(this)},Ps.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ms).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ps.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gf(this)),this.readyState=Kf},Ps.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ms.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ps.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gf(this):Qf(this),3==this.readyState&&Zf(this)}},Ps.Ua=function(e){this.g&&(this.response=this.responseText=e,Gf(this))},Ps.Ta=function(e){this.g&&(this.response=e,Gf(this))},Ps.ha=function(){this.g&&Gf(this)},Ps.setRequestHeader=function(e,t){this.v.append(e,t)},Ps.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ps.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Yf=Ms.JSON.parse;function $f(e){Yc.call(this),this.headers=new rf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xf,this.K=this.L=!1}Ks($f,Yc);var Xf="",Jf=/^https?$/i,eh=["POST","PUT"];function th(e){return"content-type"==e.toLowerCase()}function nh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,rh(e),ah(e)}function rh(e){e.D||(e.D=!0,$c(e,"complete"),$c(e,"error"))}function ih(e){if(e.h&&"undefined"!=typeof Ls&&(!e.C[1]||4!=uh(e)||2!=e.ba()))if(e.v&&4==uh(e))hl(e.Fa,0,e);else if($c(e,"readystatechange"),4==uh(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(uf)[1]||null;if(!a&&Ms.self&&Ms.self.location){var o=Ms.self.location.protocol;a=o.substr(0,o.length-1)}i=!Jf.test(a?a.toLowerCase():"")}t=i}if(t)$c(e,"complete"),$c(e,"success");else{e.m=6;try{var u=2<uh(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",rh(e)}}finally{ah(e)}}}function ah(e,t){if(e.g){oh(e);var n=e.g,r=e.C[0]?Fs:null;e.g=null,e.C=null,t||$c(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function oh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ms.clearTimeout(e.A),e.A=null)}function uh(e){return e.g?e.g.readyState:0}function sh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Xf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ch(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return oc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pf(e,t,n))}function lh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fh(e){this.za=0,this.l=[],this.h=new kl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lh("baseRetryDelayMs",5e3,e),this.$a=lh("retryDelaySeedMs",1e4,e),this.Ya=lh("forwardChannelMaxRetries",2,e),this.ra=lh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Of(e&&e.concurrentRequestLimit),this.Ca=new zf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function hh(e){if(ph(e),3==e.G){var t=e.V++,n=cf(e.F);pf(n,"SID",e.J),pf(n,"RID",t),pf(n,"TYPE","terminate"),gh(e,n),(t=new Vl(e,e.h,t,void 0)).K=2,t.v=vf(cf(n)),n=!1,Ms.navigator&&Ms.navigator.sendBeacon&&(n=Ms.navigator.sendBeacon(t.v.toString(),"")),!n&&Ms.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ah(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Yl(t)}Ch(e)}function dh(e){e.g&&(xh(e),e.g.cancel(),e.g=null)}function ph(e){dh(e),e.u&&(Ms.clearTimeout(e.u),e.u=null),Ih(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ms.clearTimeout(e.m),e.m=null)}function vh(e,t){e.l.push(new Af(e.Za++,t)),3==e.G&&mh(e)}function mh(e){Df(e.i)||e.m||(e.m=!0,ol(e.Ha,e),e.C=0)}function yh(e,t){var n;n=t?t.m:e.V++;var r=cf(e.F);pf(r,"SID",e.J),pf(r,"RID",n),pf(r,"AID",e.U),gh(e,r),e.o&&e.s&&ch(r,e.o,e.s),n=new Vl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=kh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ff(e.i,n),Wl(n,r,t)}function gh(e,t){e.j&&nf({},(function(e,n){pf(t,n,e)}))}function kh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Hs(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Bf(l,o,"req"+c+"_")}catch(id){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bh(e){e.g||e.u||(e.Y=1,ol(e.Ga,e),e.A=0)}function wh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Nl(Hs(e.Ga,e),Sh(e,e.A)),e.A++,!0)}function xh(e){null!=e.B&&(Ms.clearTimeout(e.B),e.B=null)}function _h(e){e.g=new Vl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=cf(e.oa);pf(t,"RID","rpc"),pf(t,"SID",e.J),pf(t,"CI",e.N?"0":"1"),pf(t,"AID",e.U),gh(e,t),pf(t,"TYPE","xmlhttp"),e.o&&e.s&&ch(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vf(cf(t)),n.s=null,n.U=!0,Kl(n,e)}function Ih(e){null!=e.v&&(Ms.clearTimeout(e.v),e.v=null)}function Eh(e,t){var n=null;if(e.g==t){Ih(e),xh(e),e.g=null;var r=2}else{if(!Mf(e.i,t))return;n=t.D,jf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;$c(r=_l(),new Cl(r,n,t,i)),mh(e)}else bh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Lf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Nl(Hs(e.Ha,e,t),Sh(e,e.C)),e.C++,!0))}(e,t)||2==r&&wh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Th(e,5);break;case 4:Th(e,10);break;case 3:Th(e,6);break;default:Th(e,2)}}function Sh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Th(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Hs(e.jb,e);n||(n=new sf("//www.google.com/images/cleardot.gif"),Ms.location&&"http"==Ms.location.protocol||lf(n,"https"),vf(n)),function(e,t){var n=new kl;if(Ms.Image){var r=new Image;r.onload=Ws(qf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ws(qf,n,r,"TestLoadImage: error",!1,t),r.onabort=Ws(qf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ws(qf,n,r,"TestLoadImage: timeout",!1,t),Ms.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Tl(2);e.G=0,e.j&&e.j.va(t),Ch(e),ph(e)}function Ch(e){e.G=0,e.I=-1,e.j&&(0==Uf(e.i).length&&0==e.l.length||(e.i.i.length=0,Xs(e.l),e.l.length=0),e.j.ua())}function Nh(e,t,n){var r=function(e){return e instanceof sf?cf(e):new sf(e,void 0)}(n);if(""!=r.i)t&&ff(r,t+"."+r.i),hf(r,r.m);else{var i=Ms.location;r=function(e,t,n,r){var i=new sf(null,void 0);return e&&lf(i,e),t&&ff(i,t),n&&hf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&oc(e.aa,(function(e,t){pf(r,t,e)})),t=e.D,n=e.sa,t&&n&&pf(r,t,n),pf(r,"VER",e.ma),gh(e,r),r}function Ah(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new $f(new Hf({ib:!0})):new $f(e.qa)).L=e.H,t}function Oh(){}function Ph(){if(dc&&!(10<=Number(Sc)))throw Error("Environmental error: no available transport.")}function Rh(e,t){Yc.call(this),this.g=new fh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Js(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Js(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mh(this)}function Dh(e){Fl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Lh(){jl.call(this),this.status=1}function Mh(e){this.g=e}(Ps=$f.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ll.g(),this.C=this.u?Rl(this.u):Rl(Ll),this.g.onreadystatechange=Hs(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void nh(this,a)}e=n||"";var i=new rf(this.headers);r&&nf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=th,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ms.FormData&&e instanceof Ms.FormData,!(0<=Qs(eh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oh(this),0<this.B&&((this.K=function(e){return dc&&Ic()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hs(this.pa,this)):this.A=hl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){nh(this,a)}},Ps.pa=function(){"undefined"!=typeof Ls&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$c(this,"timeout"),this.abort(8))},Ps.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$c(this,"complete"),$c(this,"abort"),ah(this))},Ps.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ah(this,!0)),$f.Z.M.call(this)},Ps.Fa=function(){this.s||(this.F||this.v||this.l?ih(this):this.cb())},Ps.cb=function(){ih(this)},Ps.ba=function(){try{return 2<uh(this)?this.g.status:-1}catch(Pf){return-1}},Ps.ga=function(){try{return this.g?this.g.responseText:""}catch(Pf){return""}},Ps.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Yf(t)}},Ps.Da=function(){return this.m},Ps.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ps=fh.prototype).ma=8,Ps.G=1,Ps.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ps.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Vl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?cc(n=uc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=kh(this,t,r),pf(i=cf(this.F),"RID",e),pf(i,"CVER",22),this.D&&pf(i,"X-HTTP-Session-Id",this.D),gh(this,i),this.o&&n&&ch(i,this.o,n),Ff(this.i,t),this.Ra&&pf(i,"TYPE","init"),this.ja?(pf(i,"$req",r),pf(i,"SID","null"),t.$=!0,Wl(t,i,null)):Wl(t,i,r),this.G=2}}else 3==this.G&&(e?yh(this,e):0==this.l.length||Df(this.i)||yh(this))},Ps.Ga=function(){if(this.u=null,_h(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Nl(Hs(this.bb,this),e)}},Ps.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tl(10),dh(this),_h(this))},Ps.ab=function(){null!=this.v&&(this.v=null,dh(this),wh(this),Tl(19))},Ps.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Tl(2)):(this.h.info("Failed to ping google.com"),Tl(1))},(Ps=Oh.prototype).xa=function(){},Ps.wa=function(){},Ps.va=function(){},Ps.ua=function(){},Ps.Oa=function(){},Ph.prototype.g=function(e,t){return new Rh(e,t)},Ks(Rh,Yc),Rh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ol(Hs(e.hb,e,t))),Tl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Nh(e,null,e.W),mh(e)},Rh.prototype.close=function(){hh(this.g)},Rh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,vh(this.g,t)}else this.v?((t={}).__data__=Jc(e),vh(this.g,t)):vh(this.g,e)},Rh.prototype.M=function(){this.g.j=null,delete this.j,hh(this.g),delete this.g,Rh.Z.M.call(this)},Ks(Dh,Fl),Ks(Lh,jl),Ks(Mh,Oh),Mh.prototype.xa=function(){$c(this.g,"a")},Mh.prototype.wa=function(e){$c(this.g,new Dh(e))},Mh.prototype.va=function(e){$c(this.g,new Lh(e))},Mh.prototype.ua=function(){$c(this.g,"b")},Ph.prototype.createWebChannel=Ph.prototype.g,Rh.prototype.send=Rh.prototype.u,Rh.prototype.open=Rh.prototype.m,Rh.prototype.close=Rh.prototype.close,Al.NO_ERROR=0,Al.TIMEOUT=8,Al.HTTP_ERROR=6,Ol.COMPLETE="complete",Dl.EventType=Ml,Ml.OPEN="a",Ml.CLOSE="b",Ml.ERROR="c",Ml.MESSAGE="d",Yc.prototype.listen=Yc.prototype.N,$f.prototype.listenOnce=$f.prototype.O,$f.prototype.getLastError=$f.prototype.La,$f.prototype.getLastErrorCode=$f.prototype.Da,$f.prototype.getStatus=$f.prototype.ba,$f.prototype.getResponseJson=$f.prototype.Qa,$f.prototype.getResponseText=$f.prototype.ga,$f.prototype.send=$f.prototype.ea;var Fh=Ds.createWebChannelTransport=function(){return new Ph},jh=Ds.getStatEventTarget=function(){return _l()},Uh=Ds.ErrorCode=Al,Vh=Ds.EventType=Ol,zh=Ds.Event=wl,Bh=Ds.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qh=Ds.FetchXmlHttpFactory=Hf,Hh=Ds.WebChannel=Dl,Wh=Ds.XhrIo=$f,Kh="@firebase/firestore",Zh=function(){function e(t){s(this,e),this.uid=t}return l(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zh.UNAUTHENTICATED=new Zh(null),Zh.GOOGLE_CREDENTIALS=new Zh("google-credentials-uid"),Zh.FIRST_PARTY=new Zh("first-party-uid"),Zh.MOCK_USER=new Zh("mock-user");var Gh="9.6.9",Qh=new be("@firebase/firestore");function Yh(){return Qh.logLevel}function $h(e){if(Qh.logLevel<=fe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ed);Qh.debug.apply(Qh,["Firestore (".concat(Gh,"): ").concat(e)].concat((0,ie.Z)(i)))}}function Xh(e){if(Qh.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ed);Qh.error.apply(Qh,["Firestore (".concat(Gh,"): ").concat(e)].concat((0,ie.Z)(i)))}}function Jh(e){if(Qh.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ed);Qh.warn.apply(Qh,["Firestore (".concat(Gh,"): ").concat(e)].concat((0,ie.Z)(i)))}}function ed(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function td(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Gh,") INTERNAL ASSERTION FAILED: ")+e;throw Xh(t),new Error(t)}function nd(e,t){e||td()}function rd(e,t){return e}var id={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ad=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return l(n)}(U),od=l((function e(){var t=this;s(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ud=l((function e(t,n){s(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),sd=function(){function e(){s(this,e)}return l(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),cd=function(){function e(t){s(this,e),this.token=t,this.changeListener=null}return l(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ld=function(){function e(t){s(this,e),this.t=t,this.currentUser=Zh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return l(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new od;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new od,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){$h("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):($h("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new od)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?($h("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(nd("string"==typeof n.accessToken),new ud(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return nd(null===e||"string"==typeof e),new Zh(e)}}]),e}(),fd=l((function e(t,n,r){s(this,e),this.type="FirstParty",this.user=Zh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),hd=function(){function e(t,n,r){s(this,e),this.h=t,this.l=n,this.m=r}return l(e,[{key:"getToken",value:function(){return Promise.resolve(new fd(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),dd=l((function e(t){s(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),pd=function(){function e(t){s(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return l(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&$h("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,$h("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){$h("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):$h("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(nd("string"==typeof t.token),e.p=t.token,new dd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),vd=function(){function e(t,n){var r=this;s(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return l(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function md(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}vd.A=-1;var yd=function(){function e(){s(this,e)}return l(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=md(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function gd(e,t){return e<t?-1:e>t?1:0}function kd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bd(e){return e+"\0"}var wd=function(){function e(t,n){if(s(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ad(id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ad(id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ad(id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ad(id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return l(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?gd(this.nanoseconds,e.nanoseconds):gd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),xd=function(){function e(t){s(this,e),this.timestamp=t}return l(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new wd(0,0))}}]),e}();function _d(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Id(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ed(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Sd=function(){function e(t,n,r){s(this,e),void 0===n?n=0:n>t.length&&td(),void 0===r?r=t.length-n:r>t.length-n&&td(),this.segments=t,this.offset=n,this.len=r}return l(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Td=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ad(id.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,ie.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sd),Cd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nd=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Cd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ad(id.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ad(id.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ad(id.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ad(id.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sd),Ad=function(){function e(t){s(this,e),this.fields=t,t.sort(Nd.comparator)}return l(e,[{key:"covers",value:function(e){var t,n=h(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return kd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Od=function(e){function t(e){s(this,t),this.binaryString=e}return l(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return gd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Od.EMPTY_BYTE_STRING=new Od("");var Pd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rd(e){if(nd(!!e),"string"==typeof e){var t=0,n=Pd.exec(e);if(nd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Dd(e.seconds),nanos:Dd(e.nanos)}}function Dd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ld(e){return"string"==typeof e?Od.fromBase64String(e):Od.fromUint8Array(e)}function Md(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fd(e){var t=e.mapValue.fields.__previous_value__;return Md(t)?Fd(t):t}function jd(e){var t=Rd(e.mapValue.fields.__local_write_time__.timestampValue);return new wd(t.seconds,t.nanos)}var Ud=l((function e(t,n,r,i,a,o,u,c){s(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=c})),Vd=function(){function e(t,n){s(this,e),this.projectId=t,this.database=n||"(default)"}return l(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function zd(e){return null==e}function Bd(e){return 0===e&&1/e==-1/0}function qd(e){return"number"==typeof e&&Number.isInteger(e)&&!Bd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hd=function(){function e(t){s(this,e),this.path=t}return l(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Td.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Td.fromString(t))}},{key:"fromName",value:function(t){return new e(Td.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Td.emptyPath())}},{key:"comparator",value:function(e,t){return Td.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Td(t.slice()))}}]),e}(),Wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kd={nullValue:"NULL_VALUE"};function Zd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Md(e)?4:up(e)?9:10:td()}function Gd(e,t){if(e===t)return!0;var n=Zd(e);if(n!==Zd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jd(e).isEqual(jd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Rd(e.timestampValue),r=Rd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ld(e.bytesValue).isEqual(Ld(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dd(e.geoPointValue.latitude)===Dd(t.geoPointValue.latitude)&&Dd(e.geoPointValue.longitude)===Dd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dd(e.integerValue)===Dd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Dd(e.doubleValue),r=Dd(t.doubleValue);return n===r?Bd(n)===Bd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kd(e.arrayValue.values||[],t.arrayValue.values||[],Gd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_d(n)!==_d(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gd(n[i],r[i])))return!1;return!0}(e,t);default:return td()}}function Qd(e,t){return void 0!==(e.values||[]).find((function(e){return Gd(e,t)}))}function Yd(e,t){if(e===t)return 0;var n=Zd(e),r=Zd(t);if(n!==r)return gd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Dd(e.integerValue||e.doubleValue),r=Dd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $d(e.timestampValue,t.timestampValue);case 4:return $d(jd(e),jd(t));case 5:return gd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ld(e),r=Ld(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=gd(n[i],r[i]);if(0!==a)return a}return gd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gd(Dd(e.latitude),Dd(t.latitude));return 0!==n?n:gd(Dd(e.longitude),Dd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yd(n[i],r[i]);if(a)return a}return gd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=gd(r[o],a[o]);if(0!==u)return u;var s=Yd(n[r[o]],i[a[o]]);if(0!==s)return s}return gd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw td()}}function $d(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gd(e,t);var n=Rd(e),r=Rd(t),i=gd(n.seconds,r.seconds);return 0!==i?i:gd(n.nanos,r.nanos)}function Xd(e){return Jd(e)}function Jd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Rd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ld(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Hd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=h(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=h(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):td();var t,n}function ep(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function tp(e){return!!e&&"integerValue"in e}function np(e){return!!e&&"arrayValue"in e}function rp(e){return!!e&&"nullValue"in e}function ip(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ap(e){return!!e&&"mapValue"in e}function op(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Id(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=op(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=op(e.arrayValue.values[r]);return n}return Object.assign({},e)}function up(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sp(e,t){return void 0===e?t:void 0===t||Yd(e,t)>0?e:t}function cp(e,t){return void 0===e?t:void 0===t||Yd(e,t)<0?e:t}var lp=function(){function e(t){s(this,e),this.value=t}return l(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ap(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=op(t)}},{key:"setAll",value:function(e){var t=this,n=Nd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=op(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ap(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Id(t,(function(t,n){return e[t]=n}));var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(op(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fp(e){var t=[];return Id(e.fields,(function(e,n){var r=new Nd([e]);if(ap(n)){var i=fp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=h(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ad(t)}var hp=function(){function e(t,n,r,i,a,o){s(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return l(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,xd.min(),xd.min(),lp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,xd.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,xd.min(),lp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,xd.min(),lp.empty(),2)}}]),e}(),dp=l((function e(t,n,r,i){s(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function pp(e){return e.fields.find((function(e){return 2===e.kind}))}function vp(e){return e.fields.filter((function(e){return 2!==e.kind}))}dp.UNKNOWN_ID=-1;var mp=l((function e(t,n){s(this,e),this.fieldPath=t,this.kind=n})),yp=function(){function e(t,n){s(this,e),this.sequenceNumber=t,this.offset=n}return l(e,null,[{key:"empty",value:function(){return new e(0,gp.min())}}]),e}(),gp=function(){function e(t,n,r){s(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return l(e,null,[{key:"min",value:function(){return new e(xd.min(),Hd.empty(),-1)}}]),e}(),kp=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;s(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new kp(e,t,n,r,i,a,o)}function wp(e){var t=rd(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Xd(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),zd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Xd(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Xd(e)})).join(",")),t.P=n}return t.P}function xp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Mp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Gd(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jp(e.startAt,t.startAt)&&jp(e.endAt,t.endAt)}function _p(e){return Hd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ip(e,t){return e.filters.filter((function(e){return e instanceof Ep&&e.field.isEqual(t)}))}var Ep=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Yd(t,this.value)):null!==t&&Zd(this.value)===Zd(t)&&this.v(Yd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return td()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Sp(e,t,r):"array-contains"===t?new Ap(e,r):"in"===t?new Op(e,r):"not-in"===t?new Pp(e,r):"array-contains-any"===t?new Rp(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Tp(e,n):new Cp(e,n)}}]),n}(function(){return l((function e(){s(this,e)}))}()),Sp=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,i)).key=Hd.fromName(i.referenceValue),a}return l(n,[{key:"matches",value:function(e){var t=Hd.comparator(e.key,this.key);return this.v(t)}}]),n}(Ep),Tp=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"in",r)).keys=Np("in",r),i}return l(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ep),Cp=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"not-in",r)).keys=Np("not-in",r),i}return l(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ep);function Np(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Hd.fromName(e.referenceValue)}))}var Ap=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"array-contains",r)}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return np(t)&&Qd(t.arrayValue,this.value)}}]),n}(Ep),Op=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"in",r)}return l(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qd(this.value.arrayValue,t)}}]),n}(Ep),Pp=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"not-in",r)}return l(n,[{key:"matches",value:function(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qd(this.value.arrayValue,t)}}]),n}(Ep),Rp=function(e){v(n,e);var t=b(n);function n(e,r){return s(this,n),t.call(this,e,"array-contains-any",r)}return l(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qd(t.value.arrayValue,e)}))}}]),n}(Ep),Dp=l((function e(t,n){s(this,e),this.position=t,this.inclusive=n})),Lp=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";s(this,e),this.field=t,this.dir=n}));function Mp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Hd.comparator(Hd.fromName(o.referenceValue),n.key):Yd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gd(e.position[n],t.position[n]))return!1;return!0}var Up=l((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;s(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.D=null,this.C=null,this.startAt,this.endAt}));function Vp(e,t,n,r,i,a,o,u){return new Up(e,t,n,r,i,a,o,u)}function zp(e){return new Up(e)}function Bp(e){return!zd(e.limit)&&"F"===e.limitType}function qp(e){return!zd(e.limit)&&"L"===e.limitType}function Hp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wp(e){var t,n=h(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kp(e){return null!==e.collectionGroup}function Zp(e){var t=rd(e);if(null===t.D){t.D=[];var n=Wp(t),r=Hp(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Lp(n)),t.D.push(new Lp(Nd.keyField(),"asc"));else{var i,a=!1,o=h(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Lp(Nd.keyField(),s))}}}return t.D}function Gp(e){var t=rd(e);if(!t.C)if("F"===t.limitType)t.C=bp(t.path,t.collectionGroup,Zp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=h(Zp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Dp(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Dp(t.startAt.position,!t.startAt.inclusive):null;t.C=bp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Qp(e,t,n){return new Up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yp(e,t){return xp(Gp(e),Gp(t))&&e.limitType===t.limitType}function $p(e){return"".concat(wp(Gp(e)),"|lt:").concat(e.limitType)}function Xp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Xd(t.value));var t})).join(", "),"]")),zd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Xd(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Xd(e)})).join(",")),"Target(".concat(t,")")}(Gp(e)),"; limitType=").concat(e.limitType,")")}function Jp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=h(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=h(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Fp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zp(e),t))&&!(e.endAt&&!function(e,t,n){var r=Fp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zp(e),t))}(e,t)}function ev(e){return function(t,n){var r,i=!1,a=h(Zp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=tv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function tv(e,t,n){var r=e.field.isKeyField()?Hd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yd(r,i):td()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return td()}}function nv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(t)?"-0":t}}function rv(e){return{integerValue:""+e}}function iv(e,t){return qd(t)?rv(t):nv(e,t)}var av=l((function e(){s(this,e),this._=void 0}));function ov(e,t,n){return e instanceof cv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lv?fv(e,t):e instanceof hv?dv(e,t):function(e,t){var n=sv(e,t),r=vv(n)+vv(e.k);return tp(n)&&tp(e.k)?rv(r):nv(e.M,r)}(e,t)}function uv(e,t,n){return e instanceof lv?fv(e,t):e instanceof hv?dv(e,t):n}function sv(e,t){return e instanceof pv?tp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var cv=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n)}(av),lv=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).elements=e,r}return l(n)}(av);function fv(e,t){var n,r=mv(t),i=h(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hv=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).elements=e,r}return l(n)}(av);function dv(e,t){var n,r=mv(t),i=h(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pv=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).M=e,i.k=r,i}return l(n)}(av);function vv(e){return Dd(e.integerValue||e.doubleValue)}function mv(e){return np(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var yv=l((function e(t,n){s(this,e),this.field=t,this.transform=n}));var gv=l((function e(t,n){s(this,e),this.version=t,this.transformResults=n})),kv=function(){function e(t,n){s(this,e),this.updateTime=t,this.exists=n}return l(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function bv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var wv=l((function e(){s(this,e)}));function xv(e,t,n){e instanceof Tv?function(e,t,n){var r=e.value.clone(),i=Av(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cv?function(e,t,n){if(bv(e.precondition,t)){var r=Av(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _v(e,t,n){e instanceof Tv?function(e,t,n){if(bv(e.precondition,t)){var r=e.value.clone(),i=Ov(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Cv?function(e,t,n){if(bv(e.precondition,t)){var r=Ov(e.fieldTransforms,n,t),i=t.data;i.setAll(Nv(e)),i.setAll(r),t.convertToFoundDocument(Sv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){bv(e.precondition,t)&&t.convertToNoDocument(xd.min())}(e,t)}function Iv(e,t){var n,r=null,i=h(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=sv(a.transform,o||null);null!=u&&(null==r&&(r=lp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ev(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lv&&t instanceof lv||e instanceof hv&&t instanceof hv?kd(e.elements,t.elements,Gd):e instanceof pv&&t instanceof pv?Gd(e.k,t.k):e instanceof cv&&t instanceof cv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sv(e){return e.isFoundDocument()?e.version:xd.min()}var Tv=function(e){v(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return s(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return l(n)}(wv),Cv=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return s(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return l(n)}(wv);function Nv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Av(e,t,n){var r=new Map;nd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,uv(o,u,n[i]))}return r}function Ov(e,t,n){var r,i=new Map,a=h(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ov(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Pv,Rv,Dv=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return l(n)}(wv),Lv=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return l(n)}(wv),Mv=l((function e(t){s(this,e),this.count=t}));function Fv(e){switch(e){default:return td();case id.CANCELLED:case id.UNKNOWN:case id.DEADLINE_EXCEEDED:case id.RESOURCE_EXHAUSTED:case id.INTERNAL:case id.UNAVAILABLE:case id.UNAUTHENTICATED:return!1;case id.INVALID_ARGUMENT:case id.NOT_FOUND:case id.ALREADY_EXISTS:case id.PERMISSION_DENIED:case id.FAILED_PRECONDITION:case id.ABORTED:case id.OUT_OF_RANGE:case id.UNIMPLEMENTED:case id.DATA_LOSS:return!0}}function jv(e){if(void 0===e)return Xh("GRPC error has no .code"),id.UNKNOWN;switch(e){case Pv.OK:return id.OK;case Pv.CANCELLED:return id.CANCELLED;case Pv.UNKNOWN:return id.UNKNOWN;case Pv.DEADLINE_EXCEEDED:return id.DEADLINE_EXCEEDED;case Pv.RESOURCE_EXHAUSTED:return id.RESOURCE_EXHAUSTED;case Pv.INTERNAL:return id.INTERNAL;case Pv.UNAVAILABLE:return id.UNAVAILABLE;case Pv.UNAUTHENTICATED:return id.UNAUTHENTICATED;case Pv.INVALID_ARGUMENT:return id.INVALID_ARGUMENT;case Pv.NOT_FOUND:return id.NOT_FOUND;case Pv.ALREADY_EXISTS:return id.ALREADY_EXISTS;case Pv.PERMISSION_DENIED:return id.PERMISSION_DENIED;case Pv.FAILED_PRECONDITION:return id.FAILED_PRECONDITION;case Pv.ABORTED:return id.ABORTED;case Pv.OUT_OF_RANGE:return id.OUT_OF_RANGE;case Pv.UNIMPLEMENTED:return id.UNIMPLEMENTED;case Pv.DATA_LOSS:return id.DATA_LOSS;default:return td()}}(Rv=Pv||(Pv={}))[Rv.OK=0]="OK",Rv[Rv.CANCELLED=1]="CANCELLED",Rv[Rv.UNKNOWN=2]="UNKNOWN",Rv[Rv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rv[Rv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rv[Rv.NOT_FOUND=5]="NOT_FOUND",Rv[Rv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rv[Rv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rv[Rv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rv[Rv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rv[Rv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rv[Rv.ABORTED=10]="ABORTED",Rv[Rv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rv[Rv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rv[Rv.INTERNAL=13]="INTERNAL",Rv[Rv.UNAVAILABLE=14]="UNAVAILABLE",Rv[Rv.DATA_LOSS=15]="DATA_LOSS";var Uv=function(){function e(t,n){s(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return l(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Id(this.inner,(function(t,n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ed(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Vv=function(){function e(t,n){s(this,e),this.comparator=t,this.root=n||Bv.EMPTY}return l(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zv(this.root,e,this.comparator,!0)}}]),e}(),zv=function(){function e(t,n,r,i){s(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return l(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bv=function(){function e(t,n,r,i,a){s(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return l(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw td();if(this.right.isRed())throw td();var e=this.left.check();if(e!==this.right.check())throw td();return e+(this.isRed()?0:1)}}]),e}();Bv.EMPTY=null,Bv.RED=!0,Bv.BLACK=!1,Bv.EMPTY=new(function(){function e(){s(this,e),this.size=0}return l(e,[{key:"key",get:function(){throw td()}},{key:"value",get:function(){throw td()}},{key:"color",get:function(){throw td()}},{key:"left",get:function(){throw td()}},{key:"right",get:function(){throw td()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qv=function(){function e(t){s(this,e),this.comparator=t,this.data=new Vv(this.comparator)}return l(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Hv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Hv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Hv=function(){function e(t){s(this,e),this.iter=t}return l(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Wv(e){return e.hasNext()?e.getNext():void 0}var Kv=new Vv(Hd.comparator);function Zv(){return Kv}var Gv=new Vv(Hd.comparator);function Qv(){return Gv}function Yv(){return new Uv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var $v=new Vv(Hd.comparator),Xv=new qv(Hd.comparator);function Jv(){for(var e=Xv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var em=new qv(gd);function tm(){return em}var nm=function(){function e(t,n,r,i,a){s(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return l(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,rm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(xd.min(),r,tm(),Zv(),Jv())}}]),e}(),rm=function(){function e(t,n,r,i,a){s(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return l(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Od.EMPTY_BYTE_STRING,n,Jv(),Jv(),Jv())}}]),e}(),im=l((function e(t,n,r,i){s(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.$=i})),am=l((function e(t,n){s(this,e),this.targetId=t,this.F=n})),om=l((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Od.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),um=function(){function e(){s(this,e),this.B=0,this.L=lm(),this.q=Od.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}return l(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.q}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}},{key:"H",value:function(){var e=Jv(),t=Jv(),n=Jv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:td()}})),new rm(this.q,this.U,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=lm()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.U=!0}}]),e}(),sm=function(){function e(t){s(this,e),this.nt=t,this.st=new Map,this.it=Zv(),this.rt=cm(),this.ot=new qv(gd)}return l(e,[{key:"at",value:function(e){var t,n=h(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=h(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:td()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(_p(i))if(0===n){var a=new Hd(i.path);this.ct(t,a,hp.newNoDocument(a,xd.min()))}else nd(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&_p(a.target)){var o=new Hd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,hp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Jv();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new nm(e,n,this.ot,this.it,r);return this.it=Zv(),this.rt=cm(),this.ot=new qv(gd),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new um,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new qv(gd),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||$h("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new um),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function cm(){return new Vv(Hd.comparator)}function lm(){return new Vv(Hd.comparator)}var fm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dm=l((function e(t,n){s(this,e),this.databaseId=t,this.N=n}));function pm(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vm(e,t){return e.N?t.toBase64():t.toUint8Array()}function mm(e,t){return pm(e,t.toTimestamp())}function ym(e){return nd(!!e),xd.fromTimestamp(function(e){var t=Rd(e);return new wd(t.seconds,t.nanos)}(e))}function gm(e,t){return function(e){return new Td(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function km(e){var t=Td.fromString(e);return nd(Bm(t)),t}function bm(e,t){return gm(e.databaseId,t.path)}function wm(e,t){var n=km(t);if(n.get(1)!==e.databaseId.projectId)throw new ad(id.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ad(id.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hd(Em(n))}function xm(e,t){return gm(e.databaseId,t)}function _m(e){var t=km(e);return 4===t.length?Td.emptyPath():Em(t)}function Im(e){return new Td(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Em(e){return nd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sm(e,t,n){return{name:bm(e,t),fields:n.value.mapValue.fields}}function Tm(e,t,n){var r=wm(e,t.name),i=ym(t.updateTime),a=new lp({mapValue:{fields:t.fields}}),o=hp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Cm(e,t){return"found"in t?function(e,t){nd(!!t.found),t.found.name,t.found.updateTime;var n=wm(e,t.found.name),r=ym(t.found.updateTime),i=new lp({mapValue:{fields:t.found.fields}});return hp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){nd(!!t.missing),nd(!!t.readTime);var n=wm(e,t.missing),r=ym(t.readTime);return hp.newNoDocument(n,r)}(e,t):td()}function Nm(e,t){var n;if(t instanceof Tv)n={update:Sm(e,t.key,t.value)};else if(t instanceof Dv)n={delete:bm(e,t.key)};else if(t instanceof Cv)n={update:Sm(e,t.key,t.data),updateMask:zm(t.fieldMask)};else{if(!(t instanceof Lv))return td();n={verify:bm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof cv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw td()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:td()}(e,t.precondition)),n}function Am(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?kv.updateTime(ym(e.updateTime)):void 0!==e.exists?kv.exists(e.exists):kv.none()}(t.currentDocument):kv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)nd("REQUEST_TIME"===t.setToServerValue),n=new cv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new lv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new hv(i)}else"increment"in t?n=new pv(e,t.increment):td();var a=Nd.fromServerFormat(t.fieldPath);return new yv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=wm(e,t.update.name),a=new lp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ad(t.map((function(e){return Nd.fromServerFormat(e)})))}(t.updateMask);return new Cv(i,a,o,n,r)}return new Tv(i,a,n,r)}if(t.delete){var u=wm(e,t.delete);return new Dv(u,n)}if(t.verify){var s=wm(e,t.verify);return new Lv(s,n)}return td()}function Om(e,t){return{documents:[xm(e,t.path)]}}function Pm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ip(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NAN"}};if(rp(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ip(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NOT_NAN"}};if(rp(e.value))return{unaryFilter:{field:Fm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fm(e.field),op:Mm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Fm(e.field),direction:Lm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||zd(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rm(e){var t=_m(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Dm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Lp(jm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return zd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Dp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Dp(n,t)}(n.endAt)),Vp(t,i,u,o,s,"F",c,l)}function Dm(e){return e?void 0!==e.unaryFilter?[Vm(e)]:void 0!==e.fieldFilter?[Um(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Dm(e)})).reduce((function(e,t){return e.concat(t)})):td():[]}function Lm(e){return fm[e]}function Mm(e){return hm[e]}function Fm(e){return{fieldPath:e.canonicalString()}}function jm(e){return Nd.fromServerFormat(e.fieldPath)}function Um(e){return Ep.create(jm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return td()}}(e.fieldFilter.op),e.fieldFilter.value)}function Vm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jm(e.unaryFilter.field);return Ep.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jm(e.unaryFilter.field);return Ep.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jm(e.unaryFilter.field);return Ep.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jm(e.unaryFilter.field);return Ep.create(i,"!=",{nullValue:"NULL_VALUE"});default:return td()}}function zm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Bm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wm(t)),t=Hm(e.get(n),t);return Wm(t)}function Hm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Wm(e){return e+"\x01\x01"}function Km(e){var t=e.length;if(nd(t>=2),2===t)return nd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Td.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&td(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:td()}a=o+2}return new Td(r)}var Zm=["userId","batchId"];function Gm(e,t){return[e,qm(t)]}function Qm(e,t,n){return[e,qm(t),n]}var Ym={},$m=["parentPath","readTime"],Xm=["canonicalId","targetId"],Jm=["targetId","path"],ey=["path","targetId"],ty=["collectionId","parent"],ny=["indexId","uid"],ry=["uid","sequenceNumber"],iy=["indexId","uid","arrayValue","directionalValue","documentKey"],ay=["indexId","uid","documentKey"],oy=["userId","collectionPath","documentId"],uy=["userId","collectionPath","largestBatchId"],sy=["userId","collectionGroup","largestBatchId"],cy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ly=[].concat((0,ie.Z)(cy),["documentOverlays"]),fy=[].concat((0,ie.Z)(ly),["indexConfiguration","indexState","indexEntries"]),hy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dy=function(){function e(){s(this,e),this.onCommittedListeners=[]}return l(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),py=function(){function e(t){var n=this;s(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return l(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&td(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=h(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),vy=function(){function e(t,n){var r=this;s(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new od,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new gy(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=_y(e.target.error);r.At.reject(new gy(t,n))}}return l(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||($h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new by(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new gy(n,t)}}}]),e}(),my=function(){function e(t,n,r){s(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(P())&&Xh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return l(e,[{key:"Nt",value:function(){var e=oe(I().mark((function e(t){var n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return $h("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ad(id.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ad(id.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new gy(t,n))},i.onupgradeneeded=function(e){$h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){$h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=oe(I().mark((function e(t,n,r,i){var a,o,u,s,c=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(I().mark((function e(){var n,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=vy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),py.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,$h("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return $h("SimpleDb","Removing database:",e),wy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!j())return!1;if(e.St())return!0;var t=P(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/hritikchouhan",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),yy=function(){function e(t){s(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return l(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"qt",value:function(e){this.Bt=e}},{key:"delete",value:function(){return wy(this.$t.delete())}}]),e}(),gy=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,id.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return l(n)}(ad);function ky(e){return"IndexedDbTransactionError"===e.name}var by=function(){function e(t){s(this,e),this.store=t}return l(e,[{key:"put",value:function(e,t){var n;return void 0!==t?($h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wy(n)}},{key:"add",value:function(e){return $h("SimpleDb","ADD",this.store.name,e,e),wy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return wy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),$h("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return $h("SimpleDb","DELETE",this.store.name,e),wy(this.store.delete(e))}},{key:"count",value:function(){return $h("SimpleDb","COUNT",this.store.name),wy(this.store.count())}},{key:"Ut",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new py((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new py((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){$h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new py((function(n,r){t.onerror=function(e){var t=_y(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new py((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new yy(i),o=t(i.primaryKey,i.value,a);if(o instanceof py){var u=o.catch((function(e){return a.done(),py.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return py.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function wy(e){return new py((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_y(e.target.error);n(t)}}))}var xy=!1;function _y(e){var t=my.Vt(P());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ad("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xy||(xy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Iy=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return l(n)}(dy);function Ey(e,t){var n=rd(e);return my.xt(n.Ht,t)}var Sy=function(){function e(t,n,r,i){s(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return l(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=h(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&_v(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=h(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&_v(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Jv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&kd(this.mutations,e.mutations,(function(e,t){return Ev(e,t)}))&&kd(this.baseMutations,e.baseMutations,(function(e,t){return Ev(e,t)}))}}]),e}(),Ty=function(){function e(t,n,r,i){s(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return l(e,null,[{key:"from",value:function(t,n,r){nd(t.mutations.length===r.length);for(var i=$v,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Cy=function(){function e(t,n){s(this,e),this.largestBatchId=t,this.mutation=n}return l(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ny=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xd.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Od.EMPTY_BYTE_STRING;s(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return l(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ay=l((function e(t){s(this,e),this.Jt=t}));function Oy(e,t){var n;if(t.document)n=Tm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Hd.fromSegments(t.noDocument.path),i=My(t.noDocument.readTime);n=hp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return td();var a=Hd.fromSegments(t.unknownDocument.path),o=My(t.unknownDocument.version);n=hp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(Dy(t.readTime)),n}function Py(e,t){var n=t.key.path.popLast().toArray(),r=Ry(t.readTime);if(t.isFoundDocument()){var i=function(e,t){return{name:bm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:pm(e,t.version.toTimestamp())}}(e.Jt,t);return{document:i,hasCommittedMutations:t.hasCommittedMutations,readTime:r,parentPath:n}}if(t.isNoDocument()){var a=t.key.path.toArray(),o=t.hasCommittedMutations;return{noDocument:{path:a,readTime:Ly(t.version)},hasCommittedMutations:o,readTime:r,parentPath:n}}return t.isUnknownDocument()?{unknownDocument:{path:t.key.path.toArray(),version:Ly(t.version)},hasCommittedMutations:!0,readTime:r,parentPath:n}:td()}function Ry(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dy(e){var t=new wd(e[0],e[1]);return xd.fromTimestamp(t)}function Ly(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function My(e){var t=new wd(e.seconds,e.nanoseconds);return xd.fromTimestamp(t)}function Fy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Am(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Am(e.Jt,t)})),u=wd.fromMillis(t.localWriteTimeMs);return new Sy(t.batchId,u,n,o)}function jy(e){var t,n,r=My(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?My(e.lastLimboFreeSnapshotVersion):xd.min();return void 0!==e.query.documents?(nd(1===(n=e.query).documents.length),t=Gp(zp(_m(n.documents[0])))):t=function(e){return Gp(Rm(e))}(e.query),new Ny(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Od.fromBase64String(e.resumeToken))}function Uy(e,t){var n,r=Ly(t.snapshotVersion),i=Ly(t.lastLimboFreeSnapshotVersion);n=_p(t.target)?Om(e.Jt,t.target):Pm(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Vy(e){var t=Rm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qp(t,t.limit,"L"):t}function zy(e,t){return new Cy(t.largestBatchId,Am(e.Jt,t.overlayMutation))}function By(e,t){var n=t.path.lastSegment();return[e,qm(t.path.popLast()),n]}var qy=function(){function e(){s(this,e)}return l(e,[{key:"getBundleMetadata",value:function(e,t){return Hy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:My(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hy(e).put({bundleId:(n=t).id,createTime:Ly(ym(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Wy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Vy(t.bundledQuery),readTime:My(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Wy(e).put(function(e){return{name:e.name,readTime:Ly(ym(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hy(e){return Ey(e,"bundles")}function Wy(e){return Ey(e,"namedQueries")}var Ky=function(){function e(t,n){s(this,e),this.M=t,this.userId=n}return l(e,[{key:"getOverlay",value:function(e,t){var n=this;return Zy(e).get(By(this.userId,t)).next((function(e){return e?zy(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Cy(t,a);i.push(r.Xt(e,o))})),py.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(qm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Zy(e).Qt("collectionPathOverlayIndex",i))})),py.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yv(),a=qm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Zy(e).Ut("collectionPathOverlayIndex",o).next((function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=zy(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zy(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=zy(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Zy(e).put(function(e,t,n){var r=By(t,n.mutation.key),i=(0,o.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Nm(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Zy(e){return Ey(e,"documentOverlays")}var Gy=function(){function e(){s(this,e)}return l(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Dd(e.integerValue));else if("doubleValue"in e){var n=Dd(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Bd(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Ld(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?up(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):td()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ue",value:function(e,t){var n=this;this.ne(t,37),Hd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Qy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Qy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Gy.fe=new Gy;var $y=function(){function e(){s(this,e),this.buffer=new Uint8Array(1024),this.position=0}return l(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Yy(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Yy(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xy=function(){function e(t){s(this,e),this.De=t}return l(e,[{key:"ae",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Jy=function(){function e(t){s(this,e),this.De=t}return l(e,[{key:"ae",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),eg=function(){function e(){s(this,e),this.De=new $y,this.Ce=new Xy(this.De),this.xe=new Jy(this.De)}return l(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),tg=function(){function e(t,n,r,i){s(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return l(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ng(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=rg(e.arrayValue,t.arrayValue))?n:0!==(n=rg(e.directionalValue,t.directionalValue))?n:Hd.comparator(e.documentKey,t.documentKey)}function rg(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ig=function(){function e(t){s(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=h(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.$e=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return l(e,[{key:"Fe",value:function(e){var t=pp(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=vp(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.$e){var a=n[r];if(!this.Le(this.$e,a)||!this.qe(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.qe(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=h(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"qe",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ag=function(){function e(){s(this,e),this.Ue=new og}return l(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ue.add(t),py.resolve()}},{key:"getCollectionParents",value:function(e,t){return py.resolve(this.Ue.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return py.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return py.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return py.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return py.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return py.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return py.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return py.resolve()}},{key:"updateIndexEntries",value:function(e,t){return py.resolve()}}]),e}(),og=function(){function e(){s(this,e),this.index={}}return l(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qv(Td.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qv(Td.comparator)).toArray()}}]),e}(),ug=new Uint8Array(0),sg=function(){function e(t){s(this,e),this.user=t,this.Ke=new og,this.Ge=new Uv((function(e){return wp(e)}),(function(e,t){return xp(e,t)})),this.uid=t.uid||""}return l(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:qm(i)};return cg(e).put(a)}return py.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bd(t),""],!1,!0);return cg(e).Ut(r).next((function(e){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Km(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=fg(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=fg(e),r=hg(e),i=lg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=lg(e),i=!0,a=new Map;return py.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Jv();return py.forEach(a,(function(i,a){var o;$h("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(wp(t)));var u=function(e,t){var n=pp(t);if(void 0===n)return null;var r,i=h(Ip(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=h(vp(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=h(Ip(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=h(vp(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=h(Ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,p=void 0,v=!0;switch(d.op){case"<":case"<=":p="nullValue"in(r=d.value)?Kd:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ep(Vd.empty(),Hd.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:td();break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,v=!1;break;case"!=":case"not-in":p=Kd}sp(c,p)===p&&(c=p,l=v)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.startAt)for(var m=0;m<e.orderBy.length;++m)if(e.orderBy[m].field.isEqual(s.fieldPath)){var y=e.startAt.position[m];sp(c,y)===y&&(c=y,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new Dp(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=h(vp(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=h(Ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,p=void 0,v=!0;switch(d.op){case">=":case">":p="nullValue"in(r=d.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ep(Vd.empty(),Hd.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Wd:td(),v=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,v=!1;break;case"!=":case"not-in":p=Wd}cp(c,p)===p&&(c=p,l=v)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.endAt)for(var m=0;m<e.orderBy.length;++m)if(e.orderBy[m].field.isEqual(s.fieldPath)){var y=e.endAt.position[m];cp(c,y)===y&&(c=y,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new Dp(i,a)}(a,i),f=n.je(i,a,c),d=n.je(i,a,l),p=n.We(i,a,s),v=n.ze(i.indexId,u,f,!!c&&c.inclusive,d,!!l&&l.inclusive,p);return py.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Hd(Km(t.documentKey)))}))}))}))})).next((function(){return e}))}return py.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):ug,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,(0,ie.Z)(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new tg(e,Hd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new tg(e,Hd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new tg(e,Hd.empty(),ug,ug)}},{key:"getFieldIndex",value:function(e,t){var n=new ig(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.Fe(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new eg,i=h(vp(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Gy.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new eg;return Gy.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new eg);var i,a=0,o=h(vp(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=h(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&np(c))r=this.en(r,s,c);else{var d=f.Ne(s.kind);Gy.fe.Zt(c,d)}}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=(0,ie.Z)(e),a=[],o=h(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=h(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new eg;f.seed(l.Se()),Gy.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ep&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=fg(e),i=hg(e);return(t?r.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.Ut()).next((function(e){var t=[];return py.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new yp(t.sequenceNumber,new gp(My(t.readTime),new Hd(Km(t.documentKey)),t.largestBatchId)):yp.empty(),r=e.fields.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return new mp(Nd.fromServerFormat(n),r)}));return new dp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:gd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=fg(e),a=hg(e);return this.sn(e).next((function(e){return i.Ut("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return py.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ly(r.readTime),documentKey:qm(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return py.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?py.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),py.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?py.resolve():n.an(e,i,t,a)}))}))}))}))}},{key:"un",value:function(e,t,n){return lg(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:qm(t.key.path)})}},{key:"cn",value:function(e,t,n){return lg(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,qm(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=lg(e),i=new qv(ng);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,qm(t.path)])},(function(e,r){i=i.add(new tg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new qv(ng),r=this.Ze(t,e);if(null==r)return n;var i=pp(t);if(null!=i){var a=e.data.field(i.fieldPath);if(np(a)){var o,u=h(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new tg(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new tg(t.indexId,e.key,ug,r));return n}},{key:"an",value:function(e,t,n,r){var i=this;$h("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Wv(a),s=Wv(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Wv(o)):l?(i(u),u=Wv(a)):(u=Wv(a),s=Wv(o))}}(n,r,ng,(function(n){a.push(i.un(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),py.waitFor(a)}},{key:"sn",value:function(e){var t=1;return hg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ng(e,t)})).filter((function(e,t,n){return!t||0!==ng(e,n[t-1])}));var r=[];r.push(e);var i,a=h(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=ng(o,e),s=ng(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function cg(e){return Ey(e,"collectionParents")}function lg(e){return Ey(e,"indexEntries")}function fg(e){return Ey(e,"indexConfiguration")}function hg(e){return Ey(e,"indexState")}var dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pg=function(){function e(t,n,r){s(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return l(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function vg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){nd(1===u)})));var c,l=[],f=h(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=Qm(t,d.key.path,n.batchId);a.push(i.delete(p)),l.push(d.key)}}catch(v){f.e(v)}finally{f.f()}return py.waitFor(a).next((function(){return l}))}function mg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw td();t=e.noDocument}return JSON.stringify(t).length}pg.DEFAULT_COLLECTION_PERCENTILE=10,pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pg.DEFAULT=new pg(41943040,pg.DEFAULT_COLLECTION_PERCENTILE,pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pg.DISABLED=new pg(-1,0,0);var yg=function(){function e(t,n,r,i){s(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return l(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=bg(e),o=kg(e);return o.add({}).next((function(u){nd("number"==typeof u);var s,c=new Sy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Nm(e.Jt,t)})),i=n.mutations.map((function(t){return Nm(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],d=new qv((function(e,t){return gd(e.canonicalString(),t.canonicalString())})),p=h(r);try{for(p.s();!(s=p.n()).done;){var v=s.value,m=Qm(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(m,Ym))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),py.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kg(e).get(t).next((function(e){return e?(nd(e.userId===n.userId),Fy(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?py.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return kg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(nd(t.batchId>=r),a=Fy(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kg(e).Ut("userMutationsIndex",n).next((function(e){return e.map((function(e){return Fy(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Gm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return bg(e).Wt({range:i},(function(r,i,u){var s=(0,o.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Km(l);if(c===n.userId&&t.path.isEqual(h))return kg(e).get(f).next((function(e){if(!e)throw td();nd(e.userId===n.userId),a.push(Fy(n.M,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qv(gd),i=[];return t.forEach((function(t){var a=Gm(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=bg(e).Wt({range:u},(function(e,i,a){var u=(0,o.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Km(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),py.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Gm(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new qv(gd);return bg(e).Wt({range:u},(function(e,t,a){var u=(0,o.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Km(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kg(e).get(t).next((function(e){if(null===e)throw td();nd(e.userId===n.userId),r.push(Fy(n.M,e))})))})),py.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return vg(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),py.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return py.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return bg(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Km(e[1]);i.push(a)}else r.done()})).next((function(){nd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return gg(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return wg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return nd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function gg(e,t,n){var r=Gm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return bg(e).Wt({range:a,jt:!0},(function(e,n,r){var a=(0,o.Z)(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function kg(e){return Ey(e,"mutations")}function bg(e){return Ey(e,"documentMutations")}function wg(e){return Ey(e,"mutationQueues")}var xg=function(){function e(t){s(this,e),this.wn=t}return l(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),_g=function(){function e(t,n){s(this,e),this.referenceDelegate=t,this.M=n}return l(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new xg(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return xd.fromTimestamp(new wd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ig(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return nd(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ig(e).Wt((function(o,u){var s=jy(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return py.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ig(e).Wt((function(e,n){var r=jy(n);t(r)}))}},{key:"yn",value:function(e){return Eg(e).get("targetGlobalKey").next((function(e){return nd(null!==e),e}))}},{key:"pn",value:function(e,t){return Eg(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Ig(e).put(Uy(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=wp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ig(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=jy(n);xp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Sg(e);return t.forEach((function(t){var o=qm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),py.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Sg(e);return py.forEach(t,(function(t){var a=qm(t.path);return py.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Sg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Sg(e),i=Jv();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Km(e[1]),a=new Hd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=qm(t.path),r=IDBKeyRange.bound([n],[bd(n)],!1,!0),i=0;return Sg(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=(0,o.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ig(e).get(t).next((function(e){return e?jy(e):null}))}}]),e}();function Ig(e){return Ey(e,"targets")}function Eg(e){return Ey(e,"targetGlobal")}function Sg(e){return Ey(e,"targetDocuments")}function Tg(e){return Cg.apply(this,arguments)}function Cg(){return Cg=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===id.FAILED_PRECONDITION&&t.message===hy){e.next=2;break}throw t;case 2:$h("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ng(e,t){var n=(0,o.Z)(e,2),r=n[0],i=n[1],a=(0,o.Z)(t,2),u=a[0],s=a[1],c=gd(r,u);return 0===c?gd(i,s):c}var Ag=function(){function e(t){s(this,e),this.En=t,this.buffer=new qv(Ng),this.An=0}return l(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ng(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Og=function(){function e(t,n){s(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return l(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;$h("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ky(n.t0)){n.next=12;break}$h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Tg(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Pg=function(){function e(t,n){s(this,e),this.Sn=t,this.params=n}return l(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return py.resolve(vd.A);var r=new Ag(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($h("LruGarbageCollector","Garbage collection skipped; disabled"),py.resolve(dg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?($h("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),dg):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?($h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Yh()<=fe.DEBUG&&$h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),py.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Rg=function(){function e(t,n){s(this,e),this.db=t,this.garbageCollector=function(e,t){return new Pg(e,t)}(this,n)}return l(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Dg(e,n)}},{key:"removeReference",value:function(e,t,n){return Dg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Dg(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return wg(e).zt((function(r){return gg(e,r,t).next((function(e){return e&&(n=!0),py.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,xd.min()),Sg(e).delete([0,qm(o.path)])}))}));i.push(s)}})).next((function(){return py.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Dg(e,t)}},{key:"kn",value:function(e,t){var n,r=Sg(e),i=vd.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=(0,o.Z)(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==vd.A&&t(new Hd(Km(n)),i),i=c,n=s):i=vd.A})).next((function(){i!==vd.A&&t(new Hd(Km(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Dg(e,t){return Sg(e).put(function(e,t){return{targetId:0,path:qm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Lg=function(){function e(){s(this,e),this.changes=new Uv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return l(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?py.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mg=function(){function e(t){s(this,e),this.M=t}return l(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Ug(e).put(Vg(t),n)}},{key:"removeEntry",value:function(e,t){var n=Ug(e),r=Vg(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Ug(e).get(Vg(t)).next((function(e){return n.$n(t,e)}))}},{key:"Fn",value:function(e,t){var n=this;return Ug(e).get(Vg(t)).next((function(e){return{document:n.$n(t,e),size:mg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Zv();return this.Bn(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Zv(),i=new Vv(Hd.comparator);return this.Bn(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,mg(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return py.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Ug(e).Wt({range:r},(function(e,t,r){for(var o=Hd.fromSegments(e);a&&Hd.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.qt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Zv(),a=t.length+1,o={};if(n.isEqual(xd.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=Ry(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index="collectionReadTimeIndex"}return Ug(e).Wt(o,(function(e,n,o){if(e.length===a){var u=r.$n(Hd.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Fg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return jg(e).get("remoteDocumentGlobalKey").next((function(e){return nd(!!e),e}))}},{key:"On",value:function(e,t){return jg(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=Oy(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(xd.min()))return n}return hp.newInvalidDocument(e)}}]),e}(),Fg=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).Un=e,i.trackRemovals=r,i.Kn=new Uv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return l(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qv((function(e,t){return gd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Kn.get(a);if(o.isValidDocument()){var s=Py(t.Un.M,o);i=i.add(a.path.popLast());var c=mg(s);r+=c-u,n.push(t.Un.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Py(t.Un.M,o.convertToNoDocument(xd.min()));n.push(t.Un.addEntry(e,a,l))}else n.push(t.Un.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Un.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Un.updateMetadata(e,r)),py.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Un.Fn(e,t).next((function(e){return n.Kn.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Un.Ln(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,t){n.Kn.set(e,t)})),t}))}}]),n}(Lg);function jg(e){return Ey(e,"remoteDocumentGlobal")}function Ug(e){return Ey(e,"remoteDocuments")}function Vg(e){return e.path.toArray()}var zg=function(){function e(t){s(this,e),this.M=t}return l(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new vy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zm,{unique:!0}),e.createObjectStore("documentMutations")}(e),Bg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=py.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Bg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").Ut().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return py.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore("remoteDocuments");t.createIndex("readTimeIndex","readTime",{unique:!1}),t.createIndex("collectionReadTimeIndex",$m,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oy});t.createIndex("collectionPathOverlayIndex",uy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ny}).createIndex("sequenceNumberIndex",ry,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:iy}).createIndex("documentKeyIndex",ay,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=mg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.Ut().next((function(n){return py.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ut("userMutationsIndex",i).next((function(r){return py.forEach(r,(function(r){nd(r.userId===n.userId);var i=Fy(t.M,r);return vg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Td(n),o=function(e){return[0,qm(e)]}(a);r.push(t.get(o).next((function(n){return n?py.resolve():function(n){return t.put({targetId:0,path:qm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return py.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ty});var n=t.store("collectionParents"),r=new og,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qm(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Td(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=(0,o.Z)(e,3),r=(n[0],n[1]),a=(n[2],Km(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=jy(r),a=Uy(t.M,i);return n.put(a)}))}}]),e}();function Bg(e){e.createObjectStore("targetDocuments",{keyPath:Jm}).createIndex("documentTargetsIndex",ey,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xm,{unique:!0}),e.createObjectStore("targetGlobal")}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hg=function(){function e(t,n,r,i,a,o,u,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(s(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hn=a,this.window=o,this.document=u,this.Jn=l,this.Yn=f,this.Xn=h,this.Zn=null,this.ts=!1,this.isPrimary=!1,this.networkEnabled=!0,this.es=null,this.inForeground=!1,this.ns=null,this.ss=null,this.rs=Number.NEGATIVE_INFINITY,this.os=function(e){return Promise.resolve()},!e.vt())throw new ad(id.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rg(this,i),this.us=n+"main",this.M=new Ay(c),this.cs=new my(this.us,this.Xn,new zg(this.M)),this.hs=new _g(this.referenceDelegate,this.M),this.ls=function(e){return new Mg(e)}(this.M),this.fs=new qy,this.window&&this.window.localStorage?this.ds=this.window.localStorage:(this.ds=null,!1===f&&Xh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return l(e,[{key:"start",value:function(){var e=this;return this._s().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ad(id.FAILED_PRECONDITION,qg);return e.ws(),e.gs(),e.ys(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.hs.getHighestSequenceNumber(t)}))})).then((function(t){e.Zn=new vd(t,e.Jn)})).then((function(){e.ts=!0})).catch((function(t){return e.cs&&e.cs.close(),Promise.reject(t)}))}},{key:"ps",value:function(e){var t=this;return this.os=function(){var n=oe(I().mark((function n(r){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.cs.Ot(function(){var t=oe(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hn.enqueueAndForget(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t._s();case 4:case"end":return e.stop()}}),e)})))))}},{key:"_s",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Kg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Is(t).next((function(t){t||(e.isPrimary=!1,e.Hn.enqueueRetryable((function(){return e.os(!1)})))}))})).next((function(){return e.Ts(t)})).next((function(n){return e.isPrimary&&!n?e.Es(t).next((function(){return!1})):!!n&&e.As(t).next((function(){return!0}))}))})).catch((function(t){if(ky(t))return $h("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return $h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hn.enqueueRetryable((function(){return e.os(t)})),e.isPrimary=t}))}},{key:"Is",value:function(e){var t=this;return Wg(e).get("owner").next((function(e){return py.resolve(t.Rs(e))}))}},{key:"bs",value:function(e){return Kg(e).delete(this.clientId)}},{key:"Ps",value:function(){var e=oe(I().mark((function e(){var t,n,r,i,a=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vs(this.rs,18e5)){e.next=6;break}return this.rs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ey(e,"clientMetadata");return t.Ut().next((function(e){var n=a.vs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return py.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ds){n=h(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ds.removeItem(this.Ss(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ys",value:function(){var e=this;this.ss=this.Hn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e._s().then((function(){return e.Ps()})).then((function(){return e.ys()}))}))}},{key:"Rs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ts",value:function(e){var t=this;return this.Yn?py.resolve(!0):Wg(e).get("owner").next((function(n){if(null!==n&&t.Vs(n.leaseTimestampMs,5e3)&&!t.Ds(n.ownerId)){if(t.Rs(n)&&t.networkEnabled)return!0;if(!t.Rs(n)){if(!n.allowTabSynchronization)throw new ad(id.FAILED_PRECONDITION,qg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Kg(e).Ut().next((function(e){return void 0===t.vs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&$h("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=oe(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ts=!1,this.Cs(),this.ss&&(this.ss.cancel(),this.ss=null),this.xs(),this.Ns(),e.next=7,this.cs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Iy(e,vd.A);return t.Es(n).next((function(){return t.bs(n)}))}));case 7:this.cs.close(),this.ks();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vs",value:function(e,t){var n=this;return e.filter((function(e){return n.Vs(e.updateTimeMs,t)&&!n.Ds(e.clientId)}))}},{key:"Ms",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Kg(t).Ut().next((function(t){return e.vs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ts}},{key:"getMutationQueue",value:function(e,t){return yg.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getIndexManager",value:function(e){return new sg(e)}},{key:"getDocumentOverlayCache",value:function(e){return Ky.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;$h("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.Xn)?fy:12===i?ly:11===i?cy:void td();return this.cs.runTransaction(e,o,u,(function(i){return a=new Iy(i,r.Zn?r.Zn.next():vd.A),"readwrite-primary"===t?r.Is(a).next((function(e){return!!e||r.Ts(a)})).next((function(t){if(!t)throw Xh("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hn.enqueueRetryable((function(){return r.os(!1)})),new ad(id.FAILED_PRECONDITION,hy);return n(a)})).next((function(e){return r.As(a).next((function(){return e}))})):r.Os(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e){var t=this;return Wg(e).get("owner").next((function(e){if(null!==e&&t.Vs(e.leaseTimestampMs,5e3)&&!t.Ds(e.ownerId)&&!t.Rs(e)&&!(t.Yn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ad(id.FAILED_PRECONDITION,qg)}))}},{key:"As",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wg(e).put("owner",t)}},{key:"Es",value:function(e){var t=this,n=Wg(e);return n.get("owner").next((function(e){return t.Rs(e)?($h("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):py.resolve()}))}},{key:"Vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Xh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ws",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ns=function(){e.Hn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e._s()}))},this.document.addEventListener("visibilitychange",this.ns),this.inForeground="visible"===this.document.visibilityState)}},{key:"xs",value:function(){this.ns&&(this.document.removeEventListener("visibilitychange",this.ns),this.ns=null)}},{key:"gs",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.es=function(){t.Cs(),!D()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hn.enterRestrictedMode(!0),t.Hn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.es))}},{key:"Ns",value:function(){this.es&&(this.window.removeEventListener("pagehide",this.es),this.es=null)}},{key:"Ds",value:function(e){var t;try{var n=null!==(null===(t=this.ds)||void 0===t?void 0:t.getItem(this.Ss(e)));return $h("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Xh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Cs",value:function(){if(this.ds)try{this.ds.setItem(this.Ss(this.clientId),String(Date.now()))}catch(Ks){Xh("Failed to set zombie client id.",Ks)}}},{key:"ks",value:function(){if(this.ds)try{this.ds.removeItem(this.Ss(this.clientId))}catch(Ks){}}},{key:"Ss",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return my.vt()}}]),e}();function Wg(e){return Ey(e,"owner")}function Kg(e){return Ey(e,"clientMetadata")}function Zg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gg=l((function e(t,n){s(this,e),this.progress=t,this.$s=n})),Qg=function(){function e(t,n,r){s(this,e),this.ls=t,this.Fs=n,this.indexManager=r}return l(e,[{key:"Bs",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.ls.getEntry(e,t).next((function(e){var t,r=h(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=h(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Us",value:function(e,t){var n=this;return this.ls.getEntries(e,t).next((function(t){return n.Ks(e,t).next((function(){return t}))}))}},{key:"Ks",value:function(e,t){var n=this;return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Gs",value:function(e,t,n){return function(e){return Hd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Kp(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Hd(t)).next((function(e){var t=Qv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qv();return this.indexManager.getCollectionParents(e,i).next((function(o){return py.forEach(o,(function(o){var u=function(e,t){return new Up(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.ls.getAll(e,t.path,n).next((function(n){return r=n,i.Fs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=h(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=hp.newInvalidDocument(s),r=r.insert(s,c)),_v(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Jp(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Yg=function(){function e(t,n,r,i){s(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return l(e,null,[{key:"Js",value:function(t,n){var r,i=Jv(),a=Jv(),o=h(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$g=function(){function e(){s(this,e)}return l(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Gs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(xd.min())?this.Zs(e,t):this.Xs.Us(e,r).next((function(a){var o=i.ti(t,a);return(Bp(t)||qp(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Yh()<=fe.DEBUG&&$h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xp(t)),i.Xs.Gs(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new qv(ev(e));return t.forEach((function(t,r){Jp(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Yh()<=fe.DEBUG&&$h("QueryEngine","Using full collection scan to execute query:",Xp(t)),this.Xs.Gs(e,t,xd.min())}}]),e}(),Xg=function(){function e(t,n,r,i){s(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Vv(gd),this.ii=new Uv((function(e){return wp(e)}),xp),this.ri=xd.min(),this.oi=t.getRemoteDocumentCache(),this.hs=t.getTargetCache(),this.fs=t.getBundleCache(),this.ai(r)}return l(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new Qg(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function Jg(e,t,n,r){return new Xg(e,t,n,r)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return tk=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Fs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Fs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Jv(),s=h(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=h(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var p,v=h(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=h(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return r.ui.Us(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e,t){var n=rd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=py.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);nd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Fs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}function rk(e){var t=rd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.hs.getLastRemoteSnapshotVersion(e)}))}function ik(e,t){var n=rd(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.hs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.hs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Od.EMPTY_BYTE_STRING,xd.min()).withLastLimboFreeSnapshotVersion(xd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.hs.updateTargetData(e,c))}}));var u=Zv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ak(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(xd.min())){var s=n.hs.getLastRemoteSnapshotVersion(e).next((function(t){return n.hs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return py.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ui.Ks(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function ak(e,t,n){var r=Jv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Zv();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(xd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):$h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ok(e,t){var n=rd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Fs.getNextMutationBatchAfterBatchId(e,t)}))}function uk(e,t){var n=rd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.hs.getTargetData(e,t).next((function(i){return i?(r=i,py.resolve(r)):n.hs.allocateTargetId(e).next((function(i){return r=new Ny(t,i,0,e.currentSequenceNumber),n.hs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function sk(e,t,n){return ck.apply(this,arguments)}function ck(){return ck=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rd(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ky(e.t1)){e.next=12;break}throw e.t1;case 12:$h("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ck.apply(this,arguments)}function lk(e,t,n){var r=rd(e),i=xd.min(),a=Jv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=rd(e),i=r.ii.get(n);return void 0!==i?py.resolve(r.si.get(i)):r.hs.getTargetData(t,n)}(r,e,Gp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Gs(e,t,n?i:xd.min(),n?a:Jv())})).next((function(e){return{documents:e,hi:a}}))}))}function fk(e,t){var n=rd(e),r=rd(n.hs),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function hk(e){var t=rd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=rd(e),i=Zv(),a=Ry(n),o=Ug(t),u=IDBKeyRange.lowerBound(a,!0);return o.Wt({index:"readTimeIndex",range:u},(function(e,t){var n=Oy(r.M,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{$s:i,readTime:Dy(a)}}))}(t.oi,e,t.ri)})).then((function(e){var n=e.$s,r=e.readTime;return t.ri=r,n}))}function dk(e){return pk.apply(this,arguments)}function pk(){return pk=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rd(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ug(e),n=xd.min();return t.Wt({index:"readTimeIndex",reverse:!0},(function(e,t,r){t.readTime&&(n=Dy(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.ri=e})));case 2:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t,n,r){return mk.apply(this,arguments)}function mk(){return mk=oe(I().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,p,v;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=rd(t),o=Jv(),u=Zv(),s=h(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,d)}catch(m){s.e(m)}finally{s.f()}return p=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,uk(a,function(e){return Gp(zp(Td.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ak(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.hs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.hs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ui.Ks(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=oe(I().mark((function e(t,n){var r,i,a,o=arguments;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Jv(),e.next=3,uk(t,Gp(Vy(n.bundledQuery)));case 3:return i=e.sent,a=rd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ym(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.fs.saveNamedQuery(e,n);var o=i.withResumeToken(Od.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.hs.updateTargetData(e,o).next((function(){return a.hs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.hs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.fs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}var kk=function(){function e(t){s(this,e),this.M=t,this._i=new Map,this.wi=new Map}return l(e,[{key:"getBundleMetadata",value:function(e,t){return py.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:ym(n.createTime)}),py.resolve()}},{key:"getNamedQuery",value:function(e,t){return py.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Vy(e.bundledQuery),readTime:ym(e.readTime)}}(t)),py.resolve()}}]),e}(),bk=function(){function e(){s(this,e),this.overlays=new Vv(Hd.comparator),this.mi=new Map}return l(e,[{key:"getOverlay",value:function(e,t){return py.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),py.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),py.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yv(),i=t.length+1,a=new Hd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return py.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Vv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return py.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Cy(t,n));var a=this.mi.get(t);void 0===a&&(a=Jv(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),wk=function(){function e(){s(this,e),this.gi=new qv(xk.yi),this.pi=new qv(xk.Ii)}return l(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xk(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new xk(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Hd(new Td([])),r=new xk(n,e),i=new xk(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Hd(new Td([])),n=new xk(t,e),r=new xk(t,e+1),i=Jv();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xk(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xk=function(){function e(t,n){s(this,e),this.key=t,this.Vi=n}return l(e,null,[{key:"yi",value:function(e,t){return Hd.comparator(e.key,t.key)||gd(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return gd(e.Vi,t.Vi)||Hd.comparator(e.key,t.key)}}]),e}(),_k=function(){function e(t,n){s(this,e),this.indexManager=t,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new qv(xk.yi)}return l(e,[{key:"checkEmpty",value:function(e){return py.resolve(0===this.Fs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];var a=new Sy(i,t,n,r);this.Fs.push(a);var o,u=h(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new xk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return py.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return py.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return py.resolve(this.Fs.length>i?this.Fs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return py.resolve(0===this.Fs.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return py.resolve(this.Fs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xk(t,0),i=new xk(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),py.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qv(gd);return t.forEach((function(e){var t=new xk(e,0),i=new xk(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),py.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Hd.isDocumentKey(i)||(i=i.child(""));var a=new xk(new Hd(i),0),o=new qv(gd);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),py.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;nd(0===this.Ni(t.batchId,"removed")),this.Fs.shift();var r=this.Si;return py.forEach(t.mutations,(function(i){var a=new xk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xk(t,0),r=this.Si.firstAfterOrEqual(n);return py.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Fs.length,py.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}]),e}(),Ik=function(){function e(t){s(this,e),this.ki=t,this.docs=new Vv(Hd.comparator),this.size=0}return l(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return py.resolve(n?n.document.mutableCopy():hp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hp.newInvalidDocument(e))})),py.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Zv(),i=new Hd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return py.resolve(r)}},{key:"Mi",value:function(e,t){return py.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ek(this)}},{key:"getSize",value:function(e){return py.resolve(this.size)}}]),e}(),Ek=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).Un=e,r}return l(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Un.addEntry(e,i)):t.Un.removeEntry(r)})),py.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Un.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Un.getEntries(e,t)}}]),n}(Lg),Sk=function(){function e(t){s(this,e),this.persistence=t,this.Oi=new Uv((function(e){return wp(e)}),xp),this.lastRemoteSnapshotVersion=xd.min(),this.highestTargetId=0,this.$i=0,this.Fi=new wk,this.targetCount=0,this.Bi=xg.mn()}return l(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),py.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return py.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return py.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),py.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),py.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new xg(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,py.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),py.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,py.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),py.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return py.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return py.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Fi.Ti(t,n),py.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Fi.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),py.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Fi.Ri(t),py.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Fi.Pi(t);return py.resolve(n)}},{key:"containsKey",value:function(e,t){return py.resolve(this.Fi.containsKey(t))}}]),e}(),Tk=function(){function e(t,n){var r=this;s(this,e),this.Li={},this.overlays={},this.Zn=new vd(0),this.ts=!1,this.ts=!0,this.referenceDelegate=t(this),this.hs=new Sk(this),this.indexManager=new ag,this.ls=new Ik((function(e){return r.referenceDelegate.qi(e)})),this.M=new Ay(n),this.fs=new kk(this.M)}return l(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ts=!1,Promise.resolve()}},{key:"started",get:function(){return this.ts}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new _k(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.hs}},{key:"getRemoteDocumentCache",value:function(){return this.ls}},{key:"getBundleCache",value:function(){return this.fs}},{key:"runTransaction",value:function(e,t,n){var r=this;$h("MemoryPersistence","Starting transaction:",e);var i=new Ck(this.Zn.next());return this.referenceDelegate.Ui(),n(i).next((function(e){return r.referenceDelegate.Ki(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gi",value:function(e,t){return py.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ck=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return l(n)}(dy),Nk=function(){function e(t){s(this,e),this.persistence=t,this.Qi=new wk,this.ji=null}return l(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw td()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),py.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),py.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),py.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ui",value:function(){this.ji=new Set}},{key:"Ki",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return py.forEach(this.zi,(function(r){var i=Hd.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,xd.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return py.or([function(){return py.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gi(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Ak(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ok(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Pk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Rk=function(){function e(t,n,r,i){s(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return l(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ad(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Xh("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Dk=function(){function e(t,n,r){s(this,e),this.targetId=t,this.state=n,this.error=r}return l(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ad(i.error.code,i.error.message))),a?new e(t,i.state,r):(Xh("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Lk=function(){function e(t,n){s(this,e),this.clientId=t,this.activeTargetIds=n}return l(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=tm(),o=0;i&&o<r.activeTargetIds.length;++o)i=qd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Xh("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Mk=function(){function e(t,n){s(this,e),this.clientId=t,this.onlineState=n}return l(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Xh("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Fk=function(){function e(){s(this,e),this.activeTargetIds=tm()}return l(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jk=function(){function e(t,n,r,i,a){s(this,e),this.window=t,this.Hn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Vv(gd),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Ak(this.persistenceKey,this.tr),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Fk),this.ur=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return l(e,[{key:"start",value:function(){var e=oe(I().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ms();case 2:t=e.sent,n=h(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ak(this.persistenceKey,i)))&&(o=Lk.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=h(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(p){c.e(p)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Pk(this.persistenceKey,e));if(n){var r=Dk.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Pk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(){this.Ar()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return $h("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){$h("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){$h("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if($h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Xh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hn.enqueueRetryable(oe(I().mark((function e(){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.ur.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=39;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=39;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=39;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=vd.A;if(null!=e)try{var n=JSON.parse(e);nd("number"==typeof n),t=n}catch(e){Xh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==vd.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.dr){e.next=39;break}return e.abrupt("return",t.syncEngine.Cr());case 39:e.next=42;break;case 41:t.ir.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Rk(this.currentUser,e,t,n),i=Ok(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Ok(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Pk(this.persistenceKey,e),i=new Dk(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(){this.setItem(this.dr,"value-not-used")}},{key:"Rr",value:function(e){var t=this.ur.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Lk.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Rk.Ji(new Zh(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Dk.Ji(r,t)}},{key:"wr",value:function(e){return Mk.Ji(e)}},{key:"vr",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Nr(t.batchId,t.state,t.error));case 2:$h("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.kr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=tm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Uk=function(){function e(){s(this,e),this.Or=new Fk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return l(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Or.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Or.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Or.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Or.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Or=new Fk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Vk=function(){function e(){s(this,e)}return l(e,[{key:"Fr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zk=function(){function e(){var t=this;s(this,e),this.Br=function(){return t.Lr()},this.qr=function(){return t.Ur()},this.Kr=[],this.Gr()}return l(e,[{key:"Fr",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}},{key:"Gr",value:function(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}},{key:"Lr",value:function(){$h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=h(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ur",value:function(){$h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=h(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qk=function(){function e(t){s(this,e),this.Qr=t.Qr,this.jr=t.jr}return l(e,[{key:"Wr",value:function(e){this.zr=e}},{key:"Hr",value:function(e){this.Jr=e}},{key:"onMessage",value:function(e){this.Yr=e}},{key:"close",value:function(){this.jr()}},{key:"send",value:function(e){this.Qr(e)}},{key:"Xr",value:function(){this.zr()}},{key:"Zr",value:function(e){this.Jr(e)}},{key:"eo",value:function(e){this.Yr(e)}}]),e}(),Hk=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return l(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Wh;o.listenOnce(Vh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Uh.NO_ERROR:var t=o.getResponseJson();$h("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Uh.TIMEOUT:$h("Connection",'RPC "'+e+'" timed out'),a(new ad(id.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:var n=o.getStatus();if($h("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(id).indexOf(t)>=0?t:id.UNKNOWN}(r.status);a(new ad(u,r.message))}else a(new ad(id.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ad(id.UNAVAILABLE,"Connection failed."));break;default:td()}}finally{$h("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"co",value:function(e,t,n){var r=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Fh(),a=jh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new qh({})),this.oo(o.initMessageHeaders,t,n),R()||M()||P().indexOf("Electron/")>=0||F()||P().indexOf("MSAppHost/")>=0||L()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");$h("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new qk({Qr:function(e){l?$h("Connection","Not sending because WebChannel is closed:",e):(c||($h("Connection","Opening WebChannel transport."),s.open(),c=!0),$h("Connection","WebChannel sending:",e),s.send(e))},jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Hh.EventType.OPEN,(function(){l||$h("Connection","WebChannel transport opened.")})),h(s,Hh.EventType.CLOSE,(function(){l||(l=!0,$h("Connection","WebChannel transport closed"),f.Zr())})),h(s,Hh.EventType.ERROR,(function(e){l||(l=!0,Jh("Connection","WebChannel transport errored:",e),f.Zr(new ad(id.UNAVAILABLE,"The operation could not be completed")))})),h(s,Hh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];nd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){$h("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Pv[e];if(void 0!==t)return jv(t)}(a),u=i.message;void 0===o&&(o=id.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Zr(new ad(o,u)),s.close()}else $h("Connection","WebChannel received:",n),f.eo(n)}})),h(a,zh.STAT_EVENT,(function(e){e.stat===Bh.PROXY?$h("Connection","Detected buffering proxy"):e.stat===Bh.NOPROXY&&$h("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Xr()}),0),f}}]),n}(function(){function e(t){s(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.no=n+"://"+t.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return l(e,[{key:"io",value:function(e,t,n,r,i){var a=this.ro(e,t);$h("RestConnection","Sending: ",a,n);var o={};return this.oo(o,r,i),this.ao(e,a,o,n).then((function(e){return $h("RestConnection","Received: ",e),e}),(function(t){throw Jh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"uo",value:function(e,t,n,r,i){return this.io(e,t,n,r,i)}},{key:"oo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ro",value:function(e,t){var n=Bk[e];return"".concat(this.no,"/v1/").concat(t,":").concat(n)}}]),e}());function Wk(){return"undefined"!=typeof window?window:null}function Kk(){return"undefined"!=typeof document?document:null}function Zk(e){return new dm(e,!0)}var Gk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;s(this,e),this.Hn=t,this.timerId=n,this.ho=r,this.lo=i,this.fo=a,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}return l(e,[{key:"reset",value:function(){this._o=0}},{key:"yo",value:function(){this._o=this.fo}},{key:"po",value:function(e){var t=this;this.cancel();var n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&$h("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this._o," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,(function(){return t.mo=Date.now(),e()})),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}},{key:"To",value:function(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}},{key:"cancel",value:function(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}},{key:"Io",value:function(){return(Math.random()-.5)*this._o}}]),e}(),Qk=function(){function e(t,n,r,i,a,o,u,c){s(this,e),this.Hn=t,this.Eo=r,this.Ao=i,this.Ro=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Gk(t,n)}return l(e,[{key:"So",value:function(){return 1===this.state||5===this.state||this.Do()}},{key:"Do",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Co()}},{key:"stop",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.So(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xo",value:function(){this.state=0,this.vo.reset()}},{key:"No",value:function(){var e=this;this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,(function(){return e.ko()})))}},{key:"Mo",value:function(e){this.Oo(),this.stream.send(e)}},{key:"ko",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Do()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.Po&&(this.Po.cancel(),this.Po=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Oo(),this.$o(),this.vo.cancel(),this.bo++,4!==t?this.vo.reset():n&&n.code===id.RESOURCE_EXHAUSTED?(Xh(n.toString()),Xh("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===id.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Fo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Hr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,o.Z)(t,2),i=r[0],a=r[1];e.bo===n&&e.Lo(i,a)}),(function(n){t((function(){var t=new ad(id.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Lo",value:function(e,t){var n=this,r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr((function(){r((function(){return n.state=2,n.Vo=n.Hn.enqueueAfterDelay(n.Ao,1e4,(function(){return n.Do()&&(n.state=3),Promise.resolve()})),n.listener.Wr()}))})),this.stream.Hr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Co",value:function(){var e=this;this.state=5,this.vo.po(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return $h("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Bo",value:function(e){var t=this;return function(n){t.Hn.enqueueAndForget((function(){return t.bo===e?n():($h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Yk=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,c}return l(n,[{key:"Uo",value:function(e,t){return this.Ro.co("Listen",e,t)}},{key:"onMessage",value:function(e){this.vo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:td()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(nd(void 0===t||"string"==typeof t),Od.fromBase64String(t||"")):(nd(void 0===t||t instanceof Uint8Array),Od.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?id.UNKNOWN:jv(e.code);return new ad(t,e.message||"")}(o);n=new om(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=wm(e,s.document.name),l=ym(s.document.updateTime),f=new lp({mapValue:{fields:s.document.fields}}),h=hp.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new im(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=wm(e,v.document),y=v.readTime?ym(v.readTime):xd.min(),g=hp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new im([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=wm(e,b.document),x=b.removedTargetIds||[];n=new im([],x,w,null)}else{if(!("filter"in t))return td();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new Mv(I),S=_.targetId;n=new am(S,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return xd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?xd.min():t.readTime?ym(t.readTime):xd.min()}(e);return this.listener.Ko(t,n)}},{key:"Go",value:function(e){var t={};t.database=Im(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=_p(r)?{documents:Om(e,r)}:{query:Pm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=vm(e,t.resumeToken):t.snapshotVersion.compareTo(xd.min())>0&&(n.readTime=pm(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return td()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Mo(t)}},{key:"Qo",value:function(e){var t={};t.database=Im(this.M),t.removeTarget=e,this.Mo(t)}}]),n}(Qk),$k=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,c.jo=!1,c}return l(n,[{key:"Wo",get:function(){return this.jo}},{key:"start",value:function(){this.jo=!1,this.lastStreamToken=void 0,kt(m(n.prototype),"start",this).call(this)}},{key:"Fo",value:function(){this.jo&&this.zo([])}},{key:"Uo",value:function(e,t){return this.Ro.co("Write",e,t)}},{key:"onMessage",value:function(e){if(nd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();var t=function(e,t){return e&&e.length>0?(nd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ym(e.updateTime):ym(t);return n.isEqual(xd.min())&&(n=ym(t)),new gv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ym(e.commitTime);return this.listener.Ho(n,t)}return nd(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}},{key:"Yo",value:function(){var e={};e.database=Im(this.M),this.Mo(e)}},{key:"zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Nm(t.M,e)}))};this.Mo(n)}}]),n}(Qk),Xk=function(e){v(n,e);var t=b(n);function n(e,r,i,a){var o;return s(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Ro=i,o.M=a,o.Xo=!1,o}return l(n,[{key:"Zo",value:function(){if(this.Xo)throw new ad(id.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"io",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,o.Z)(i,2),u=a[0],s=a[1];return r.Ro.io(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===id.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ad(id.UNKNOWN,e.toString())}))}},{key:"uo",value:function(e,t,n){var r=this;return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,o.Z)(i,2),u=a[0],s=a[1];return r.Ro.uo(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===id.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ad(id.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Xo=!0}}]),n}(function(){return l((function e(){s(this,e)}))}()),Jk=function(){function e(t,n){s(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}return l(e,[{key:"sa",value:function(){var e=this;0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ea=null,e.ra("Backend didn't respond within 10 seconds."),e.ia("Offline"),Promise.resolve()})))}},{key:"oa",value:function(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ia("Offline")))}},{key:"set",value:function(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}},{key:"ia",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ra",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.na?(Xh(t),this.na=!1):$h("OnlineStateTracker",t)}},{key:"aa",value:function(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}]),e}(),eb=l((function e(t,n,r,i,a){var o=this;s(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=a,this.fa.Fr((function(e){r.enqueueAndForget(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=fb(o),!e.t0){e.next=5;break}return $h("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rd(t)).ha.add(4),e.next=4,rb(n);case 4:return n.da.set("Unknown"),n.ha.delete(4),e.next=8,tb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.da=new Jk(r,i)}));function tb(e){return nb.apply(this,arguments)}function nb(){return nb=oe(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fb(t)){e.next=18;break}n=h(t.la),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),nb.apply(this,arguments)}function rb(e){return ib.apply(this,arguments)}function ib(){return ib=oe(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h(t.la),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ib.apply(this,arguments)}function ab(e,t){var n=rd(e);n.ca.has(t.targetId)||(n.ca.set(t.targetId,t),lb(n)?cb(n):Vb(n).Do()&&ub(n,t))}function ob(e,t){var n=rd(e),r=Vb(n);n.ca.delete(t),r.Do()&&sb(n,t),0===n.ca.size&&(r.Do()?r.No():fb(n)&&n.da.set("Unknown"))}function ub(e,t){e._a.Z(t.targetId),Vb(e).Go(t)}function sb(e,t){e._a.Z(t),Vb(e).Qo(t)}function cb(e){e._a=new sm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.ca.get(t)||null}}),Vb(e).start(),e.da.sa()}function lb(e){return fb(e)&&!Vb(e).So()&&e.ca.size>0}function fb(e){return 0===rd(e).ha.size}function hb(e){e._a=void 0}function db(e){return pb.apply(this,arguments)}function pb(){return pb=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ca.forEach((function(e,n){ub(t,e)}));case 1:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hb(t),lb(t)?(t.da.oa(n),cb(t)):t.da.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t,n){return gb.apply(this,arguments)}function gb(){return gb=oe(I().mark((function e(t,n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.da.set("Online"),!(n instanceof om&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=h(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.ca.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.ca.delete(o),t._a.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),$h("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof im?t._a.at(n):n instanceof am?t._a._t(n):t._a.ht(n),r.isEqual(xd.min())){e.next=29;break}return e.prev=14,e.next=17,rk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e._a.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.ca.get(r);i&&e.ca.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.ca.get(t);if(n){e.ca.set(t,n.withResumeToken(Od.EMPTY_BYTE_STRING,n.snapshotVersion)),sb(e,t);var r=new Ny(n.target,t,1,n.sequenceNumber);ub(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),$h("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),gb.apply(this,arguments)}function kb(e,t,n){return bb.apply(this,arguments)}function bb(){return bb=oe(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ky(n)){e.next=2;break}throw n;case 2:return t.ha.add(1),e.next=5,rb(t);case 5:t.da.set("Offline"),r||(r=function(){return rk(t.localStore)}),t.asyncQueue.enqueueRetryable(oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.ha.delete(1),e.next=6,tb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}function wb(e,t){return t().catch((function(n){return kb(e,n,t)}))}function xb(e){return _b.apply(this,arguments)}function _b(){return _b=oe(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rd(t),r=zb(n),i=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;case 2:if(!Ib(n)){e.next=19;break}return e.prev=3,e.next=6,ok(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.ua.length&&r.No(),e.abrupt("break",19);case 10:i=a.batchId,Eb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kb(n,e.t0);case 17:e.next=2;break;case 19:Sb(n)&&Tb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),_b.apply(this,arguments)}function Ib(e){return fb(e)&&e.ua.length<10}function Eb(e,t){e.ua.push(t);var n=zb(e);n.Do()&&n.Wo&&n.zo(t.mutations)}function Sb(e){return fb(e)&&!zb(e).So()&&e.ua.length>0}function Tb(e){zb(e).start()}function Cb(e){return Nb.apply(this,arguments)}function Nb(){return Nb=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zb(t).Yo();case 1:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}function Ab(e){return Ob.apply(this,arguments)}function Ob(){return Ob=oe(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zb(t),r=h(t.ua);try{for(r.s();!(i=r.n()).done;)a=i.value,n.zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Pb(e,t,n){return Rb.apply(this,arguments)}function Rb(){return Rb=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.ua.shift(),a=Ty.from(i,n,r),e.next=3,wb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,xb(t);case 5:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Db(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=oe(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zb(t).Wo,!e.t0){e.next=4;break}return e.next=4,function(){var e=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fv(i=n.code)||i===id.ABORTED){e.next=7;break}return r=t.ua.shift(),zb(t).xo(),e.next=5,wb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,xb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Sb(t)&&Tb(t);case 5:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=rd(t)).asyncQueue.verifyOperationInProgress(),$h("RemoteStore","RemoteStore received new credentials"),i=fb(r),r.ha.add(3),e.next=6,rb(r);case 6:return i&&r.da.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.ha.delete(3),e.next=12,tb(r);case 12:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function jb(e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=oe(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rd(t),!n){e.next=7;break}return r.ha.delete(2),e.next=5,tb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.ha.add(2),e.next=12,rb(r);case 12:r.da.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function Vb(e){return e.wa||(e.wa=function(e,t,n){var r=rd(e);return r.Zo(),new Yk(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:db.bind(null,e),Hr:vb.bind(null,e),Ko:yb.bind(null,e)}),e.la.push(function(){var t=oe(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.wa.xo(),lb(e)?cb(e):e.da.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.wa.stop();case 6:hb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.wa}function zb(e){return e.ma||(e.ma=function(e,t,n){var r=rd(e);return r.Zo(),new $k(t,r.Ro,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Wr:Cb.bind(null,e),Hr:Db.bind(null,e),Jo:Ab.bind(null,e),Ho:Pb.bind(null,e)}),e.la.push(function(){var t=oe(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.ma.xo(),t.next=4,xb(e);case 4:t.next=9;break;case 6:return t.next=8,e.ma.stop();case 8:e.ua.length>0&&($h("RemoteStore","Stopping write stream with ".concat(e.ua.length," pending writes")),e.ua=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.ma}var Bb=function(){function e(t,n,r,i,a){s(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new od,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return l(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ad(id.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function qb(e,t){if(Xh("AsyncQueue","".concat(t,": ").concat(e)),ky(e))return new ad(id.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hb=function(){function e(t){s(this,e),this.comparator=t?function(e,n){return t(e,n)||Hd.comparator(e.key,n.key)}:function(e,t){return Hd.comparator(e.key,t.key)},this.keyedMap=Qv(),this.sortedSet=new Vv(this.comparator)}return l(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Wb=function(){function e(){s(this,e),this.ga=new Vv(Hd.comparator)}return l(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):td():this.ga=this.ga.insert(t,e)}},{key:"ya",value:function(){var e=[];return this.ga.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kb=function(){function e(t,n,r,i,a,o,u,c){s(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c}return l(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Hb.emptySet(n),a,r,i,!0,!1)}}]),e}(),Zb=l((function e(){s(this,e),this.pa=void 0,this.listeners=[]})),Gb=l((function e(){s(this,e),this.queries=new Uv((function(e){return $p(e)}),Yp),this.onlineState="Unknown",this.Ia=new Set}));function Qb(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=oe(I().mark((function e(t,n){var r,i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Zb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.pa=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=qb(e.t0,"Initialization of query '".concat(Xp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ta(r.onlineState),o.pa&&n.Ea(o.pa)&&tw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yb.apply(this,arguments)}function $b(e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=oe(I().mark((function e(t,n){var r,i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function Jb(e,t){var n,r=rd(e),i=!1,a=h(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=h(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ea(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.pa=o}}}catch(f){a.e(f)}finally{a.f()}i&&tw(r)}function ew(e,t,n){var r=rd(e),i=r.queries.get(t);if(i){var a,o=h(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function tw(e){e.Ia.forEach((function(e){e.next()}))}var nw=function(){function e(t,n,r){s(this,e),this.query=t,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}return l(e,[{key:"Ea",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=h(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Kb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),a=!0):this.Va(e,this.onlineState)&&(this.va(e),a=!0),this.ba=e,a}},{key:"onError",value:function(e){this.Aa.error(e)}},{key:"Ta",value:function(e){this.onlineState=e;var t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}},{key:"Va",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Sa||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Pa",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"va",value:function(e){e=Kb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}]),e}(),rw=function(){function e(t,n){s(this,e),this.payload=t,this.byteLength=n}return l(e,[{key:"Da",value:function(){return"metadata"in this.payload}}]),e}(),iw=function(){function e(t){s(this,e),this.M=t}return l(e,[{key:"li",value:function(e){return wm(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Tm(this.M,e.document,!1):hp.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return ym(e)}}]),e}(),aw=function(){function e(t,n,r){s(this,e),this.Ca=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.progress=ow(t)}return l(e,[{key:"xa",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Na",value:function(e){var t,n=new Map,r=new iw(this.M),i=h(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=h(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Jv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=oe(I().mark((function e(){var t,n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vk(this.localStore,new iw(this.M),this.documents,this.Ca.id);case 2:t=e.sent,n=this.Na(this.documents),r=h(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,yk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Gg(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ow(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var uw=l((function e(t){s(this,e),this.key=t})),sw=l((function e(t){s(this,e),this.key=t})),cw=function(){function e(t,n){s(this,e),this.query=t,this.ka=n,this.Ma=null,this.current=!1,this.Oa=Jv(),this.mutatedKeys=Jv(),this.$a=ev(t),this.Fa=new Hb(this.$a)}return l(e,[{key:"Ba",get:function(){return this.ka}},{key:"La",value:function(e,t){var n=this,r=t?t.qa:new Wb,i=t?t.Fa:this.Fa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Bp(this.query)&&i.size===this.query.limit?i.last():null,c=qp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Jp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.$a(f,s)>0||c&&n.$a(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Bp(this.query)||qp(this.query))for(;o.size>this.query.limit;){var l=Bp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Fa:o,qa:r,ei:u,mutatedKeys:a}}},{key:"Ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;var a=e.qa.ya();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return td()}};return n(e)-n(t)}(e.type,t.type)||r.$a(e.doc,t.doc)})),this.Ka(n);var o=t?this.Ga():[],u=0===this.Oa.size&&this.current?1:0,s=u!==this.Ma;return this.Ma=u,0!==a.length||s?{snapshot:new Kb(this.query,e.Fa,i,a,e.mutatedKeys,0===u,s,!1),Qa:o}:{Qa:o}}},{key:"Ta",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Wb,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}},{key:"ja",value:function(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}},{key:"Ka",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ka=t.ka.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ka=t.ka.delete(e)})),this.current=e.current)}},{key:"Ga",value:function(){var e=this;if(!this.current)return[];var t=this.Oa;this.Oa=Jv(),this.Fa.forEach((function(t){e.ja(t.key)&&(e.Oa=e.Oa.add(t.key))}));var n=[];return t.forEach((function(t){e.Oa.has(t)||n.push(new sw(t))})),this.Oa.forEach((function(e){t.has(e)||n.push(new uw(e))})),n}},{key:"Wa",value:function(e){this.ka=e.hi,this.Oa=Jv();var t=this.La(e.documents);return this.applyChanges(t,!0)}},{key:"za",value:function(){return Kb.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}]),e}(),lw=l((function e(t,n,r){s(this,e),this.query=t,this.targetId=n,this.view=r})),fw=l((function e(t){s(this,e),this.key=t,this.Ha=!1})),hw=function(){function e(t,n,r,i,a,o){s(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new Uv((function(e){return $p(e)}),Yp),this.Xa=new Map,this.Za=new Set,this.tu=new Vv(Hd.comparator),this.eu=new Map,this.nu=new wk,this.su={},this.iu=new Map,this.ru=xg.gn(),this.onlineState="Unknown",this.ou=void 0}return l(e,[{key:"isPrimaryClient",get:function(){return!0===this.ou}}]),e}();function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=oe(I().mark((function e(t,n){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ox(t),!(o=r.Ya.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.za(),e.next=15;break;case 6:return e.next=8,uk(r.localStore,Gp(n));case 8:return u=e.sent,r.isPrimaryClient&&ab(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,vw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t,n,r){return mw.apply(this,arguments)}function mw(){return mw=oe(I().mark((function e(t,n,r,i){var a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.au=function(e,n,r){return function(){var e=oe(I().mark((function e(t,n,r,i){var a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.La(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,lk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.La(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Mw(t,n.targetId,u.Qa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lk(t.localStore,n,!0);case 3:return a=e.sent,o=new cw(n,a.hi),u=o.La(a.documents),s=rm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Mw(t,r,c.Qa),l=new lw(n,r,o),e.abrupt("return",(t.Ya.set(n,l),t.Xa.has(r)?t.Xa.get(r).push(n):t.Xa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t){return gw.apply(this,arguments)}function gw(){return gw=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rd(t),i=r.Ya.get(n),!((a=r.Xa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Xa.set(i.targetId,a.filter((function(e){return!Yp(e,n)}))),void r.Ya.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ob(r.remoteStore,i.targetId),Dw(r,i.targetId)})).catch(Tg);case 9:e.next=14;break;case 11:return Dw(r,i.targetId),e.next=14,sk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function kw(e,t,n){return bw.apply(this,arguments)}function bw(){return bw=oe(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ux(t),e.prev=1,e.next=4,function(e,t){var n,r=rd(e),i=wd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Jv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ui.Us(e,a).next((function(a){n=a;var o,u=[],s=h(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Iv(c,n.get(c.key));null!=l&&u.push(new Cv(c.key,l,fp(l.value.mapValue),kv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Fs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.su[e.currentUser.toKey()];r||(r=new Vv(gd)),r=r.insert(t,n),e.su[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Uw(i,a.changes);case 9:return e.next=11,xb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=qb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),bw.apply(this,arguments)}function ww(e,t){return xw.apply(this,arguments)}function xw(){return xw=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),e.prev=1,e.next=4,ik(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.eu.get(t);n&&(nd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ha=!0:e.modifiedDocuments.size>0?nd(n.Ha):e.removedDocuments.size>0&&(nd(n.Ha),n.Ha=!1))})),e.next=8,Uw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Tg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),xw.apply(this,arguments)}function _w(e,t,n){var r=rd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ya.forEach((function(e,n){var r=n.view.Ta(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=rd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=h(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ta(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&tw(n)}(r.eventManager,t),i.length&&r.Ja.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Iw(e,t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=oe(I().mark((function e(t,n,r){var i,a,o,u,s,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=rd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.eu.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Vv(Hd.comparator)).insert(o,hp.newNoDocument(o,xd.min())),s=Jv().add(o),c=new nm(xd.min(),new Map,new qv(gd),u,s),e.next=9,ww(i,c);case 9:i.tu=i.tu.remove(o),i.eu.delete(n),jw(i),e.next=16;break;case 14:return e.next=16,sk(i.localStore,n,!1).then((function(){return Dw(i,n,r)})).catch(Tg);case 16:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Sw(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),i=n.batch.batchId,e.prev=1,e.next=4,nk(r.localStore,n);case 4:return a=e.sent,Rw(r,i,null),Pw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Uw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Tw.apply(this,arguments)}function Cw(e,t,n){return Nw.apply(this,arguments)}function Nw(){return Nw=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rd(t),e.prev=1,e.next=4,function(e,t){var n=rd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Fs.lookupMutationBatch(e,t).next((function(t){return nd(null!==t),r=t.keys(),n.Fs.removeMutationBatch(e,t)})).next((function(){return n.Fs.performConsistencyCheck(e)})).next((function(){return n.ui.Us(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Rw(i,n,r),Pw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Uw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nw.apply(this,arguments)}function Aw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=oe(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fb((r=rd(t)).remoteStore)||$h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=rd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Fs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.iu.get(i)||[]).push(n),r.iu.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=qb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ow.apply(this,arguments)}function Pw(e,t){(e.iu.get(t)||[]).forEach((function(e){e.resolve()})),e.iu.delete(t)}function Rw(e,t,n){var r=rd(e),i=r.su[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.su[r.currentUser.toKey()]=i}}function Dw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=h(e.Xa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ya.delete(a),n&&e.Ja.uu(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Xa.delete(t),e.isPrimaryClient&&e.nu.Ri(t).forEach((function(t){e.nu.containsKey(t)||Lw(e,t)}))}function Lw(e,t){e.Za.delete(t.path.canonicalString());var n=e.tu.get(t);null!==n&&(ob(e.remoteStore,n),e.tu=e.tu.remove(t),e.eu.delete(n),jw(e))}function Mw(e,t,n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof uw?(e.nu.addReference(a.key,t),Fw(e,a)):a instanceof sw?($h("SyncEngine","Document no longer in limbo: "+a.key),e.nu.removeReference(a.key,t),e.nu.containsKey(a.key)||Lw(e,a.key)):td()}}catch(o){i.e(o)}finally{i.f()}}function Fw(e,t){var n=t.key,r=n.path.canonicalString();e.tu.get(n)||e.Za.has(r)||($h("SyncEngine","New document in limbo: "+n),e.Za.add(r),jw(e))}function jw(e){for(;e.Za.size>0&&e.tu.size<e.maxConcurrentLimboResolutions;){var t=e.Za.values().next().value;e.Za.delete(t);var n=new Hd(Td.fromString(t)),r=e.ru.next();e.eu.set(r,new fw(n)),e.tu=e.tu.insert(n,r),ab(e.remoteStore,new Ny(Gp(zp(n.path)),r,2,vd.A))}}function Uw(e,t,n){return Vw.apply(this,arguments)}function Vw(){return Vw=oe(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rd(t),a=[],o=[],u=[],e.t0=i.Ya.isEmpty(),e.t0){e.next=9;break}return i.Ya.forEach((function(e,t){u.push(i.au(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Yg.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ja.Ko(a),e.next=9,function(){var e=oe(I().mark((function e(t,n){var r,i,a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return py.forEach(n,(function(t){return py.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return py.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ky(e.t0)){e.next=10;break}throw e.t0;case 10:$h("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=h(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function zw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=rd(t)).currentUser.isEqual(n)){e.next=11;break}return $h("SyncEngine","User change. New user:",n.toKey()),e.next=5,ek(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.iu.forEach((function(e){e.forEach((function(e){e.reject(new ad(id.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.iu.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Uw(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t){var n=rd(e),r=n.eu.get(t);if(r&&r.Ha)return Jv().add(r.key);var i=Jv(),a=n.Xa.get(t);if(!a)return i;var o,u=h(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ya.get(s);i=i.unionWith(c.view.Ba)}}catch(l){u.e(l)}finally{u.f()}return i}function Hw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),e.next=3,lk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Wa(i),e.abrupt("return",(r.isPrimaryClient&&Mw(r,n.targetId,a.Qa),a));case 6:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e){return Zw.apply(this,arguments)}function Zw(){return Zw=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rd(t),e.abrupt("return",hk(n.localStore).then((function(e){return Uw(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function Gw(e,t,n,r){return Qw.apply(this,arguments)}function Qw(){return Qw=oe(I().mark((function e(t,n,r,i){var a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rd(t),e.next=3,function(e,t){var n=rd(e),r=rd(n.Fs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ui.Us(e,t):py.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,xb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Rw(a,n,i||null),Pw(a,n),function(e,t){rd(rd(e).Fs).dn(t)}(a.localStore,n)):td();case 11:return e.next=13,Uw(a,o);case 13:e.next=16;break;case 15:$h("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Yw(e,t){return $w.apply(this,arguments)}function $w(){return $w=oe(I().mark((function e(t,n){var r,i,a,o,u,s,c,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ox(r=rd(t)),ux(r),!0!==n||!0===r.ou){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Xw(r,i.toArray());case 5:return a=e.sent,r.ou=!0,e.next=9,jb(r.remoteStore,!0);case 9:o=h(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ab(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ou){e.next=25;break}return c=[],l=Promise.resolve(),r.Xa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Dw(r,t),sk(r.localStore,t,!0)})),ob(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Xw(r,c);case 21:return function(e){var t=rd(e);t.eu.forEach((function(e,n){ob(t.remoteStore,n)})),t.nu.bi(),t.eu=new Map,t.tu=new Vv(Hd.comparator)}(r),r.ou=!1,e.next=25,jb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Xw(e,t,n){return Jw.apply(this,arguments)}function Jw(){return Jw=oe(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p,v,m,y,g;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=rd(t),a=[],o=[],u=h(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Xa.get(c))||0===f.length){e.next=34;break}return e.next=11,uk(i.localStore,Gp(f[0]));case 11:l=e.sent,d=h(f),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.Ya.get(v),e.next=20,Hw(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fk(i.localStore,c);case 36:return g=e.sent,e.next=39,uk(i.localStore,g);case 39:return l=e.sent,e.next=42,vw(i,ex(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ja.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Jw.apply(this,arguments)}function ex(e){return Vp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tx(e){var t=rd(e);return rd(rd(t.localStore).persistence).Ms()}function nx(e,t,n,r){return rx.apply(this,arguments)}function rx(){return rx=oe(I().mark((function e(t,n,r,i){var a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=rd(t)).ou){e.next=5;break}$h("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Xa.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,hk(a.localStore);case 11:return o=e.sent,u=nm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Uw(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,sk(a.localStore,n,!0);case 18:return Dw(a,n,i),e.abrupt("break",21);case 20:td();case 21:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return ax=oe(I().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ox(t)).ou){e.next=45;break}a=h(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Xa.has(u)){e.next=10;break}return $h("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fk(i.localStore,u);case 12:return s=e.sent,e.next=15,uk(i.localStore,s);case 15:return c=e.sent,e.next=18,vw(i,ex(s),c.targetId,!1);case 18:ab(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=h(r),e.prev=30,d=I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Xa.has(t),!e.t0){e.next=5;break}return e.next=5,sk(i.localStore,t,!1).then((function(){ob(i.remoteStore,t),Dw(i,t)})).catch(Tg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ax.apply(this,arguments)}function ox(e){var t=rd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Iw.bind(null,t),t.Ja.Ko=Jb.bind(null,t.eventManager),t.Ja.uu=ew.bind(null,t.eventManager),t}function ux(e){var t=rd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cw.bind(null,t),t}function sx(e,t,n){var r=rd(e);(function(){var e=oe(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=rd(e),r=ym(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.fs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(ow(i)),a=new aw(i,t.localStore,n.M),e.next=14,n.cu();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.xa(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.cu();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,Uw(t,s.$s,void 0);case 30:return e.next=32,function(e,t){var n=rd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.fs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Jh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var cx=function(){function e(){s(this,e),this.synchronizeTabs=!1}return l(e,[{key:"initialize",value:function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Zk(t.databaseInfo.databaseId),this.sharedClientState=this.hu(t),this.persistence=this.lu(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.fu(t),this.localStore=this.du(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fu",value:function(e){return null}},{key:"du",value:function(e){return Jg(this.persistence,new $g,e.initialUser,this.M)}},{key:"lu",value:function(e){return new Tk(Nk.Wi,this.M)}},{key:"hu",value:function(e){return new Uk}},{key:"terminate",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),lx=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this))._u=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return l(n,[{key:"initialize",value:function(){var e=oe(I().mark((function e(t){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(m(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,dk(this.localStore);case 4:return e.next=6,this._u.initialize(this,t);case 6:return e.next=8,ux(this._u.syncEngine);case 8:return e.next=10,xb(this._u.remoteStore);case 10:return e.next=12,this.persistence.ps((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"du",value:function(e){return Jg(this.persistence,new $g,e.initialUser,this.M)}},{key:"fu",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Og(t,e.asyncQueue)}},{key:"lu",value:function(e){var t=Zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?pg.withCacheSize(this.cacheSizeBytes):pg.DEFAULT;return new Hg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Wk(),Kk(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"hu",value:function(e){return new Uk}}]),n}(cx),fx=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r,!1))._u=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return l(n,[{key:"initialize",value:function(){var e=oe(I().mark((function e(t){var r,i=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(m(n.prototype),"initialize",this).call(this,t);case 2:if(r=this._u.syncEngine,e.t0=this.sharedClientState instanceof jk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Nr:Gw.bind(null,r),kr:nx.bind(null,r),Mr:ix.bind(null,r),Ms:tx.bind(null,r),Cr:Kw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ps(function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(i._u.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t=Wk();if(!jk.vt(t))throw new ad(id.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(lx),hx=function(){function e(){s(this,e)}return l(e,[{key:"initialize",value:function(){var e=oe(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _w(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),e.next=12,jb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Gb}},{key:"createDatastore",value:function(e){var t,n=Zk(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Hk(t));return function(e,t,n,r){return new Xk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _w(o.syncEngine,e,0)},a=zk.vt()?new zk:new Vk,new eb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new hw(e,t,n,r,i,a);return o&&(u.ou=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rd(t),$h("RemoteStore","RemoteStore shutting down."),n.ha.add(5),e.next=5,rb(n);case 5:n.fa.shutdown(),n.da.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function dx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return oe(I().mark((function r(){var i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var px=function(){function e(t){s(this,e),this.observer=t,this.muted=!1}return l(e,[{key:"next",value:function(e){this.observer.next&&this.wu(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"mu",value:function(){this.muted=!0}},{key:"wu",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),vx=function(){function e(t,n){var r=this;s(this,e),this.gu=t,this.M=n,this.metadata=new od,this.buffer=new Uint8Array,this.yu=new TextDecoder("utf-8"),this.pu().then((function(e){e&&e.Da()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return l(e,[{key:"close",value:function(){return this.gu.cancel()}},{key:"getMetadata",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.pu());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pu",value:function(){var e=oe(I().mark((function e(){var t,n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Iu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.yu.decode(t),r=Number(n),isNaN(r)&&this.Tu("length string (".concat(n,") is not valid number")),e.next=9,this.Eu(r);case 9:return i=e.sent,e.abrupt("return",new rw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Iu",value:function(){var e=oe(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Au()<0)){e.next=7;break}return e.next=3,this.Ru();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Au())<0&&this.Tu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Eu",value:function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ru();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Tu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.yu.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tu",value:function(e){throw this.gu.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ru",value:function(){var e=oe(I().mark((function e(){var t,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gu.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mx=function(){function e(t){s(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return l(e,[{key:"lookup",value:function(){var e=oe(I().mark((function e(t){var n,r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ad(id.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=oe(I().mark((function e(t,n){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),i=Im(r.M)+"/documents",a={documents:n.map((function(e){return bm(r.M,e)}))},e.next=5,r.uo("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Cm(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());nd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Dv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=oe(I().mark((function e(){var t,n=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Hd.fromPath(t);n.mutations.push(new Lv(r,n.precondition(r)))})),e.next=7,function(){var e=oe(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rd(t),i=Im(r.M)+"/documents",a={writes:n.map((function(e){return Nm(r.M,e)}))},e.next=3,r.io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw td();t=xd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ad(id.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kv.updateTime(t):kv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xd.min()))throw new ad(id.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kv.updateTime(t)}return kv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),yx=function(){function e(t,n,r,i){s(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.bu=5,this.vo=new Gk(this.asyncQueue,"transaction_retry")}return l(e,[{key:"run",value:function(){this.bu-=1,this.Pu()}},{key:"Pu",value:function(){var e=this;this.vo.po(oe(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new mx(e.datastore),(r=e.Vu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.vu(t)}))}))})).catch((function(t){e.vu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Vu",value:function(e){try{var t=this.updateFunction(e);return!zd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"vu",value:function(e){var t=this;this.bu>0&&this.Su(e)?(this.bu-=1,this.asyncQueue.enqueueAndForget((function(){return t.Pu(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Su",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Fv(t)}return!1}}]),e}(),gx=function(){function e(t,n,r,i){var a=this;s(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zh.UNAUTHENTICATED,this.clientId=yd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $h("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return $h("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return l(e,[{key:"getConfiguration",value:function(){var e=oe(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ad(id.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new od;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=qb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function kx(e,t){return bx.apply(this,arguments)}function bx(){return bx=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),$h("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ek(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function wx(e,t){return xx.apply(this,arguments)}function xx(){return xx=oe(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,_x(t);case 3:return r=e.sent,$h("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Mb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Mb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function _x(e){return Ix.apply(this,arguments)}function Ix(){return Ix=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return $h("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,kx(t,new cx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Ex(e){return Sx.apply(this,arguments)}function Sx(){return Sx=oe(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return $h("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,wx(t,new hx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Tx(e){return _x(e).then((function(e){return e.persistence}))}function Cx(e){return _x(e).then((function(e){return e.localStore}))}function Nx(e){return Ex(e).then((function(e){return e.remoteStore}))}function Ax(e){return Ex(e).then((function(e){return e.syncEngine}))}function Ox(e){return Px.apply(this,arguments)}function Px(){return Px=oe(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ex(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=dw.bind(null,n.syncEngine),r.onUnlisten=yw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Rx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new px({next:function(a){t.enqueueAndForget((function(){return $b(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ad(id.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ad(id.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new nw(zp(n.path),a,{includeMetadataChanges:!0,Sa:!0});return Qb(e,o)},i.next=3,Ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Dx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new px({next:function(n){t.enqueueAndForget((function(){return $b(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ad(id.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new nw(n,a,{includeMetadataChanges:!0,Sa:!0});return Qb(e,o)},i.next=3,Ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Lx=new Map;function Mx(e,t,n){if(!n)throw new ad(id.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fx(e,t,n,r){if(!0===t&&!0===r)throw new ad(id.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function jx(e){if(!Hd.isDocumentKey(e))throw new ad(id.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ux(e){if(Hd.isDocumentKey(e))throw new ad(id.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":td()}function zx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ad(id.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vx(e);throw new ad(id.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Bx(e,t){if(t<=0)throw new ad(id.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var qx=function(){function e(t){var n;if(s(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ad(id.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ad(id.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Fx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return l(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Hx=function(){function e(t,n,r){s(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,t instanceof Vd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ad(id.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(e.options.projectId)}(t))}return l(e,[{key:"app",get:function(){if(!this._app)throw new ad(id.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ad(id.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sd;switch(e.type){case"gapi":var t=e.client;return nd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new hd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ad(id.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Lx.get(e);t&&($h("ComponentProvider","Removing Datastore"),Lx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Wx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zx(e,Hx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Jh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Zh.MOCK_USER;else{o=O(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ad(id.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Zh(s)}e._authCredentials=new cd(new ud(o,u))}}var Kx=function(){function e(t,n,r){s(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return l(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Gx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Zx=function(){function e(t,n,r){s(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return l(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Gx=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,zp(i)))._path=i,a.type="collection",a}return l(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Kx(this.firestore,null,new Hd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Zx);function Qx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),Mx("collection","path",t),e instanceof Hx){var a=Td.fromString.apply(Td,[t].concat(r));return Ux(a),new Gx(e,null,a)}if(!(e instanceof Kx||e instanceof Gx))throw new ad(id.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Td.fromString.apply(Td,[t].concat(r)));return Ux(o),new Gx(e.firestore,null,o)}function Yx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),1===arguments.length&&(t=yd.R()),Mx("doc","path",t),e instanceof Hx){var a=Td.fromString.apply(Td,[t].concat(r));return jx(a),new Kx(e,null,new Hd(a))}if(!(e instanceof Kx||e instanceof Gx))throw new ad(id.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Td.fromString.apply(Td,[t].concat(r)));return jx(o),new Kx(e.firestore,e instanceof Gx?e.converter:null,new Hd(o))}function $x(e,t){return e=X(e),t=X(t),(e instanceof Kx||e instanceof Gx)&&(t instanceof Kx||t instanceof Gx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xx(e,t){return e=X(e),t=X(t),e instanceof Zx&&t instanceof Zx&&e.firestore===t.firestore&&Yp(e._query,t._query)&&e.converter===t.converter}var Jx=function(){function e(){var t=this;s(this,e),this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Gk(this,"async_queue_retry"),this.Fu=function(){var e=Kk();e&&$h("AsyncQueue","Visibility state changed to "+e.visibilityState),t.vo.To()};var n=Kk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}return l(e,[{key:"isShuttingDown",get:function(){return this.xu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Bu(),this.Lu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;var t=Kk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Bu(),this.xu)return new Promise((function(){}));var n=new od;return this.Lu((function(){return t.xu&&t.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Cu.push(e),t.qu()}))}},{key:"qu",value:function(){var e=oe(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Cu.length){e.next=14;break}return e.prev=1,e.next=4,this.Cu[0]();case 4:this.Cu.shift(),this.vo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ky(e.t0)){e.next=12;break}throw e.t0;case 12:$h("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Cu.length>0&&this.vo.po((function(){return t.qu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Lu",value:function(e){var t=this,n=this.Du.then((function(){return t.Mu=!0,e().catch((function(e){t.ku=e,t.Mu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Xh("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Mu=!1,e}))}));return this.Du=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Bu(),this.$u.indexOf(e)>-1&&(t=0);var i=Bb.createAndSchedule(this,e,t,n,(function(e){return r.Uu(e)}));return this.Nu.push(i),i}},{key:"Bu",value:function(){this.ku&&td()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ku",value:function(){var e=oe(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Du,e.next=3,t;case 3:if(t!==this.Du){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Gu",value:function(e){var t,n=h(this.Nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Qu",value:function(e){var t=this;return this.Ku().then((function(){t.Nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=h(t.Nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ku()}))}},{key:"ju",value:function(e){this.$u.push(e)}},{key:"Uu",value:function(e){var t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}]),e}();function e_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=h(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var t_=function(){function e(){s(this,e),this._progressObserver={},this._taskCompletionResolver=new od,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return l(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),n_=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Jx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return l(n,[{key:"_terminate",value:function(){return this._firestoreClient||i_(this),this._firestoreClient.terminate()}}]),n}(Hx);function r_(e){return e._firestoreClient||i_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function i_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ud(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new gx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function a_(e,t,n){var r=new od;return e.asyncQueue.enqueue(oe(I().mark((function i(){return I().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,kx(e,n);case 3:return i.next=5,wx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===id.FAILED_PRECONDITION||e.code===id.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function o_(e){return function(e){return e.asyncQueue.enqueue(oe(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tx(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=rd(e);return t.ha.delete(0),tb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(r_(e=zx(e,n_)))}function u_(e){return function(e){return e.asyncQueue.enqueue(oe(I().mark((function t(){var n,r;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tx(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=rd(t)).ha.add(0),e.next=4,rb(n);case 4:n.da.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(r_(e=zx(e,n_)))}function s_(e,t){var n=r_(e=zx(e,n_)),r=new t_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new vx(e,t)}(function(e,t){if(e instanceof Uint8Array)return dx(e,t);if(e instanceof ArrayBuffer)return dx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Zk(t));e.asyncQueue.enqueueAndForget(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sx,t.next=3,Ax(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function c_(e,t){return function(e,t){return e.asyncQueue.enqueue(oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=rd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.fs.getNamedQuery(e,t)}))},n.next=3,Cx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(r_(e=zx(e,n_)),t).then((function(t){return t?new Zx(e,null,t.query):null}))}function l_(e){if(e._initialized||e._terminated)throw new ad(id.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var f_=function(){function e(){s(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ad(id.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nd(n)}return l(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var h_=function(){function e(t){s(this,e),this._byteString=t}return l(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Od.fromBase64String(t))}catch(t){throw new ad(id.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Od.fromUint8Array(t))}}]),e}(),d_=l((function e(t){s(this,e),this._methodName=t})),p_=function(){function e(t,n){if(s(this,e),!isFinite(t)||t<-90||t>90)throw new ad(id.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ad(id.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return l(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return gd(this._lat,e._lat)||gd(this._long,e._long)}}]),e}(),v_=/^__.*__$/,m_=function(){function e(t,n,r){s(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return l(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Cv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tv(e,this.data,t,this.fieldTransforms)}}]),e}(),y_=function(){function e(t,n,r){s(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return l(e,[{key:"toMutation",value:function(e,t){return new Cv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function g_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw td()}}var k_=function(){function e(t,n,r,i,a,o){s(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Wu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return l(e,[{key:"path",get:function(){return this.settings.path}},{key:"zu",get:function(){return this.settings.zu}},{key:"Hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ju",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Xu(e),r}},{key:"Zu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Hu({path:n,Yu:!1});return r.Wu(),r}},{key:"tc",value:function(e){return this.Hu({path:void 0,Yu:!0})}},{key:"ec",value:function(e){return U_(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Wu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}},{key:"Xu",value:function(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(g_(this.zu)&&v_.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}]),e}(),b_=function(){function e(t,n,r){s(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Zk(t)}return l(e,[{key:"ic",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new k_({zu:e,methodName:t,sc:n,path:Nd.emptyPath(),Yu:!1,nc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function w_(e){var t=e._freezeSettings(),n=Zk(e._databaseId);return new b_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function x_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ic(a.merge||a.mergeFields?2:0,t,n,i);L_("Data must be an object, but it was:",o,r);var u,s,c=R_(r,o);if(a.merge)u=new Ad(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=h(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var p=l.value,v=M_(t,p,n);if(!o.contains(v))throw new ad(id.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));V_(f,v)||f.push(v)}}catch(m){d.e(m)}finally{d.f()}u=new Ad(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new m_(new lp(c),u,s)}var __=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.zu)throw 1===e.zu?e.ec("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ec("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(d_);function I_(e,t,n){return new k_({zu:3,sc:t.settings.sc,methodName:e._methodName,Yu:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var E_=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"_toFieldTransform",value:function(e){return new yv(e.path,new cv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(d_),S_=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).rc=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=I_(this,e,!0),n=this.rc.map((function(e){return P_(e,t)})),r=new lv(n);return new yv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(d_),T_=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).rc=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=I_(this,e,!0),n=this.rc.map((function(e){return P_(e,t)})),r=new hv(n);return new yv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(d_),C_=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).oc=r,i}return l(n,[{key:"_toFieldTransform",value:function(e){var t=new pv(e.M,iv(e.M,this.oc));return new yv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(d_);function N_(e,t,n,r){var i=e.ic(1,t,n);L_("Data must be an object, but it was:",i,r);var a=[],o=lp.empty();Id(r,(function(e,r){var u=j_(t,e,n);r=X(r);var s=i.Zu(u);if(r instanceof __)a.push(u);else{var c=P_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ad(a);return new y_(o,u,i.fieldTransforms)}function A_(e,t,n,r,i,a){var o=e.ic(1,t,n),u=[M_(t,r,n)],s=[i];if(a.length%2!=0)throw new ad(id.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(M_(t,a[c])),s.push(a[c+1]);for(var l=[],f=lp.empty(),h=u.length-1;h>=0;--h)if(!V_(l,u[h])){var d=u[h],p=s[h];p=X(p);var v=o.Zu(d);if(p instanceof __)l.push(d);else{var m=P_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ad(l);return new y_(f,y,o.fieldTransforms)}function O_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return P_(n,e.ic(r?4:3,t))}function P_(e,t){if(D_(e=X(e)))return L_("Unsupported field value:",t,e),R_(e,t);if(e instanceof d_)return function(e,t){if(!g_(t.zu))throw t.ec("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ec("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Yu&&4!==t.zu)throw t.ec("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=h(e);try{for(a.s();!(n=a.n()).done;){var o=P_(n.value,t.tc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=X(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return iv(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=wd.fromDate(e);return{timestampValue:pm(t.M,n)}}if(e instanceof wd){var r=new wd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pm(t.M,r)}}if(e instanceof p_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof h_)return{bytesValue:vm(t.M,e._byteString)};if(e instanceof Kx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ec("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:gm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ec("Unsupported field value: ".concat(Vx(e)))}(e,t)}function R_(e,t){var n={};return Ed(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Id(e,(function(e,r){var i=P_(r,t.Ju(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function D_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wd||e instanceof p_||e instanceof h_||e instanceof Kx||e instanceof d_)}function L_(e,t,n){if(!D_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Vx(n);throw"an object"===r?t.ec(e+" a custom object"):t.ec(e+" "+r)}}function M_(e,t,n){if((t=X(t))instanceof f_)return t._internalPath;if("string"==typeof t)return j_(e,t);throw U_("Field path arguments must be of type string or ",e,!1,void 0,n)}var F_=new RegExp("[~\\*/\\[\\]]");function j_(e,t,n){if(t.search(F_)>=0)throw U_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(f_,(0,ie.Z)(t.split(".")))._internalPath}catch(r){throw U_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function U_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ad(id.INVALID_ARGUMENT,u+e+s)}function V_(e,t){return e.some((function(e){return e.isEqual(t)}))}var z_=function(){function e(t,n,r,i,a){s(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return l(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Kx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new B_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(q_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),B_=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(){return kt(m(n.prototype),"data",this).call(this)}}]),n}(z_);function q_(e,t){return"string"==typeof t?j_(e,t):t instanceof f_?t._internalPath:t._delegate._internalPath}var H_=function(){function e(t,n){s(this,e),this.hasPendingWrites=t,this.fromCache=n}return l(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),W_=function(e){v(n,e);var t=b(n);function n(e,r,i,a,o,u){var c;return s(this,n),(c=t.call(this,e,r,i,a,u))._firestore=e,c._firestoreImpl=e,c.metadata=o,c}return l(n,[{key:"exists",value:function(){return kt(m(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new K_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(q_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(z_),K_=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kt(m(n.prototype),"data",this).call(this,e)}}]),n}(W_),Z_=function(){function e(t,n,r,i){s(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new H_(i.hasPendingWrites,i.fromCache),this.query=r}return l(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new K_(n._firestore,n._userDataWriter,r.key,r,new H_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ad(id.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new K_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new H_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new K_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new H_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:G_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function G_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return td()}}function Q_(e,t){return e instanceof W_&&t instanceof W_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Z_&&t instanceof Z_&&e._firestore===t._firestore&&Xx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Y_(e){if(qp(e)&&0===e.explicitOrderBy.length)throw new ad(id.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $_=l((function e(){s(this,e)}));function X_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var J_=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).ac=e,a.uc=r,a.cc=i,a.type="where",a}return l(n,[{key:"_apply",value:function(e){var t=w_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ad(id.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){lI(o,a);var s,c=[],l=h(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(cI(r,e,f))}}catch(p){l.e(p)}finally{l.f()}u={arrayValue:{values:c}}}else u=cI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||lI(o,a),u=O_(n,"where",o,"in"===a||"not-in"===a);var d=Ep.create(i,a,u);return function(e,t){if(t.S()){var n=Wp(e);if(null!==n&&!n.isEqual(t.field))throw new ad(id.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Hp(e);null!==r&&fI(e,t.field,r)}var i=function(e,t){var n,r=h(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ad(id.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ad(id.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.ac,this.uc,this.cc);return new Zx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}($_);var eI=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).ac=e,i.hc=r,i.type="orderBy",i}return l(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ad(id.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ad(id.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lp(t,n);return function(e,t){if(null===Hp(e)){var n=Wp(e);null!==n&&fI(e,n,t.field)}}(e,r),r}(e._query,this.ac,this.hc);return new Zx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Up(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}($_);var tI=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.lc=r,a.fc=i,a}return l(n,[{key:"_apply",value:function(e){return new Zx(e.firestore,e.converter,Qp(e._query,this.lc,this.fc))}}]),n}($_);var nI=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return l(n,[{key:"_apply",value:function(e){var t=sI(e,this.type,this.dc,this._c);return new Zx(e.firestore,e.converter,function(e,t){return new Up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}($_);function rI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nI("startAt",t,!0)}function iI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nI("startAfter",t,!1)}var aI=function(e){v(n,e);var t=b(n);function n(e,r,i){var a;return s(this,n),(a=t.call(this)).type=e,a.dc=r,a._c=i,a}return l(n,[{key:"_apply",value:function(e){var t=sI(e,this.type,this.dc,this._c);return new Zx(e.firestore,e.converter,function(e,t){return new Up(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}($_);function oI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aI("endBefore",t,!1)}function uI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aI("endAt",t,!0)}function sI(e,t,n,r){if(n[0]=X(n[0]),n[0]instanceof z_)return function(e,t,n,r,i){if(!r)throw new ad(id.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=h(Zp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ep(t,r.key));else{var c=r.data.field(s.field);if(Md(c))throw new ad(id.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ad(id.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Dp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=w_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ad(id.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ad(id.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kp(e)&&-1!==c.indexOf("/"))throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Td.fromString(c));if(!Hd.isDocumentKey(l))throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Hd(l);u.push(ep(t,f))}else{var h=O_(n,r,c);u.push(h)}}return new Dp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function cI(e,t,n){if("string"==typeof(n=X(n))){if(""===n)throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kp(t)&&-1!==n.indexOf("/"))throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Td.fromString(n));if(!Hd.isDocumentKey(r))throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ep(e,new Hd(r))}if(n instanceof Kx)return ep(e,n._key);throw new ad(id.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Vx(n),"."))}function lI(e,t){if(!Array.isArray(e)||0===e.length)throw new ad(id.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ad(id.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function fI(e,t,n){if(!n.isEqual(t))throw new ad(id.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var hI=function(){function e(){s(this,e)}return l(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw td()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Id(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new p_(Dd(e.latitude),Dd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Fd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Rd(e);return new wd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Td.fromString(e);nd(Bm(n));var r=new Vd(n.get(1),n.get(3)),i=new Hd(n.popFirst(5));return r.isEqual(t)||Xh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function dI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var pI=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new h_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kx(this.firestore,null,t)}}]),n}(hI),vI=function(){function e(t,n){s(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=w_(t)}return l(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=mI(e,this._firestore),i=dI(r.converter,t,n),a=x_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,kv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=mI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof f_?A_(this._dataReader,"WriteBatch.update",i._key,t,n,o):N_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,kv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=mI(e,this._firestore);return this._mutations=this._mutations.concat(new Dv(t._key,kv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ad(id.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function mI(e,t){if((e=X(e)).firestore!==t)throw new ad(id.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var yI=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new h_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kx(this.firestore,null,t)}}]),n}(hI);function gI(e){e=zx(e,Kx);var t=zx(e.firestore,n_),n=r_(t),r=new yI(t);return function(e,t){var n=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=rd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ui.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ad(id.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=qb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new W_(t,r,e._key,n,new H_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kI(e){e=zx(e,Zx);var t=zx(e.firestore,n_),n=r_(t),r=new yI(t);return function(e,t){var n=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(I().mark((function e(t,n,r){var i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lk(t,n,!0);case 3:i=e.sent,a=new cw(n,i.hi),o=a.La(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=qb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Cx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Z_(t,r,e,n)}))}function bI(e,t,n){e=zx(e,Kx);var r=zx(e.firestore,n_),i=dI(e.converter,t,n);return II(r,[x_(w_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kv.none())])}function wI(e,t,n){e=zx(e,Kx);for(var r=zx(e.firestore,n_),i=w_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return II(r,[("string"==typeof(t=X(t))||t instanceof f_?A_(i,"updateDoc",e._key,t,n,o):N_(i,"updateDoc",e._key,t)).toMutation(e._key,kv.exists(!0))])}function xI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=X(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||e_(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(e_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Kx)l=zx(e.firestore,n_),f=zp(e._key.path),c={next:function(t){n[s]&&n[s](EI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=zx(e,Zx);l=zx(p.firestore,n_),f=p._query;var v=new yI(l);c={next:function(e){n[s]&&n[s](new Z_(l,v,p,e))},error:n[s+1],complete:n[s+2]},Y_(e._query)}return function(e,t,n,r){var i=new px(r),a=new nw(t,i,n);return e.asyncQueue.enqueueAndForget(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Qb,t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.mu(),e.asyncQueue.enqueueAndForget(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$b,t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(r_(l),f,h,c)}function _I(e,t){return function(e,t){var n=new px(t);return e.asyncQueue.enqueueAndForget(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rd(e).Ia.add(t),t.next()},t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.mu(),e.asyncQueue.enqueueAndForget(oe(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){rd(e).Ia.delete(t)},t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(r_(e=zx(e,n_)),e_(t)?t:{next:t})}function II(e,t){return function(e,t){var n=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=kw,r.next=3,Ax(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(r_(e),t)}function EI(e,t,n){var r=n.docs.get(t._key),i=new yI(e);return new W_(e,i,t._key,r,new H_(n.hasPendingWrites,n.fromCache),t.converter)}var SI=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r))._firestore=e,i}return l(n,[{key:"get",value:function(e){var t=this,r=mI(e,this._firestore),i=new yI(this._firestore);return kt(m(n.prototype),"get",this).call(this,e).then((function(e){return new W_(t._firestore,i,r._key,e._document,new H_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){s(this,e),this._firestore=t,this._transaction=n,this._dataReader=w_(t)}return l(e,[{key:"get",value:function(e){var t=this,n=mI(e,this._firestore),r=new pI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return td();var i=e[0];if(i.isFoundDocument())return new z_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new z_(t._firestore,r,n._key,null,n.converter);throw td()}))}},{key:"set",value:function(e,t,n){var r=mI(e,this._firestore),i=dI(r.converter,t,n),a=x_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=mI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof f_?A_(this._dataReader,"Transaction.update",i._key,t,n,o):N_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=mI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function TI(e,t){return function(e,t){var n=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function r(){var i;return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Ex(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new yx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(r_(e=zx(e,n_)),(function(n){return t(new SI(e,n))}))}function CI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new S_("arrayUnion",t)}function NI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new T_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Gh=e}(je),Oe(new ue("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new n_(i,new ld(e.getProvider("auth-internal")),new pd(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),He(Kh,"3.4.6",e),He(Kh,"3.4.6","esm2017")}();function AI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ad("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function OI(){if("undefined"===typeof Uint8Array)throw new ad("unimplemented","Uint8Arrays are not available in this environment.")}function PI(){if("undefined"==typeof atob)throw new ad("unimplemented","Blobs are unavailable in Firestore in this environment.")}var RI=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"toBase64",value:function(){return PI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return OI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return PI(),new e(h_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return OI(),new e(h_.fromUint8Array(t))}}]),e}();function DI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=h(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var LI=function(){function e(){s(this,e)}return l(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){l_(e=zx(e,n_));var n=r_(e),r=e._freezeSettings(),i=new hx;return a_(n,i,new lx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){l_(e=zx(e,n_));var t=r_(e),n=e._freezeSettings(),r=new hx;return a_(t,r,new fx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ad(id.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new od;return e._queue.enqueueAndForgetEvenWhileRestricted(oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=oe(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(my.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,my.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Zg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),MI=function(){function e(t,n,r){var i=this;s(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Vd||(this._appCompat=t)}return l(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Jh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Wx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return o_(this._delegate)}},{key:"disableNetwork",value:function(){return u_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Fx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new od;return e.asyncQueue.enqueueAndForget(oe(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Aw,n.next=3,Ax(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(r_(e=zx(e,n_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _I(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ad("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new YI(this,Qx(this._delegate,e))}catch(t){throw BI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new zI(this,Yx(this._delegate,e))}catch(t){throw BI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new ZI(this,function(e,t){if(e=zx(e,Hx),Mx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ad(id.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Zx(e,null,function(e){return new Up(Td.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return TI(this._delegate,(function(n){return e(new jI(t,n))}))}},{key:"batch",value:function(){var e=this;return r_(this._delegate),new UI(new vI(this._delegate,(function(t){return II(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return s_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return c_(this._delegate,e).then((function(e){return e?new ZI(t,e):null}))}}]),e}(),FI=function(e){v(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this)).firestore=e,r}return l(n,[{key:"convertBytes",value:function(e){return new RI(new h_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return zI.forKey(t,this.firestore,null)}}]),n}(hI);var jI=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new FI(t)}return l(e,[{key:"get",value:function(e){var t=this,n=$I(e);return this._delegate.get(n).then((function(e){return new WI(t._firestore,new W_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$I(e);return n?(AI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$I(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$I(e);return this._delegate.delete(t),this}}]),e}(),UI=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"set",value:function(e,t,n){var r=$I(e);return n?(AI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$I(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$I(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),VI=function(){function e(t,n,r){s(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return l(e,[{key:"fromFirestore",value:function(e,t){var n=new K_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new FI(t),n),i.set(n,a)),a}}]),e}();VI.INSTANCES=new WeakMap;var zI=function(){function e(t,n){s(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FI(t)}return l(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new YI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new YI(this.firestore,Qx(this._delegate,e))}catch(t){throw BI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=X(e))instanceof Kx&&$x(this._delegate,e)}},{key:"set",value:function(e,t){t=AI("DocumentReference.set",t);try{return t?bI(this._delegate,e,t):bI(this._delegate,e)}catch(n){throw BI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wI(this._delegate,e):wI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return II(zx(e.firestore,n_),[new Dv(e._key,kv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qI(n),a=HI(n,(function(t){return new WI(e.firestore,new W_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zx(e,Kx);var t=zx(e.firestore,n_);return Rx(r_(t),e._key,{source:"server"}).then((function(n){return EI(t,e,n)}))}(this._delegate):function(e){e=zx(e,Kx);var t=zx(e.firestore,n_);return Rx(r_(t),e._key).then((function(n){return EI(t,e,n)}))}(this._delegate),t.then((function(e){return new WI(n.firestore,new W_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ad("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Kx(n._delegate,r,new Hd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Kx(n._delegate,r,t))}}]),e}();function BI(e,t,n){return e.message=e.message.replace(t,n),e}function qI(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!DI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function HI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=DI(e[0])?e[0]:DI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WI=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"ref",get:function(){return new zI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Q_(this._delegate,e._delegate)}}]),e}(),KI=function(e){v(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return l(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||td()}(void 0!==t),t}}]),n}(WI),ZI=function(){function e(t,n){s(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FI(t)}return l(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,X_(this._delegate,function(e,t,n){var r=t,i=q_("where",e);return new J_(i,r,n)}(t,n,r)))}catch(i){throw BI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,X_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=q_("orderBy",e);return new eI(n,t)}(t,n)))}catch(r){throw BI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,X_(this._delegate,function(e){return Bx("limit",e),new tI("limit",e,"F")}(t)))}catch(n){throw BI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,X_(this._delegate,function(e){return Bx("limitToLast",e),new tI("limitToLast",e,"L")}(t)))}catch(n){throw BI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,X_(this._delegate,rI.apply(void 0,arguments)))}catch(t){throw BI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,X_(this._delegate,iI.apply(void 0,arguments)))}catch(t){throw BI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,X_(this._delegate,oI.apply(void 0,arguments)))}catch(t){throw BI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,X_(this._delegate,uI.apply(void 0,arguments)))}catch(t){throw BI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Xx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zx(e,Zx);var t=zx(e.firestore,n_),n=r_(t),r=new yI(t);return Dx(n,e._query,{source:"server"}).then((function(n){return new Z_(t,r,e,n)}))}(this._delegate):function(e){e=zx(e,Zx);var t=zx(e.firestore,n_),n=r_(t),r=new yI(t);return Y_(e._query),Dx(n,e._query).then((function(n){return new Z_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new QI(n.firestore,new Z_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qI(n),a=HI(n,(function(t){return new QI(e.firestore,new Z_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),GI=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new KI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),QI=function(){function e(t,n){s(this,e),this._firestore=t,this._delegate=n}return l(e,[{key:"query",get:function(){return new ZI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new KI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new GI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new KI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Q_(this._delegate,e._delegate)}}]),e}(),YI=function(e){v(n,e);var t=b(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return l(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new zI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new zI(this.firestore,void 0===e?Yx(this._delegate):Yx(this._delegate,e))}catch(t){throw BI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zx(e.firestore,n_),r=Yx(e),i=dI(e.converter,t);return II(n,[x_(w_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new zI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return $x(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(VI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(ZI);function $I(e){return zx(e,Kx)}var XI=function(){function e(){s(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=w(f_,n)}return l(e,[{key:"isEqual",value:function(e){return(e=X(e))instanceof f_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Nd.keyField().canonicalString())}}]),e}(),JI=function(){function e(t){s(this,e),this._delegate=t}return l(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new E_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new __("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=CI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=NI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new C_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),eE={Firestore:MI,GeoPoint:p_,Timestamp:wd,Blob:RI,Transaction:jI,WriteBatch:UI,DocumentReference:zI,DocumentSnapshot:WI,Query:ZI,QueryDocumentSnapshot:KI,QuerySnapshot:QI,CollectionReference:YI,FieldPath:XI,FieldValue:JI,setLogLevel:function(e){!function(e){Qh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ue("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},eE)))}(e,(function(e,t){return new MI(e,t,new LI)})),e.registerVersion("@firebase/firestore-compat","0.1.15")}(pt);var tE=pt.initializeApp({apiKey:"AIzaSyCF_JOS7E2qRJynjrvguKgPFpc_TTJSco0",authDomain:"portfolio-data-f1764.firebaseapp.com",projectId:"portfolio-data-f1764",storageBucket:"portfolio-data-f1764.appspot.com",messagingSenderId:"89478673305",appId:"1:89478673305:web:4e7ea8aeafc3df53959908",measurementId:"G-J88SNHK80K"}).firestore();var nE=function(){var e=(0,t.useState)(""),n=(0,o.Z)(e,2),r=n[0],a=n[1],u=(0,t.useState)(""),s=(0,o.Z)(u,2),c=s[0],l=s[1],f=(0,t.useState)(""),h=(0,o.Z)(f,2),d=h[0],p=h[1];return(0,i.jsx)("div",{className:"contact__complete",id:"contact",children:(0,i.jsxs)("div",{className:"contact",children:[(0,i.jsx)("h1",{children:"Contact"}),(0,i.jsxs)("div",{className:"contact__container",children:[(0,i.jsxs)("div",{className:"contact__info",children:[(0,i.jsx)("h2",{children:"If Not Now, When? Let\u2019s Work Together!"}),(0,i.jsx)("p",{children:"If you want to get in touch then contact me or just go through in last and check my email and if you wanna email me so you can do it too..."}),(0,i.jsx)("p",{className:"contact__signature",children:"Hritik Chouhan"}),(0,i.jsx)("p",{children:"Gmail Down below \ud83d\udc47"})]}),(0,i.jsx)("div",{className:"contact__form",children:(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),tE.collection("contacts").add({name:r,email:c,message:d}).then((function(){alert("Message has been send successfylly")})).catch((function(e){alert(e.message)})),a(""),l(""),p("")},children:[(0,i.jsx)("input",{type:"text",placeholder:"Full Name",value:r,onChange:function(e){return a(e.target.value)},minLength:5,required:!0}),(0,i.jsx)("input",{type:"email",placeholder:"Email Address",value:c,onChange:function(e){return l(e.target.value)},minLength:5,required:!0}),(0,i.jsx)("textarea",{type:"text",cols:"30",placeholder:"Your Message",value:d,onChange:function(e){return p(e.target.value)},minLength:10,required:!0,rows:"10"}),(0,i.jsx)("button",{type:"submit",className:"contact__button",children:"Send Message"})]})})]})]})})},rE=n(758),iE=n(310);var aE=function(){return(0,i.jsx)("div",{className:"footer",children:(0,i.jsxs)("div",{className:"footer__container",children:[(0,i.jsx)("img",{className:"footer__img",src:"images/logo1.webp",alt:"Portfolio"}),(0,i.jsx)("h2",{className:"footer__email",children:"hritikchouhan54@gmail.com"}),(0,i.jsx)("p",{children:"Roorkee Haridware , Uttrakhand"}),(0,i.jsx)("p",{children:"New Delhi , India"}),(0,i.jsxs)("div",{className:"footer__icon",children:[(0,i.jsx)("a",{target:"_blank",href:"https://github.com/gitHritik",children:(0,i.jsx)(rE.Z,{className:"footer__gitIcon"})}),(0,i.jsx)("a",{target:"_blank",href:"https://www.linkedin.com/in/hritik-chouhan-0522051b6/",children:(0,i.jsx)(iE.Z,{})})]})]})})},oE=n(582);var uE=function(){return(0,i.jsxs)("div",{className:"Intro__container",children:[(0,i.jsxs)("div",{className:"Intro__info",children:[(0,i.jsx)("h1",{className:"Intro__infoHeading",children:"Hello,Guys I am Hritik Chouhan"}),(0,i.jsx)("h2",{className:"Intro__aboutMe",children:"MERN-Stack Developer || C++"}),(0,i.jsx)("p",{className:"Intro__description",children:"I am a Full Stack developer with a lot of experience building websites and web applications. I specialize in React Js and javascript and have so much experience working with React.js and Node.js. I also have experience working with C++, Firebase, Tailwind Css and MongoDB."}),(0,i.jsxs)("div",{className:"Intro__buttons",children:[(0,i.jsx)(oE.Z,{to:"about",smooth:!0,duration:50,children:(0,i.jsx)("button",{className:"Intro__button",children:"Learn More"})}),(0,i.jsx)(oE.Z,{to:"contact",smooth:!0,duration:50,children:(0,i.jsx)("button",{className:"Intro__button1",children:"Hire Me"})})]})]}),(0,i.jsx)("div",{className:"Intro__profile",children:(0,i.jsx)("img",{src:"images/introImage1.png"})})]})};var sE=function(){return(0,i.jsx)("div",{className:"myskill__complete",id:"myskill",children:(0,i.jsxs)("div",{className:"main",children:[(0,i.jsx)("h1",{id:"sHeading",children:"My Skill"}),(0,i.jsx)("div",{className:"skillContainer",children:(0,i.jsxs)("div",{className:"lineUp",children:[(0,i.jsxs)("div",{className:"left",children:[(0,i.jsxs)("div",{className:"skillbox",children:[" ","Html:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills hundered"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","Css:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills seven"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","JavaScript:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills five"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","NodeJs:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills three"})]})]})]}),(0,i.jsxs)("div",{className:"right",children:[(0,i.jsxs)("div",{className:"skillbox",children:[" ","ReactJs:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills seven"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","MongoDB:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills hundered"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","C++:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills seven"})]})]}),(0,i.jsxs)("div",{className:"skillbox",children:[" ","Git:"," ",(0,i.jsxs)("div",{className:"totalRating",children:[" ",(0,i.jsx)("div",{className:"skills hundered"})]})]})]})]})})]})})},cE=n(8),lE=n(823);var fE=function(){var e=(0,t.useState)(!1),n=(0,o.Z)(e,2),r=n[0],a=n[1];return(0,i.jsx)("div",{className:"nav__container",id:"navbar",children:(0,i.jsxs)("nav",{children:[(0,i.jsx)(oE.Z,{to:"navbar",smooth:!0,duration:50,children:(0,i.jsx)("div",{className:"nav__logo",children:(0,i.jsx)("img",{src:"images/logo.webp",alt:"portfolio"})})}),(0,i.jsx)("div",{className:r?"image_componentsMobile":"image__components",onClick:function(){return a(!1)},children:(0,i.jsxs)("ul",{className:"image__component",children:[(0,i.jsx)(oE.Z,{to:"navbar",smooth:!0,duration:50,children:(0,i.jsx)("li",{children:"Home"})}),(0,i.jsx)(oE.Z,{to:"about",smooth:!0,duration:50,children:(0,i.jsx)("li",{children:"About"})}),(0,i.jsx)(oE.Z,{to:"service",smooth:!0,duration:50,children:(0,i.jsx)("li",{children:"Services"})}),(0,i.jsx)(oE.Z,{to:"myskill",smooth:!0,duration:50,children:(0,i.jsx)("li",{children:"My Skill"})}),(0,i.jsx)(oE.Z,{to:"contact",smooth:!0,duration:50,children:(0,i.jsx)("li",{children:"Contact me"})})]})}),(0,i.jsx)("button",{className:"navbar__humburger",onClick:function(){return a(!r)},children:r?(0,i.jsx)(lE.Z,{}):(0,i.jsx)(cE.Z,{})})]})})};var hE=function(){return(0,i.jsx)("div",{className:"services__complete",id:"service",children:(0,i.jsxs)("div",{className:"services",children:[(0,i.jsx)("h1",{children:"Services"}),(0,i.jsxs)("div",{className:"services__container",children:[(0,i.jsxs)("div",{className:"services__card",children:[(0,i.jsx)("div",{className:"services__img",children:(0,i.jsx)("img",{src:"images/web.svg",alt:""})}),(0,i.jsx)("div",{className:"services__heading",children:(0,i.jsx)("h5",{children:"Website Design"})}),(0,i.jsx)("div",{className:"services__description",children:(0,i.jsx)("p",{children:"I have a lot experience in web design i have design a lot website i will design any website realted to your content and i will just code the website the way you want.."})})]}),(0,i.jsxs)("div",{className:"services__card",children:[(0,i.jsx)("div",{className:"services__img",children:(0,i.jsx)("img",{src:"images/card2.svg",alt:""})}),(0,i.jsx)("div",{className:"services__heading",children:(0,i.jsx)("h5",{children:"App Development"})}),(0,i.jsx)("div",{className:"services__description",children:(0,i.jsx)("p",{children:"I will create the App the way you want i got the knowledge of React Native which i wil used for create your app i am very enthusiast for app development.."})})]}),(0,i.jsxs)("div",{className:"services__card",children:[(0,i.jsx)("div",{className:"services__img",children:(0,i.jsx)("img",{src:"images/card3.svg",alt:""})}),(0,i.jsx)("div",{className:"services__heading",children:(0,i.jsx)("h5",{children:"UI/UX Design"})}),(0,i.jsx)("div",{className:"services__description",children:(0,i.jsx)("p",{children:"UI/UX Design is the fundametal to create a website it is the first step to create website.Work closely with product management in UX ideation and innovation"})})]})]})]})})};var dE,pE=function(){return(0,i.jsxs)("div",{className:"app",children:[(0,i.jsx)(fE,{}),(0,i.jsx)(uE,{}),(0,i.jsx)(a,{}),(0,i.jsx)(hE,{}),(0,i.jsx)(sE,{}),(0,i.jsx)(nE,{}),(0,i.jsx)(aE,{})]})},vE=n(462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(dE||(dE={}));var mE=function(e){return e};var yE="beforeunload",gE="popstate";function kE(e){e.preventDefault(),e.returnValue=""}function bE(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function wE(){return Math.random().toString(36).substr(2,8)}function xE(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function _E(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IE(e,t){if(!e)throw new Error(t)}var EE=(0,t.createContext)(null);var SE=(0,t.createContext)(null);function TE(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?dE.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;CE()&&IE(!1);var h=AE(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=_E(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,I=void 0===_?"default":_,E=(0,t.useMemo)((function(){var e=NE(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:I}}),[h,m,g,b,x,I]);return null==E?null:(0,t.createElement)(EE.Provider,{value:d},(0,t.createElement)(SE.Provider,{children:a,value:{location:E,navigationType:s}}))}function CE(){return null!=(0,t.useContext)(SE)}function NE(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var AE=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function OE(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,mE({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(gE,(function(){if(a)f.call(a),a=null;else{var e=dE.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=dE.Pop,u=i(),s=u[0],c=u[1],l=bE(),f=bE();function h(e){return"string"===typeof e?e:xE(e)}function d(e,t){return void 0===t&&(t=null),mE((0,vE.Z)({pathname:c.pathname,hash:"",search:""},"string"===typeof e?_E(e):e,{state:t,key:wE()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();s=t[0],c=t[1],l.call({action:o,location:c})}function y(e){r.go(e)}null==s&&(s=0,r.replaceState((0,vE.Z)({},r.state,{idx:s}),""));var g={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=dE.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var u=p(o,s+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=dE.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,s),u=o[0],c=o[1];r.replaceState(u,"",c),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(yE,kE),function(){t(),f.length||n.removeEventListener(yE,kE)}}};return g}({window:i}));var u=a.current,s=(0,t.useState)({action:u.action,location:u.location}),c=(0,o.Z)(s,2),l=c[0],f=c[1];return(0,t.useLayoutEffect)((function(){return u.listen(f)}),[u]),(0,t.createElement)(TE,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:u})}r.render((0,i.jsx)(OE,{children:(0,i.jsx)(pE,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.e416e484.js.map